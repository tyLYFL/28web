webpackJsonp([529],{"674g":function(e,t){},"8/gN":function(e,t,i){"use strict";var r=i("//Fk"),s=i.n(r),n=i("t5DY"),o=i("CLqU"),a=i("0xDb");t.a={name:"WaitPrice",props:{dialogWaitPrice:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},formtitle:{type:String},reviseForm:{type:Object}},components:{},data:function(){return{remarkinfo:"例：免费0.25小时，每15分钟加收5元，不足15分钟按15分钟计价",cityTree:[],filterText:"",maxlengthNum:500,formLabelWidth:"80px",formLabelWidth2:"110px",loading:!1,btnShow:!1,optionsService:[],optionsCar:[],standForm:{waitPriceDes:"",freeTime:"",intervalTime:"",carType:"",serviceCode:"",timeOutstripPrice:"",cityId:""},serverCheckList:["AF01701"],carCheckList:[],defaultProps:{label:"name",children:"children"},newrules:{freeTime:[{required:!0,message:"请输入免费时长",trigger:"blur"}],intervalTime:[{required:!0,message:"请输入每间隔时长",trigger:"blur"}],timeOutstripPrice:[{required:!0,message:"请输入超时费用",trigger:"blur"}]},reviserules:{freeTime:[{required:!0,message:"请输入免费时长",trigger:"blur"}],intervalTime:[{required:!0,message:"请输入每间隔时长",trigger:"blur"}],timeOutstripPrice:[{required:!0,message:"请输入超时费用",trigger:"blur"}]}}},watch:{dialogWaitPrice:{handler:function(e,t){console.log("this.isModify",this.isModify),e&&!this.isModify?this.init():console.log("test",this.reviseForm)},deep:!0},filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){},methods:{init:function(){var t=this;s.a.all([Object(n.M)(),Object(n.p)(),Object(n._2)()]).then(function(e){t.optionsService=e[0].data,t.optionsCar=e[1].data,t.cityTree=e[2].data})},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},submitForm:function(){var s=this;if(this.isModify)this.$refs.ruleForm.validate(function(e){if(!e)return s.$message({type:"warning",message:"请填写完整数据"});s.btnShow=!0;var t=Object(a.i)({},s.reviseForm);Object(o.d)(t).then(function(e){s.close()}).catch(function(e){s.$message({type:"info",message:e.errorInfo}),s.btnShow=!1})});else{var n=this.$refs.tree.getCheckedNodes();if(!(0<n.length))return this.$message({type:"warning",message:"请选择省市~"});if(0==this.serverCheckList.length)return this.$message({type:"warning",message:"请选择服务分类~"});if(0==this.carCheckList.length)return this.$message({type:"warning",message:"请选择车辆类型~"});this.$refs.ruleForm.validate(function(e){var t=s.carCheckList.join(",");if(!e)return s.$message({type:"warning",message:"请填写完整数据"});s.btnShow=!0;var i=[];n.forEach(function(e){i.push(e.code)});var r=Object(a.i)({},s.standForm,{cityId:i.join(",")},{serviceCode:"AF01701",carType:t});console.log(r),Object(o.d)(r).then(function(e){s.close()}).catch(function(e){s.$message({type:"info",message:e.errorInfo}),s.btnShow=!1})})}},close:function(){this.$refs.ruleForm.resetFields(),this.$emit("update:dialogWaitPrice",!1),this.$emit("close"),this.btnShow=!1,"function"==typeof done&&done()}}}},CLqU:function(e,t,i){"use strict";t.c=function(e,t,i){return Object(r.a)({url:"/"+s+"/sm/aflcWaitPrice/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:i}})},t.a=function(e){return Object(r.a)({url:"/"+s+"/sm/aflcWaitPrice/v1/openOrForbidden",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/"+s+"/sm/aflcWaitPrice/v1/delete",method:"post",data:e})},t.d=function(e){return Object(r.a)({url:"/"+s+"/sm/aflcWaitPrice/v1/add",method:"post",data:e})};var r=i("Vo7i"),s="aflc-sm"},bksM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("8/gN"),s=i("xvlX");var n=function(e){i("674g")},o=i("VU/8")(r.a,s.a,n,null,null);t.default=o.exports},t5DY:function(e,t,i){"use strict";t._10=function(t){return t=t||"",n.a.get("/"+o+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return n.a.get("/"+o+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(n.a)({url:"/"+o+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(n.a)({url:"/"+o+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(n.a)({url:"/"+a+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new s.a(function(e){e(window.UPLOADPOLICYDATA)}):n.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return n.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return n.a.get("/"+a+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(n.a)({url:"/"+a+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return n.a.get("/"+a+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return n.a.get("/"+a+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return n.a.get("/"+o+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return n.a.get("/"+o+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return n.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return n.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(n.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(n.a)({url:"/"+o+"/system/user/v1/operate/staff",method:"post",data:e})};var r=i("//Fk"),s=i.n(r),n=i("Vo7i"),o="aflc-common",a="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},xvlX:function(e,t,i){"use strict";var r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"commoncss waitPrice"},[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:t.formtitle,"close-on-click-modal":!1,visible:t.dialogWaitPrice},on:{close:t.close}},[t.isModify?i("el-form",{ref:"ruleForm",attrs:{model:t.reviseForm,rules:t.reviserules,"label-width":t.formLabelWidth2,"label-position":"left"}},[i("div",{staticClass:"changeWait"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"当前城市：",prop:"carType"}},[i("el-input",{attrs:{disabled:""},model:{value:t.reviseForm.areaName,callback:function(e){t.$set(t.reviseForm,"areaName",e)},expression:"reviseForm.areaName"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"当前服务分类：",prop:"serviceName"}},[i("el-input",{attrs:{disabled:""},model:{value:t.reviseForm.serviceName,callback:function(e){t.$set(t.reviseForm,"serviceName",e)},expression:"reviseForm.serviceName"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"当前车辆类型：",prop:"carTypeName"}},[i("el-input",{attrs:{disabled:""},model:{value:t.reviseForm.carTypeName,callback:function(e){t.$set(t.reviseForm,"carTypeName",e)},expression:"reviseForm.carTypeName"}})],1)],1)],1),t._v(" "),i("el-row",{staticClass:"infowrite"},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"免费：",prop:"freeTime","label-width":"80px"}},[i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.reviseForm.freeTime,callback:function(e){t.$set(t.reviseForm,"freeTime",e)},expression:"reviseForm.freeTime"}},[i("template",{slot:"append"},[t._v("分钟")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"每间隔：",prop:"intervalTime","label-width":"80px"}},[i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.reviseForm.intervalTime,callback:function(e){t.$set(t.reviseForm,"intervalTime",e)},expression:"reviseForm.intervalTime"}},[i("template",{slot:"append"},[t._v("分钟")])],2)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"超时费用：",prop:"timeOutstripPrice","label-width":"90px"}},[i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.reviseForm.timeOutstripPrice,callback:function(e){t.$set(t.reviseForm,"timeOutstripPrice",e)},expression:"reviseForm.timeOutstripPrice"}},[i("template",{slot:"append"},[t._v("元")])],2)],1)],1)],1),t._v(" "),i("div",{staticClass:"additional "},[i("p",[t._v(t._s(t.remarkinfo))]),t._v(" "),i("el-form-item",{staticClass:"textArea",attrs:{label:"超时费用：",prop:"carType"}},[i("el-input",{attrs:{placeholder:"少于500字符",type:"textarea",autosize:{minRows:4,maxRows:10},clearable:"",maxlength:t.maxlengthNum},model:{value:t.reviseForm.waitPriceDes,callback:function(e){t.$set(t.reviseForm,"waitPriceDes",e)},expression:"reviseForm.waitPriceDes"}}),t._v(" "),i("p",{staticClass:"countNum"},[i("span",{},[t._v(t._s(t.reviseForm.waitPriceDes?t.reviseForm.waitPriceDes.length:0))]),t._v(" "),i("span",[t._v("/ "+t._s(t.maxlengthNum))])])],1)],1)],1)]):i("el-form",{ref:"ruleForm",staticClass:"newWait",attrs:{model:t.standForm,"label-width":t.formLabelWidth,rules:t.newrules}},[i("div",{staticClass:"threePass"},[i("div",{staticClass:"chooseAera chooseCommon"},[i("h4",[i("span",[t._v("* ")]),t._v(" 选择省市")]),t._v(" "),i("div",{staticClass:"eltree_search lesscommon"},[i("el-input",{staticClass:"el_search",attrs:{placeholder:"","suffix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),i("el-tree",{ref:"tree",attrs:{"show-checkbox":"",data:t.cityTree,props:t.defaultProps,"node-key":"code","highlight-current":!0,"filter-node-method":t.filterNode}})],1),t._v(" "),i("el-form-item",{attrs:{label:"免费：",prop:"freeTime"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{placeholder:"请输入内容",maxlength:"5",clearable:""},model:{value:t.standForm.freeTime,callback:function(e){t.$set(t.standForm,"freeTime",e)},expression:"standForm.freeTime"}},[i("template",{slot:"append"},[t._v("分钟")])],2)],1)],1),t._v(" "),i("div",{staticClass:"chooseServer chooseCommon"},[i("h4",[i("span",[t._v("* ")]),t._v(" 选择服务分类")]),t._v(" "),i("div",{staticClass:"lesscommon"},[i("el-checkbox-group",{model:{value:t.serverCheckList,callback:function(e){t.serverCheckList=e},expression:"serverCheckList"}},t._l(t.optionsService,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.code,disabled:"AF01701"!=e.code}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("el-form-item",{attrs:{label:"每间隔：",prop:"intervalTime"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"5",placeholder:"请输入内容",clearable:""},model:{value:t.standForm.intervalTime,callback:function(e){t.$set(t.standForm,"intervalTime",e)},expression:"standForm.intervalTime"}},[i("template",{slot:"append"},[t._v("分钟")])],2)],1)],1),t._v(" "),i("div",{staticClass:"chooseCar chooseCommon"},[i("h4",[i("span",[t._v("* ")]),t._v(" 选择车辆类型")]),t._v(" "),i("div",{staticClass:"lesscommon "},[i("el-checkbox-group",{model:{value:t.carCheckList,callback:function(e){t.carCheckList=e},expression:"carCheckList"}},t._l(t.optionsCar,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.code}},[t._v(t._s(e.name))])}))],1),t._v(" "),i("el-form-item",{attrs:{label:"超时费用：","label-width":"90px",prop:"timeOutstripPrice"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"5",placeholder:"请输入内容",clearable:""},model:{value:t.standForm.timeOutstripPrice,callback:function(e){t.$set(t.standForm,"timeOutstripPrice",e)},expression:"standForm.timeOutstripPrice"}},[i("template",{slot:"append"},[t._v("元")])],2)],1)],1)]),t._v(" "),i("div",{staticClass:"additional "},[i("p",[t._v(t._s(t.remarkinfo))]),t._v(" "),i("el-form-item",{staticClass:"textArea",attrs:{label:"费用说明：",prop:"waitPriceDes"}},[i("el-input",{attrs:{placeholder:"少于500字符",type:"textarea",autosize:{minRows:4,maxRows:10},clearable:"",maxlength:t.maxlengthNum},model:{value:t.standForm.waitPriceDes,callback:function(e){t.$set(t.standForm,"waitPriceDes",e)},expression:"standForm.waitPriceDes"}}),t._v(" "),i("p",{staticClass:"countNum"},[i("span",{},[t._v(t._s(t.standForm.waitPriceDes?t.standForm.waitPriceDes.length:0))]),t._v(" "),i("span",[t._v("/ "+t._s(t.maxlengthNum))])])],1)],1)]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:t.btnShow},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v(t._s(t.isModify?"保存":"确定"))]),t._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:t.close}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};t.a=r}});