webpackJsonp([294,561],{"1gLt":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("AfxM"),n=s("cWyk");var i=function(e){s("jCeU")},r=s("VU/8")(a.a,n.a,i,null,null);t.default=r.exports},"1onU":function(e,t,s){"use strict";var a=s("VT+v"),n=s("juIs");var i=function(e){s("ZdV2"),s("co/t")},r=s("VU/8")(a.a,n.a,i,"data-v-695be8cd",null);t.a=r.exports},"5Gxc":function(e,t){},"8C0S":function(e,t){},"9GWz":function(e,t,s){"use strict";var a=s("mvHQ"),n=s.n(a),i=s("nqxW"),r=s("1gLt"),o=s("1onU");t.a={components:{SearchForm:r.default,Pager:o.a},computed:{orgid:function(){return console.log(this.selectInfo.orgid,this.searchQuery.vo.orgid,this.otherinfo.orgid),this.isModify?this.selectInfo.orgid:this.searchQuery.vo.orgid||this.otherinfo.orgid}},mounted:function(){var t=this;this.searchQuery.vo.orgid=this.otherinfo.orgid,this.fetchAllCustomer(this.otherinfo.orgid).then(function(e){t.loading=!1})},data:function(){return{btnsize:"mini",usersArr:[],total:0,loading:!0,setupTableVisible:!1,AddCustomerVisible:!1,isModify:!1,selectInfo:{},selected:[],sizes:[20,50,100,400],searchQuery:{currentPage:1,pageSize:20,vo:{endAddress:"",strartAddress:""}}}},methods:{createNew:function(){this.$router.push("/carinfo/create")},fetchAllCustomer:function(){var t=this;return this.loading=!0,i.b(this.searchQuery).then(function(e){console.log("list:",e,e.list),t.usersArr=e.list,t.total=e.totalCount,t.loading=!1})},fetchData:function(){this.fetchAllCustomer()},handlePageChange:function(e){this.searchQuery.currentPage=e.pageNum,this.searchQuery.pageSize=e.pageSize},getSearchParam:function(e){this.searchQuery.vo=e,this.fetchAllCustomer()},showImport:function(){},setRemote:function(e,t){var s=this;return i.d(e,t).then(function(){s.fetchData()}).catch(function(e){s.$message.error("操作出错了： "+n()(e))})},enableItem:function(e,t){var s=this;return i.c(e,t).then(function(){s.fetchData()}).catch(function(e){s.$message.error("操作出错了： "+n()(e))})},doAction:function(e){var t=this;if("import"===e)return this.showImport(),!1;if(!this.selected.length&&"add"!==e)return this.closeAddCustomer(),this.$message({message:"请选择要操作的项~",type:"warning"}),!1;switch(console.log("this.selected:",this.selected),e){case"add":this.isModify=!1,this.selectInfo={},this.openAddCustomer();break;case"modify":this.isModify=!0,1<this.selected.length&&this.$message({message:"每次只能修改单条数据~",type:"warning"}),this.selectInfo=this.selected[0],this.openAddCustomer();break;case"delete":var s=1<this.selected.length?this.selected.length+"名":this.selected[0].carrierName,a=this.selected.map(function(e){return e.carrierId});a=a.join(","),this.$confirm("确定要删除 "+s+" 客户吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){t.$message({type:"info",message:"已取消删除"})});break;case"export":var n=this.selected.map(function(e){return e.carrierId});getExportExcel(n.join(",")).then(function(e){t.$message({type:"success",message:"即将自动下载!"})})}this.$refs.multipleTable.clearSelection()},deleteItem:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){i.a(e).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.fetchData()}).catch(function(e){t.$message({type:"info",message:e.errorInfo})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changeItem:function(e){this.$router.push("/carinfo/create?id="+e)},setTable:function(){this.setupTableVisible=!0},closeSetupTable:function(){this.setupTableVisible=!1},openAddCustomer:function(){this.AddCustomerVisible=!0},closeAddCustomer:function(){this.AddCustomerVisible=!1},clickDetails:function(e,t,s){this.$refs.multipleTable.toggleRowSelection(e)},getSelection:function(e){this.selected=e},onSubmit:function(){}}}},ARfz:function(e,t,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"carrier-manager identicalStyle"},[s("SearchForm",{attrs:{orgid:t.otherinfo.orgid,issender:!0,btnsize:t.btnsize},on:{change:t.getSearchParam}}),t._v(" "),s("div",{staticClass:"classify_info"},[s("div",{staticClass:"info_news"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.usersArr,stripe:"",border:"",height:"100%","tooltip-effect":"dark"},on:{"row-click":t.clickDetails,"selection-change":t.getSelection}},[s("el-table-column",{attrs:{label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((t.searchQuery.currentPage-1)*t.searchQuery.pageSize+e.$index+1)+"\n          ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"strartAddress",sortable:"",label:"出发地 -> 到达地"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.isCommonRoute?s("span",{staticClass:"vipline"}):t._e(),t._v("\n            "+t._s(e.row.strartAddress+"->"+e.row.endAddress)+"\n          ")]}}])}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"carNum",width:"200",label:"车牌号"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"carTypeName",width:"150",label:"车型"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"carSourceTypeName",width:"120",label:"150"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"createrName",width:"180",label:"创建人"}}),t._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"createTime",width:"200",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("parseTime")(e.row.createTime))+"\n          ")]}}])})],1)],1),t._v(" "),s("div",{staticClass:"info_tab_footer"},[t._v("共计:"+t._s(t.total)+" "),s("div",{staticClass:"show_pager"},[s("Pager",{attrs:{sizes:t.sizes,total:t.total},on:{change:t.handlePageChange}})],1)])])],1)},staticRenderFns:[]};t.a=a},AfxM:function(e,t,s){"use strict";var n=s("E4LH");t.a={props:{btnsize:{type:String,default:"mini"},orgid:{type:Number}},data:function(){var a=this;return{searchForm:{strartAddress:"",endAddress:""},rules:{mobile:[{validator:function(e,t,s){a.searchForm.mobile=t.replace(n.a.NO_NUMBER,""),s()},trigger:"change"}]}}},watch:{orgid:function(e){}},mounted:function(){},methods:{getOrgid:function(e){},onSubmit:function(){this.$emit("change",this.searchForm)},clearForm:function(){this.searchForm.strartAddress="",this.searchForm.endAddress=""}}}},E4LH:function(e,t,s){"use strict";t.b=function(e){return/^([0-9a-zA-Z\|\-\_]|[\u0391-\uFFE5]){2,}$/.test(e.trim())},t.c=function(e){return/^(13[0-9]|14[57]|15[01-37-9]|18[0235-9])\d{8}$/.test(e)},s.d(t,"a",function(){return a});var a={ONLY_CHINESE:/^[\u4E00-\u9FA5]+$/,CHINESE_AND_ENGLISH:/^[\u4E00-\u9FA5a-zA-Z]+$/,MOBILE:/^[1][3-9]\d{9}$/,ID_CARD:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,ENGLISH_AND_NUMBER:/^[a-zA-Z0-9]+$/,SPECIAL_CHARACTER:/([^0-9a-zA-Z\u4E00-\u9FA5])+/,FLOAT2ING:/^\d+(\.\d{0,2})?$/,EMAIL:/^[\w!#$%&\'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&\'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,ONLY_NUMBER:/^[0-9]+$/,ONLY_LETTER:/^[a-zA-Z]+$/,ONLY_PUNCTUATION:/^[~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_LETTER:/^[0-9a-zA-Z]+$/,PWD_NUMBER_AND_LETTER:/^[0-9a-zA-Z_#]{6,32}$/,ONLY_LETTER_AND_PUNCTUATION:/^[a-zA-Z~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_PUNCTUATION:/^[0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,LETTER_AND_NUMBER_AND_PUNCTUATION:/^[a-zA-Z0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_GT:/^[1-9]\d*$/,ONLY_NUMBER_POINT:/^\d*\.{0,1}\d{0,1}$/,ONLY_ONE_NUMBER:/^[1-9]\d{0,2}\.\d$|^0\.\d$/,ONLY_ENGLISH_NUMBER:/^[A-Za-z0-9_]+$/,TELEPHONE:/(^\d{3}-\d{8}$)|(^\d{4}-\d{7,8}$)/,TEL:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,ZIPCODE:/^[1-9]\d{5}(?!\d)$/,strlen:function(e){for(var t=0,s=0;s<e.length;s++)e.charAt(s).match(/[\u0391-\uFFE5]/)?t+=2:t++;return t}}},"VT+v":function(e,t,s){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,s=e.target;console.log("page keydown:",t,s),13===t&&this.oldValue&&s.value!==this.oldValue&&(this.handleChange(s.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},ZdV2:function(e,t){},cWyk:function(e,t,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-form",{staticClass:"classify_searchinfo clearfix",attrs:{inline:!0,size:t.btnsize,"label-position":"right",rules:t.rules,model:t.searchForm}},[s("el-form-item",{attrs:{label:"出发地："}},[s("el-input",{attrs:{placeholder:"",maxlength:"15",clearable:""},model:{value:t.searchForm.strartAddress,callback:function(e){t.$set(t.searchForm,"strartAddress",e)},expression:"searchForm.strartAddress"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"到达地："}},[s("el-input",{attrs:{placeholder:"",maxlength:"15",clearable:""},model:{value:t.searchForm.endAddress,callback:function(e){t.$set(t.searchForm,"endAddress",e)},expression:"searchForm.endAddress"}})],1),t._v(" "),s("el-form-item",{staticClass:"carrier_searchinfo--btn fr"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.onSubmit}},[t._v("搜索")]),t._v(" "),s("el-button",{attrs:{type:"info",icon:"fontFamily aflc-icon-qingkong",plain:""},on:{click:t.clearForm}},[t._v("重置")])],1)],1)},staticRenderFns:[]};t.a=a},"co/t":function(e,t){},jCeU:function(e,t){},jDmm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("9GWz"),n=s("ARfz");var i=function(e){s("5Gxc"),s("8C0S")},r=s("VU/8")(a.a,n.a,i,"data-v-4f00d3b6",null);t.default=r.exports},juIs:function(e,t,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tms-pagenation"},[s("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[s("span",{staticClass:"first-page"})]),s("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[s("span",{staticClass:"prev-page"})]),t._v(" "),s("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),s("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),s("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[s("span",{staticClass:"next-page"})]),t._v(" "),s("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[s("span",{staticClass:"last-page"})]),t._v(" "),s("span",{staticClass:"tms-pagination__sizes"},[s("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=a},nqxW:function(e,t,s){"use strict";t.a=function(e){return a.a.delete("/aflcusercenterservice/usercenter/aflcCarInfo/v1/delete/"+e)},t.b=function(e){return a.a.post("/"+n+"/usercenter/aflcCarInfo/v1/totalList",e).then(function(e){return e.data||{list:[],totalCount:0}})},t.c=function(e,t){return a.a.put("/aflcusercenterservice/usercenter/aflcCarInfo/v1/setEnableType/"+e+"/"+t)},t.d=function(e,t){return a.a.put("/aflcusercenterservice/usercenter/aflcCarInfo/v1/setRouteType/"+e+"/"+t)};var a=s("Vo7i"),n="aflc-uc"}});