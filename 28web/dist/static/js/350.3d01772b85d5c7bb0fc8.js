webpackJsonp([350,551],{"+LSE":function(t,e,n){"use strict";var s={render:function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"customerReportedDialog commoncss StyleNewinfoComponent"},[s("el-dialog",{ref:"dialog",attrs:{visible:n.isShowCustomerReportedDialog,"modal-append-to-body":!1,modal:!1,top:"30vh","close-on-click-modal":!1,"before-close":n.handleClose}},[s("el-form",{ref:"customerReportedForm",attrs:{model:n.customerReportedForm,"label-width":"150px"}},[s("el-row",{staticStyle:{"margin-bottom":"22px"}},[s("h2",{staticClass:"carNewinfoH2"},[n._v("\n          内部权益管理\n          "),s("p",{staticClass:"aflcBusinessBtn"},["view"==n.editType||n.chooseType?n._e():s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){n.handleClick("addItem")}}},[n._v("新增权益")]),n._v(" "),"view"!=n.editType&&n.chooseType?s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){n.handleClick("conserve")}}},[n._v("保存")]):n._e(),n._v(" "),"view"!=n.editType&&n.chooseType?s("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){n.handleClick("cancel")}}},[n._v("取消")]):n._e()],1)]),n._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:n.customerReportedForm.aflcBusinessInformationList,border:"",stripe:"",align:"center","tooltip-effect":"dark"}},[s("el-table-column",{attrs:{prop:"userStatusName",label:"权益类型"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.flag?s("div",[s("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){n.complateName(e.row.userStatus,e.$index)}},model:{value:e.row.userStatus,callback:function(t){n.$set(e.row,"userStatus",t)},expression:"scope.row.userStatus"}},n._l(n.optionsBusinessInterests,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1):s("span",[n._v(n._s(e.row.userStatusName))])]}}])}),n._v(" "),s("el-table-column",{attrs:{label:"所属组"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.flag?s("div",[s("businessGroup",{ref:"businessGroup",on:{inputObject:function(t){n.getObject(e.$index,t)}},model:{value:e.row.groupName,callback:function(t){n.$set(e.row,"groupName",t)},expression:"scope.row.groupName"}})],1):s("span",[n._v(n._s(e.row.groupName))])]}}])}),n._v(" "),s("el-table-column",{attrs:{label:"所属人"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.flag?s("div",[s("selectBelong",{attrs:{groupCode:e.row.groupCode,belongSalesman:e.row.belongSalesmanMobile},on:{returnBelong:function(t){n.getReturnBelong(t,e.$index)}}})],1):s("span",[n._v(n._s(e.row.belongSalesmanName))])]}}])}),n._v(" "),s("el-table-column",{attrs:{prop:"createTime",label:"操作时间"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v(n._s(n._f("parseTime")(t.row.createTime)))]}}])}),n._v(" "),s("el-table-column",{attrs:{prop:"creater",label:"操作人"}}),n._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:n._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"medium",type:"warning",disabled:!!e.row.id,plain:""},on:{click:function(t){n.handleClick("delet",e.$index)}}},[n._v("删除")])]}}])})],1)],1)],1),n._v(" "),s("el-row",{staticStyle:{"margin-bottom":"22px"}},[s("p",{staticClass:"aflcBusinessBtn"},["view"!==n.editType?s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(t){n.ChangeData(n.editType)}}},[n._v("确 定")]):n._e(),n._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:function(t){n.driverTemplateDialogFlag=!1}}},[n._v("取 消")])],1)])],1)],1)},staticRenderFns:[]};e.a=s},"2JQB":function(t,e){},"4Uw5":function(t,e,n){"use strict";var s=n("O6e2"),o=n("HlqG");e.a={props:{value:{type:[Number,String]},disabled:{type:Boolean,default:!1}},watch:{value:function(t){this.aid=t,this.init()}},mounted:function(){var t=this;this.aid=this.value,this.init(),s.a.$on("closepopbox",function(){t.$refs.myautocomplete.handleClose()})},computed:{openGroups:function(){return function e(t,n){var s=[];return t.map(function(t){t.index=n,s.push(t),t.children&&(s=s.concat(e(t.children,n+1)))}),s}(this.groups,1)}},data:function(){return{groups:[],aid:""}},methods:{init:function(){var e=this;Object(o.c)().then(function(t){e.groups=[],e.groups.push(t.data[0])}).catch(function(t){e.inited=!1})},change:function(t){this.$emit("change",t)},selectData:function(t){this.$emit("inputObject",t)},clearInput:function(){this.aid=null}}}},"9/ED":function(t,e,n){"use strict";var s=n("4Uw5"),o=n("gtxl");var i=function(t){n("2JQB")},r=n("VU/8")(s.a,o.a,i,null,null);e.a=r.exports},"97vc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("fAmh"),o=n("+LSE");var i=function(t){n("bhM2")},r=n("VU/8")(s.a,o.a,i,"data-v-752b331a",null);e.default=r.exports},D6Ed:function(t,e,n){"use strict";var s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.handleSelect,focus:e.handfocus},model:{value:e.belongSalesmanName,callback:function(t){e.belongSalesmanName=t},expression:"belongSalesmanName"}},e._l(e.restaurants,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.mobile}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.mobile))])])}))},staticRenderFns:[]};e.a=s},HlqG:function(t,e,n){"use strict";e.c=function(){return s.a.get("/"+o+"/usercenter/aflcBusinessGroup/v1/tree")},e.b=function(t){return Object(s.a)({url:"/"+o+"/usercenter/aflcBusinessGroupUser/v1/list",method:"post",data:t})},e.a=function(t){return Object(s.a)({url:"/"+o+"/usercenter/aflcBusinessGroup/v1/addGroupAndUsers",method:"post",data:t})},e.e=function(t){return Object(s.a)({url:"/"+o+"/usercenter/aflcBusinessGroup/v1/updateGroupAndUsers",method:"put",data:t})},e.d=function(t){return s.a.get("/"+o+"/usercenter/aflcBusinessGroup/v1/selectGroupAndUsers/"+t)};var s=n("Vo7i"),o="aflc-uc"},J8KV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("s/vT"),o=n("D6Ed");var i=function(t){n("yfsJ")},r=n("VU/8")(s.a,o.a,i,null,null);e.default=r.exports},bhM2:function(t,e){},fAmh:function(t,e,n){"use strict";var s=n("t5DY"),o=n("9/ED"),i=n("J8KV");e.a={name:"customerReportedDialog",props:{isShowCustomerReportedDialog:{type:Boolean,default:!1}},data:function(){return{optionsBusinessInterests:[],chooseType:!1,editType:"view",customerReportedForm:{mobile:"",aflcBusinessInformationList:[{flag:!0,userStatusName:"我是谁",userStatus:"",groupName:"组",groupCode:"",belongSalesmanMobile:"",belongSalesmanName:"所属人",createTime:"",creater:"我"}]}}},components:{businessGroup:o.a,selectBelong:i.default},created:function(){this.getMoreInformation(),this.aflcBusinessInformationList=[{flag:!0,userStatusName:"",userStatus:"",groupName:"",groupCode:"",belongSalesmanMobile:"",belongSalesmanName:"",createTime:"",creater:"我"}],console.log(this.aflcBusinessInformationList,"aflcBusinessInformationList")},methods:{handleClose:function(){this.handleClick("cancel")},handleClick:function(t,e){switch(t){case"conserve":var n=!1,s=this.customerReportedForm.aflcBusinessInformationList[this.customerReportedForm.aflcBusinessInformationList.length-1];if(""!=s.userStatus&&""!=s.groupCode&&""!=s.belongSalesman||(n=!0),n)return this.$message({type:"warning",message:"当前信息存在空值，不可保存!"});this.chooseType=!1,this.customerReportedForm.aflcBusinessInformationList[this.customerReportedForm.aflcBusinessInformationList.length-1].flag=!1,console.log("可提交");break;case"cancel":this.$parent.isShowCustomerReportedDialog=!1,this.customerReportedForm.aflcBusinessInformationList=[];break;case"delet":if(this.chooseType)return this.$message({type:"warning",message:"请先保存或取消当前编辑内容!"});this.customerReportedForm.aflcBusinessInformationList.splice(e,1)}},getObject:function(t,e){this.customerReportedForm.aflcBusinessInformationList[t].groupName=e.groupName,this.customerReportedForm.aflcBusinessInformationList[t].groupCode=e.groupCode;this.getReturnBelong({name:"",userId:"",mobile:""},t)},getReturnBelong:function(t,e){this.customerReportedForm.aflcBusinessInformationList[e].belongSalesmanName=t.name,this.customerReportedForm.aflcBusinessInformationList[e].belongSalesman=t.userId,this.customerReportedForm.aflcBusinessInformationList[e].belongSalesmanMobile=t.mobile,console.log(this.customerReportedForm.aflcBusinessInformationList)},complateName:function(e,t){this.customerReportedForm.aflcBusinessInformationList[t].userStatusName=this.optionsBusinessInterests.find(function(t){return t.code==e}).name},getMoreInformation:function(){var e=this;Object(s.l)().then(function(t){e.optionsBusinessInterests=t.data.filter(function(t){return"注册"!=t.name})})}}}},gtxl:function(t,e,n){"use strict";var s={render:function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("el-select",{ref:"myautocomplete",staticClass:"select-tree",attrs:{disabled:n.disabled},on:{change:n.change},model:{value:n.aid,callback:function(t){n.aid=t},expression:"aid"}},n._l(n.openGroups,function(e){return s("el-option",{key:e.id,attrs:{label:e.groupName,value:e.id}},[s("div",{class:"indent indent"+e.index,on:{click:function(t){n.selectData(e)}}},[n._v(n._s(e.groupName))])])}))},staticRenderFns:[]};e.a=s},"s/vT":function(t,e,n){"use strict";var s=n("HlqG");e.a={name:"selectBelong",props:{disabled:{type:Boolean},groupCode:{type:String},value:[String,Array],belongSalesman:{type:String}},data:function(){return{restaurants:[],belongSalesmanName:"",listSystemObj:{currentPage:1,pageSize:1e3,vo:{groupCode:""}}}},watch:{groupCode:{handler:function(t,e){this.listSystemObj.vo.groupCode=t||"",this.init()},immediate:!0},belongSalesman:{handler:function(t,e){this.belongSalesmanName=t||""},immediate:!0}},methods:{init:function(){var e=this;Object(s.b)(this.listSystemObj).then(function(t){e.restaurants=t.data.list,e.$forceUpdate()}).catch(function(t){})},handleSelect:function(e){var t=this.restaurants.filter(function(t){return t.mobile==e});this.$emit("returnBelong",t[0])},handfocus:function(){this.restaurants.length<1&&this.$message.warning("请先选择业务组~")}},mounted:function(){this.init()},beforeDestroy:function(){}}},t5DY:function(t,e,n){"use strict";e._10=function(e){return e=e||"",i.a.get("/"+r+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return i.a.get("/"+r+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(i.a)({url:"/"+r+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(i.a)({url:"/"+r+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(i.a)({url:"/"+c+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return i.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new o.a(function(t){t(window.UPLOADPOLICYDATA)}):i.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return i.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return i.a.get("/"+c+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(i.a)({url:"/"+c+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return i.a.get("/"+c+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return i.a.get("/"+c+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(i.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return i.a.get("/"+r+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return i.a.get("/"+r+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return i.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return i.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(i.a)({url:"/"+a+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(i.a)({url:"/"+r+"/system/user/v1/operate/staff",method:"post",data:t})};var s=n("//Fk"),o=n.n(s),i=n("Vo7i"),r="aflc-common",c="aflc-sm",a="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},yfsJ:function(t,e){}});