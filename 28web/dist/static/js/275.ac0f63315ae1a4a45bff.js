webpackJsonp([275],{"/hSK":function(e,t,a){"use strict";var n=a("bOdI"),i=a.n(n),s=a("0xDb"),o={};t.a={props:{formAll:{type:[Object,String,Array,Number]}},data:function(){return{marker:null,contextMenuPositon:[]}},methods:{loadMap:function(){var e=this;this.$nextTick(function(){Object(s.h)("https://webapi.amap.com/maps?v=1.4.10&key=e61aa7ddc6349acdb3b57c062080f730&plugin=AMap.CitySearch,AMap.Autocomplete,AMap.DistrictSearch,AMap.Geocoder,AMap.OverView,AMap.TruckDriving,AMap.Scale").then(function(){e.init()})})},init:function(){var n=this,t=new AMap.ContextMenu;o=new AMap.Map("AreaDividemap",{resizeEnable:!0,zoom:12});var e=new AMap.Autocomplete({input:"tipinput"});console.log("ddddda",e),o.on("rightclick",function(e){t.open(o,e.lnglat),n.contextMenuPositon=e.lnglat}),t.addItem("添加中心点",function(e){var a;n.clearMarker(),a=n.contextMenuPositon,new AMap.Geocoder({radius:500,extensions:"all"}).getAddress(a,function(e,t){"complete"===e&&"OK"===t.info?n.geocoder_CallBack(t,a):(n.clearMarker(),alert("获取不到当前位置的地址信息~"))})},3)},geocoder_CallBack:function(e,t){this.circleDraw(t),this.circleDraw2(t),this.marker=new AMap.Marker({map:o,position:t})},circleDraw:function(e){var t;o.clearMap(a);var a=new AMap.Circle((t={center:e,radius:5e3,borderWeight:3,strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:2},i()(t,"strokeOpacity",.2),i()(t,"fillOpacity",.4),i()(t,"strokeStyle","dashed"),i()(t,"strokeDasharray",[3,3]),i()(t,"fillColor","#1791fc"),i()(t,"zIndex",50),t));a.setMap(o)},circleDraw2:function(e){var t;new AMap.Circle((t={center:e,radius:4e3,borderWeight:3,strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:2},i()(t,"strokeOpacity",.2),i()(t,"fillOpacity",.4),i()(t,"strokeStyle","dashed"),i()(t,"strokeDasharray",[3,3]),i()(t,"fillColor","#1791fc"),i()(t,"zIndex",50),t)).setMap(o)},clearMarker:function(){this.marker&&(this.marker.setMap(null),this.marker=null)},setCity:function(){new AMap.Geocoder({}).getLocation(this.formAll.city+this.formAll.area,function(e,t){"complete"===e&&"OK"===t.info&&o.setCenter([t.geocodes[0].location.lng,t.geocodes[0].location.lat])})}},mounted:function(){this.loadMap()}}},"1onU":function(e,t,a){"use strict";var n=a("VT+v"),i=a("juIs");var s=function(e){a("ZdV2"),a("co/t")},o=a("VU/8")(n.a,i.a,s,"data-v-695be8cd",null);t.a=o.exports},A3bd:function(e,t,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chooseCityList"},[a("el-cascader",{ref:"cityTree",attrs:{options:t.cityTree,disabled:t.disabled,props:t.props},on:{change:t.handleItemMore},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)},staticRenderFns:[]};t.a=n},CEG7:function(e,t,a){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"AreaDividemapBox"},[t("input",{ref:"tipinput",attrs:{id:"tipinput"}}),this._v(" "),t("div",{attrs:{id:"AreaDividemap"}})])},staticRenderFns:[]};t.a=n},Cj1m:function(e,t,a){"use strict";t.d=function(e,t,a){return Object(n.a)({url:"/"+i+"/usercenter/aflcProfessionTradeArea/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:a}})},t.b=function(e){return Object(n.a)({url:"/"+i+"/usercenter/aflcProfessionTradeArea/v1/delete/"+e,method:"delete"})},t.a=function(e){return Object(n.a)({url:"/"+i+"/usercenter/aflcProfessionTradeArea/v1/enableOrDisable",method:"post",data:e})},t.e=function(e){return n.a.post("/"+i+"/usercenter/aflcProfessionTradeArea/v1/add",e)},t.f=function(e){return n.a.put("/"+i+"/usercenter/aflcProfessionTradeArea/v1/update",e)},t.c=function(e){return Object(n.a)({url:"/"+i+"/usercenter/aflcProfessionTradeArea/v1/"+e,method:"get"})};var n=a("Vo7i"),i="aflc-uc"},Dv1i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("uTWa"),i=a("qBxi");var s=function(e){a("Xiju")},o=a("VU/8")(n.a,i.a,s,null,null);t.default=o.exports},F6AQ:function(e,t,a){"use strict";var n=a("dMM8"),i=a("A3bd");var s=function(e){a("TpPc")},o=a("VU/8")(n.a,i.a,s,null,null);t.a=o.exports},TpPc:function(e,t){},"VT+v":function(e,t,a){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,a=e.target;console.log("page keydown:",t,a),13===t&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},Xiju:function(e,t){},ZdV2:function(e,t){},bofv:function(e,t){},"co/t":function(e,t){},dMM8:function(e,t,a){"use strict";var n=a("t5DY");t.a={name:"getAreaList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(e){this.nowData={province:null,city:null,area:null},e[0]&&(this.nowData.province={code:e[0],key:e[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),e[1]&&(this.nowData.city={code:e[1],key:e[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:e[0]}),e[2]&&(this.nowData.area={code:e[2],key:e[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:e[1]}),this.returnArr(this.nowData)},init:function(){var t=this;Object(n.Z)().then(function(e){t.cityTree=e.data})},returnArr:function(e){this.$emit("returnStr",e)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},juIs:function(e,t,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),t._v(" "),a("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),t._v(" "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[a("span",{staticClass:"last-page"})]),t._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=n},qBxi:function(e,t,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"identicalStyle AreaDivide",staticStyle:{height:"100%"}},[a("el-form",{staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"所在地"}},[a("GetCityList",{ref:"area",on:{returnStr:t.getStr},model:{value:t.formAllData.location,callback:function(e){t.$set(t.formAllData,"location",e)},expression:"formAllData.location"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"区域名称"}},[a("el-input",{model:{value:t.formAllData.professionTradeName,callback:function(e){t.$set(t.formAllData,"professionTradeName","string"==typeof e?e.trim():e)},expression:"formAllData.professionTradeName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.formAllData.professionTradeType,callback:function(e){t.$set(t.formAllData,"professionTradeType",e)},expression:"formAllData.professionTradeType"}},t._l(t.professionTradeTypeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code,disabled:e.disabled}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:t.formAllData.professionTradeOwner,callback:function(e){t.$set(t.formAllData,"professionTradeOwner","string"==typeof e?e.trim():e)},expression:"formAllData.professionTradeOwner"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{model:{value:t.formAllData.ownerPhone,callback:function(e){t.$set(t.formAllData,"ownerPhone","string"==typeof e?e.trim():e)},expression:"formAllData.ownerPhone"}})],1),t._v(" "),a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{type:"primary",plain:"",size:t.btnsize,icon:"el-icon-search"},on:{click:t.getData_query}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:"",size:t.btnsize,icon:"fontFamily aflc-icon-qingkong"},on:{click:t.clearSearch}},[t._v("清空")])],1)],1),t._v(" "),a("div",{staticClass:"classify_info"},[a("div",{staticClass:"btns_box"},[a("el-button",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_ADD",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_ADD"}],attrs:{type:"primary",value:"value",plain:"",icon:"el-icon-circle-plus",size:t.btnsize},on:{click:function(e){t.openDialogAdd()}}},[t._v("新增")]),t._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_UPDATE",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_UPDATE"}],attrs:{type:"primary",value:"value",plain:"",icon:"el-icon-edit",size:t.btnsize},on:{click:function(e){t.openDialogEdit()}}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_USE",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_USE"}],attrs:{type:"primary",plain:"",icon:"el-icon-bell",size:t.btnsize},on:{click:t.handleUseStates}},[t._v("启用/停用")]),t._v(" "),a("el-button",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_DELETE",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_DELETE"}],attrs:{type:"primary",plain:"",icon:"el-icon-delete",size:t.btnsize},on:{click:t.delete_data}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"info_news"},[a("el-table",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_LIST",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_LIST"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",height:"100%",data:t.tableDataAll,"highlight-current-row":"","tooltip-effect":"dark"},on:{"selection-change":t.getSelection,"row-click":t.clickDetails}},[a("el-table-column",{attrs:{label:"选择",type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",sortable:"",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                         "+t._s((t.page-1)*t.pagesize+e.$index+1)+"\n                        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"区域名称",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.professionTradeName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型",prop:"professionTradeTypeName",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"所在地",prop:"location",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"professionTradeOwner",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"联系号码",prop:"ownerPhone",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"业务员数量",prop:"",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(1==e.row.usingStatus?"启用":"禁用")+"\n        ")]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info_tab_footer"},[t._v("共计:"+t._s(t.dataTotal)+" "),a("div",{staticClass:"show_pager"},[a("Pager",{directives:[{name:"has",rawName:"v-has:BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_LIST",arg:"BUSINESS_AREA_MANAGE_AREA_DIVISION_MANAGE_LIST"}],ref:"pager",attrs:{total:t.dataTotal,sizes:t.sizes},on:{change:t.handlePageChange}})],1)])]),t._v(" "),a("div",{staticClass:"AreaDivideDialog commoncss"},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:t.dialogFormVisible_add,"before-close":t.change,top:"3vh",title:t.btntitle,closeOnClickModal:!1}},[a("el-form",{ref:"formAll",attrs:{model:t.formAll,rules:t.rulesForm,"label-width":t.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域名称 ：",prop:"professionTradeName"}},[a("el-input",{attrs:{disabled:"view"==t.editType},model:{value:t.formAll.professionTradeName,callback:function(e){t.$set(t.formAll,"professionTradeName",e)},expression:"formAll.professionTradeName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域所属类型 ：",prop:"professionTradeType"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.formAll.professionTradeType,callback:function(e){t.$set(t.formAll,"professionTradeType",e)},expression:"formAll.professionTradeType"}},t._l(t.professionTradeTypeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code,disabled:e.disabled}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人 ："}},[a("el-input",{attrs:{disabled:"view"==t.editType},model:{value:t.formAll.professionTradeOwner,callback:function(e){t.$set(t.formAll,"professionTradeOwner",e)},expression:"formAll.professionTradeOwner"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系号码 ："}},[a("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{disabled:"view"==t.editType,maxlength:11},model:{value:t.formAll.ownerPhone,callback:function(e){t.$set(t.formAll,"ownerPhone",e)},expression:"formAll.ownerPhone"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},["add"===t.editType||t.selectFlag?a("span",[a("el-form-item",{attrs:{label:"所在区域 ：",prop:"location"}},[a("GetCityList",{ref:"area1",on:{returnStr:t.getStr2},model:{value:t.formAll.location,callback:function(e){t.$set(t.formAll,"location",e)},expression:"formAll.location"}})],1)],1):a("span",[a("el-form-item",{attrs:{label:"所在区域 ：",prop:"location"}},[a("el-input",{attrs:{placeholder:"请选择",disabled:"view"==t.editType},on:{focus:t.changeSelect},model:{value:t.formAll.location,callback:function(e){t.$set(t.formAll,"location",e)},expression:"formAll.location"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中心区域详细地址 ：",prop:"address"}},[a("el-input",{ref:"centerAdress",attrs:{disabled:"view"==t.editType,id:"centerAdress"},model:{value:t.formAll.address,callback:function(e){t.$set(t.formAll,"address",e)},expression:"formAll.address"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{label:"围栏半径范围（米）：",prop:"centerPointRadius"}},[a("el-input",{attrs:{disabled:"view"==t.editType},on:{blur:t.centerPointRadiusBlur},model:{value:t.formAll.centerPointRadius,callback:function(e){t.$set(t.formAll,"centerPointRadius",e)},expression:"formAll.centerPointRadius"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{label:"允许打卡范围（米）：",prop:"punchClockRangeRadius"}},[a("el-input",{attrs:{disabled:"view"==t.editType},on:{blur:t.punchClockRangeRadiusBlur},model:{value:t.formAll.punchClockRangeRadius,callback:function(e){t.$set(t.formAll,"punchClockRangeRadius",e)},expression:"formAll.punchClockRangeRadius"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"商圈地理围栏 ："}},[a("div",{attrs:{id:"AreaDividemap"}})])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer"},["add"==t.editType?a("el-button",{attrs:{type:"primary"},on:{click:t.add_data}},[t._v("确 定")]):t._e(),t._v(" "),"edit"==t.editType?a("el-button",{attrs:{type:"primary"},on:{click:t.edit_data}},[t._v("确 定")]):t._e(),t._v(" "),a("el-button",{on:{click:function(e){t.close()}}},[t._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]};t.a=n},t5DY:function(e,t,a){"use strict";t._10=function(t){return t=t||"",s.a.get("/"+o+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return s.a.get("/"+o+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(s.a)({url:"/"+o+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(s.a)({url:"/"+o+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(s.a)({url:"/"+r+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return s.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new i.a(function(e){e(window.UPLOADPOLICYDATA)}):s.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return s.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return s.a.get("/"+r+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(s.a)({url:"/"+r+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return s.a.get("/"+r+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return s.a.get("/"+r+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(s.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return s.a.get("/"+o+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return s.a.get("/"+o+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return s.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return s.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(s.a)({url:"/"+l+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(s.a)({url:"/"+o+"/system/user/v1/operate/staff",method:"post",data:e})};var n=a("//Fk"),i=a.n(n),s=a("Vo7i"),o="aflc-common",r="aflc-sm",l="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},uTWa:function(e,t,a){"use strict";var n=a("bOdI"),i=a.n(n),s=a("Cj1m"),o=a("t5DY"),r=a("F6AQ"),l=a("O6e2"),c=a("1onU"),u=a("0xDb"),d=a("v24t"),f={};t.a={data:function(){var n=this;return{btnStatus:!0,loading:!1,btnsize:"mini",selectRowData:{},selectId:[],sizes:[20,50,100,400],pagesize:20,page:1,totalCount:null,dataTotal:0,tableDataAll:[],radio:1,professionTradeTypeList:[],formAllData:{professionTradeName:null,location:null,professionTradeType:null,professionTradeOwner:null,ownerPhone:null},formAll:{professionTradeName:null,professionTradeType:null,professionTradeOwner:null,ownerPhone:null,areaCode:null,area:null,city:null,province:null,location:null,address:null,centerPoint:null,centerPointRadius:0,punchClockRangeRadius:0},centerPoint:[],rulesForm:{professionTradeName:{required:!0,message:"区域名称不能为空",trigger:"change"},professionTradeType:{required:!0,message:"区域所属类型不能为空",trigger:"change"},location:{required:!0,message:"所在区域 不能为空",trigger:"change"},address:{required:!0,message:"中心区域详细地址不能为空",trigger:"change"},centerPointRadius:{validator:function(e,t,a){0==t?a(new Error("请输入大于零的数")):a()},trigger:"change",required:!0},punchClockRangeRadius:{validator:function(e,t,a){0==t?a(new Error("请输入大于零的数")):parseInt(t)>parseInt(n.formAll.centerPointRadius)?a(new Error("允许打卡范围不能大于围栏半径范围")):a()},trigger:"change",required:!0}},selectFlag:null,formLabelWidth:"190px",dialogFormVisible_add:!1,btntitle:"",editType:"",editstatus:"0",marker:null,contextMenuPositon:[]}},components:{Pager:c.a,GetCityList:r.a,AreaDividemap:d.a},watch:{dialogFormVisible_add:{handler:function(e,t){e?(this.btnStatus=!0,this.$refs.formAll&&this.$refs.formAll.resetFields(),this.loadMap()):(this.formAll={professionTradeName:null,professionTradeType:null,professionTradeOwner:null,ownerPhone:null,areaCode:null,area:null,city:null,province:null,location:null,address:null,centerPoint:null,centerPointRadius:0,punchClockRangeRadius:0},this.selectFlag=null,this.$refs.area1&&(this.$refs.area1.clearData(),this.$refs.formAll.resetFields()))}}},methods:{getStr:function(e){this.formAllData.location=e.area.name},getStr2:function(e){this.formAll.areaCode=e.area.code,this.formAll.area=e.area.name,this.formAll.city=e.city.name,this.formAll.province=e.province.name,this.formAll.location=e.province.name+e.city.name+e.area.name,this.setCity()},getMoreInformation:function(){var t=this;Object(o._12)("AF06801").then(function(e){t.professionTradeTypeList=e.data})},firstblood:function(){var t=this;Object(s.d)(this.page,this.pagesize,this.formAllData).then(function(e){t.dataTotal=e.data.totalCount,t.tableDataAll=e.data.list,t.loading=!1})},getData_query:function(){this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page,this.firstblood()},clearSearch:function(){this.formAllData={professionTradeName:null,location:null,professionTradeType:null,professionTradeOwner:null,ownerPhone:null},1!=this.page&&(this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page),this.$refs.area.clearData(),this.firstblood()},openDialogAdd:function(){this.dialogFormVisible_add=!0,this.btntitle="创建",this.editType="add",this.editstatus="0"},openDialogEdit:function(){var t=this;if(this.selectRowData.length)return 0==this.selectRowData.length&&"add"!==this.editType?(this.$message.warning("请选择您要操作的区域"),!1):1<this.selectRowData.length&&"add"!==this.editType?(this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.getDataList(),!1):(Object(s.c)(this.selectRowData[0].id).then(function(e){t.formAll=e.data,t.centerPoint=t.formAll.centerPoint.split(","),t.setCity(),t.geocoder_CallBack(t.centerPoint)}),this.dialogFormVisible_add=!0,this.btntitle="修改",this.editType="edit",void(this.editstatus="1"));this.$message.warning("请选择您要操作的区域")},change:function(){this.dialogFormVisible_add=!1,this.getDataList()},close:function(){this.dialogFormVisible_add=!1,this.getDataList()},changeSelect:function(){this.selectFlag="1"},getSelection:function(e){console.log("选中内容",e),this.selectRowData=e},clickDetails:function(e,t,a){this.$refs.multipleTable.toggleRowSelection(e)},handlePageChange:function(e){this.page=e.pageNum,this.pagesize=e.pageSize,this.firstblood()},delete_data:function(){0!=this.selectRowData.length?1<this.selectRowData.length?(this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.$refs.multipleTable.clearSelection()):this.delDataInformation():this.$message.warning("请选择您要操作的数据")},delDataInformation:function(){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.b)(t.selectRowData[0].id).then(function(e){t.$message.success("删除成功"),t.firstblood(),t.$refs.multipleTable.clearSelection()}).catch(function(e){t.firstblood(),t.$refs.multipleTable.clearSelection(),t.$message({type:"info",message:e.text})})}).catch(function(){t.firstblood(),t.$refs.multipleTable.clearSelection(),t.$message({type:"info",message:"已取消"})})},handleUseStates:function(){var t=this;0!=this.selectRowData.length?1<this.selectRowData.length?(this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.$refs.multipleTable.clearSelection()):(this.selectId.push(this.selectRowData[0].id),Object(s.a)(this.selectId).then(function(e){t.selectId.splice(0,1),1==t.selectRowData[0].usingStatus?t.$message.warning("已禁用"):t.$message.success("已启用"),t.firstblood(),t.$refs.multipleTable.clearSelection()})):this.$message.warning("请选择您要操作的数据")},centerPointRadiusBlur:function(){0<this.centerPoint.length&&this.geocoder_CallBack(this.centerPoint)},punchClockRangeRadiusBlur:function(){0<this.centerPoint.length&&this.geocoder_CallBack(this.centerPoint)},add_data:function(){var t=this;this.$refs.formAll.validate(function(e){e&&(t.formAll.centerPoint?t.btnStatus&&(t.btnStatus=!1,t.$message.info("修改中..."),Object(s.e)(t.formAll).then(function(e){t.$message.success("新增成功"),t.dialogFormVisible_add=!1,t.firstblood()}).catch(function(e){t.$message.error(e.text),t.dialogFormVisible_add=!1})):t.$message.error("请在地图上点击增加中心点"))})},edit_data:function(){var t=this;this.$refs.formAll.validate(function(e){e&&(t.formAll.centerPoint?t.btnStatus&&(t.btnStatus=!1,t.$message.info("修改中..."),Object(s.f)(t.formAll).then(function(e){t.$message.success("修改成功"),t.dialogFormVisible_add=!1,t.firstblood()}).catch(function(e){t.$message.error(e.text),t.dialogFormVisible_add=!1})):t.$message.error("请在地图上点击增加中心点"))})},getDataList:function(){this.firstblood(),this.$refs.multipleTable.clearSelection()},loadMap:function(){var e=this;this.$nextTick(function(){Object(u.h)("https://webapi.amap.com/maps?v=1.4.10&key=e61aa7ddc6349acdb3b57c062080f730&plugin=AMap.CitySearch,AMap.Autocomplete,AMap.DistrictSearch,AMap.Geocoder,AMap.OverView,AMap.TruckDriving,AMap.Scale").then(function(){e.init()})})},init:function(){var n=this,t=new AMap.ContextMenu;f=new AMap.Map("AreaDividemap",{resizeEnable:!0,zoom:12});var e=new AMap.Autocomplete({input:"centerAdress"});AMap.event.addListener(e,"select",function(e){n.centerPoint=[e.poi.location.lng,e.poi.location.lat],n.formAll.address=e.poi.district+e.poi.name,n.formAll.centerPoint=e.poi.location.lng+","+e.poi.location.lat,n.geocoder_CallBack(n.centerPoint),f.setCenter([e.poi.location.lng,e.poi.location.lat])}),f.on("rightclick",function(e){t.open(f,e.lnglat),n.contextMenuPositon=e.lnglat}),t.addItem("添加中心点",function(e){var a;n.clearMarker(),a=n.contextMenuPositon,new AMap.Geocoder({radius:500,extensions:"all"}).getAddress(a,function(e,t){"complete"===e&&"OK"===t.info?(n.formAll.centerPoint=a.lng+","+a.lat,n.formAll.address=t.regeocode.formattedAddress,n.centerPoint=[a.lng,a.lat],n.geocoder_CallBack(n.centerPoint)):(n.clearMarker(),alert("获取不到当前位置的地址信息~"))})},3)},geocoder_CallBack:function(e){this.circleDraw(e),this.circleDraw2(e),this.marker=new AMap.Marker({map:f,position:e})},circleDraw:function(e){var t;f.clearMap(a);var a=new AMap.Circle((t={center:e,radius:this.formAll.centerPointRadius,borderWeight:3,strokeColor:"#FF33FF",strokeOpacity:1,strokeWeight:2},i()(t,"strokeOpacity",.8),i()(t,"fillOpacity",.1),i()(t,"strokeStyle","dashed"),i()(t,"strokeDasharray",[3,3]),i()(t,"fillColor","#1791fc"),i()(t,"zIndex",50),t));a.setMap(f)},circleDraw2:function(e){var t;new AMap.Circle((t={center:e,radius:this.formAll.punchClockRangeRadius,borderWeight:3,strokeColor:"#0588c3",strokeOpacity:1,strokeWeight:2},i()(t,"strokeOpacity",.8),i()(t,"fillOpacity",.1),i()(t,"strokeStyle","dashed"),i()(t,"strokeDasharray",[3,3]),i()(t,"fillColor","#FF0000"),i()(t,"zIndex",50),t)).setMap(f)},clearMarker:function(){this.marker&&(this.marker.setMap(null),this.marker=null)},setCity:function(){new AMap.Geocoder({}).getLocation(this.formAll.city+this.formAll.area,function(e,t){"complete"===e&&"OK"===t.info&&f.setCenter([t.geocodes[0].location.lng,t.geocodes[0].location.lat])})}},mounted:function(){var e=this;l.a.$on("pushListtwo",function(){e.firstblood()}),this.getMoreInformation(),this.firstblood()}}},v24t:function(e,t,a){"use strict";var n=a("/hSK"),i=a("CEG7");var s=function(e){a("bofv")},o=a("VU/8")(n.a,i.a,s,null,null);t.a=o.exports}});