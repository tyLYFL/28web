webpackJsonp([502],{"1onU":function(t,e,a){"use strict";var s=a("VT+v"),n=a("juIs");var i=function(t){a("ZdV2"),a("co/t")},l=a("VU/8")(s.a,n.a,i,"data-v-695be8cd",null);e.a=l.exports},Hn98:function(t,e){},PgU0:function(t,e,a){"use strict";var s={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"TwoColumns clearfix"},[s("div",{staticClass:"columnsContainer"},[s("div",{staticClass:"side_right"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"业务员手机号码"}},[s("el-input",{attrs:{placeholder:"业务员手机号码"},model:{value:a.phone,callback:function(t){a.phone=t},expression:"phone"}})],1),a._v(" "),s("el-form-item",{staticClass:"fr"},[s("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search",plain:""},on:{click:function(t){a.search()}}},[a._v("查询")]),a._v(" "),s("el-button",{attrs:{type:"info",size:"mini",icon:"fontFamily aflc-icon-qingkong",plain:""},on:{click:function(t){a.clear()}}},[a._v("清空")])],1)],1),a._v(" "),s("div",{staticClass:"side_right_bottom clearfix"},[s("div",{staticClass:"info_news"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.tableData,stripe:"",border:"",height:"100%","tooltip-effect":"dark"}},[s("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(t.$index+1))]}}])}),a._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"salesmanName",label:"业务员姓名"}}),a._v(" "),s("el-table-column",{attrs:{prop:"salesmanMobile",sortable:"",label:"业务员手机号码"}}),a._v(" "),s("el-table-column",{attrs:{sortable:"",label:"参加考卷分类"},scopedSlots:a._u([{key:"default",fn:function(t){return[s("div",[a._v(a._s(t.row.course))])]}}])}),a._v(" "),s("el-table-column",{attrs:{prop:"testpaperName",sortable:"",label:"参加考卷名称"}}),a._v(" "),s("el-table-column",{attrs:{prop:"startTime",sortable:"",label:"参加考试日期"}}),a._v(" "),s("el-table-column",{attrs:{"min-width":"50",sortable:"",label:"考试结果"},scopedSlots:a._u([{key:"default",fn:function(t){return["P"===t.row.status?s("div",[a._v("通过")]):a._e(),a._v(" "),"F"===t.row.status?s("div",[a._v("未通过")]):a._e()]}}])}),a._v(" "),s("el-table-column",{attrs:{sortable:"",label:"考试分数"},scopedSlots:a._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text"},on:{click:function(t){a.open(e.row)}}},[a._v(a._s(e.row.score)+"分")])]}}])})],1)],1)])],1)]),a._v(" "),s("div",{staticClass:"info_tab_footer"},[a._v("\n    共计:"+a._s(a.dataTotal)+"\n    "),s("div",{staticClass:"show_pager"},[s("Pager",{ref:"pager",attrs:{total:a.dataTotal},on:{change:a.handlePageChange}})],1)]),a._v(" "),s("div",{staticClass:"commoncss"},[s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,visible:a.dialogFormVisible,width:"1200px"},on:{"update:visible":function(t){a.dialogFormVisible=t},close:a.closeClick}},[s("el-row",{staticClass:"top"},[s("el-col",{attrs:{span:6}},[s("div",[a._v("业务员: "+a._s(a.formData.salesmanName))])]),a._v(" "),s("el-col",{attrs:{span:6}},[s("div",[a._v("手机号码: "+a._s(a.formData.salesmanMobile))])]),a._v(" "),s("el-col",{attrs:{span:6}},[s("div",[a._v("考试日期:"+a._s(a.formData.startTime))])]),a._v(" "),s("el-col",{attrs:{span:6}},[s("div",[a._v("得分:"+a._s(a.formData.score)+"分")])])],1),a._v(" "),s("div",{staticClass:"side_right_bottom clearfix"},[s("div",{staticClass:"info_news"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.tableData1,stripe:"",border:"","tooltip-effect":"dark"}},[s("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s((a.page-1)*a.pagesize+t.$index+1))]}}])}),a._v(" "),s("el-table-column",{attrs:{prop:"questionType1",sortable:"",label:"题目类型"}}),a._v(" "),s("el-table-column",{attrs:{prop:"questionTitle",sortable:"",label:"考试题目"}}),a._v(" "),s("el-table-column",{attrs:{sortable:"",label:"考试选项"},scopedSlots:a._u([{key:"default",fn:function(t){return a._l(t.row.contentList1,function(t,e){return s("div",{key:e},[a._v(a._s(t))])})}}])}),a._v(" "),s("el-table-column",{attrs:{sortable:"",label:"考试答案"},scopedSlots:a._u([{key:"default",fn:function(t){return a._l(t.row.answerList1,function(t,e){return s("div",{key:e},[a._v(a._s(t))])})}}])}),a._v(" "),s("el-table-column",{attrs:{sortable:"",label:"业务员选择答案"},scopedSlots:a._u([{key:"default",fn:function(t){return a._l(t.row.errorAnswerList1,function(t,e){return s("div",{key:e},[a._v(a._s(t))])})}}])}),a._v(" "),s("el-table-column",{attrs:{"min-width":"50",sortable:"",label:"得分"},scopedSlots:a._u([{key:"default",fn:function(t){return["P"===t.row.errorAnswer?s("div",[a._v(a._s(t.row.score))]):a._e()]}}])}),a._v(" "),s("el-table-column",{attrs:{prop:"score","min-width":"50",sortable:"",label:"题目分数"}})],1)],1)]),a._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){a.dialogFormVisible=!1}}},[a._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};e.a=s},UmQp:function(t,e,a){"use strict";var s=a("Vo7i"),n=a("1onU");e.a={data:function(){return{loading:!1,dialogFormVisible:!1,phone:"",page:1,pagesize:20,dataTotal:0,tableData:[],tableData1:[],formData:{salesmanName:"",salesmanMobile:"",startTime:"",score:""}}},components:{Pager:n.a},created:function(){this.getList()},mounted:function(){},methods:{closeClick:function(){this.formData={salesmanName:"",salesmanMobile:"",startTime:"",score:""},this.tableData1=[]},handlePageChange:function(t){this.page=t.pageNum,this.pagesize=t.pageSize,this.getList()},getList:function(){var e=this;this.loading=!0,Object(s.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaperrecord/v1/recordList?salesman="+this.phone+"&pageNum="+this.page+"&pageSize="+this.pagesize,method:"post",data:{}}).then(function(t){200===t.status&&(e.tableData=t.data.list,e.dataTotal=t.data.total,e.loading=!1)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},open:function(t){var e=this;this.dialogFormVisible=!0,this.loading=!0;var i=["A.","B.","C.","D.","E.","F.","G."],l=["A","B","C","D","E","F","G"];this.formData={salesmanName:t.salesmanName,salesmanMobile:t.salesmanMobile,startTime:t.startTime,score:t.score},console.log(t),Object(s.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaperrecord/v1/viewTestResult?recordId="+t.id+"&pageNum=1&pageSize=500",method:"post",data:{}}).then(function(t){200===t.status&&(t.data.list.forEach(function(t){"duo"===t.questionType?t.questionType1="多选题":t.questionType1="单选题";var a=[],s=[],n=[];t.questionContentList.forEach(function(t,e){a.push(i[e]+t)}),null!==t.errorAnswerList&&t.errorAnswerList.forEach(function(a,t){l.forEach(function(t,e){a===e&&n.push(l[a])})}),t.rightAnswerList.forEach(function(a,t){i.forEach(function(t,e){a===e&&s.push(l[a])})}),t.contentList1=a,t.answerList1=s,t.errorAnswerList1=n}),e.tableData1=t.data.list,e.loading=!1)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},search:function(){this.page=1,this.getList()},clear:function(){this.phone="",this.page=1,this.getList()}}}},"VT+v":function(t,e,a){"use strict";e.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(t){this.oldValue=t.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(t){this.pageNum=t,this.changeEvent()},handleSizeChange:function(t){this.size=t,this.changeEvent()},handleChange:function(t){var e=parseInt(t,10);isNaN(e)?this.inputval=1:e<1?this.inputval=1:e>this.pages?this.inputval=this.pages:this.inputval=e},handleBlur:function(t){var e=t.target;this.handleChange(e.value),this.jumpTo(this.inputval)},handleKeyup:function(t){var e=t.keyCode,a=t.target;console.log("page keydown:",e,a),13===e&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(t){console.log("d",this.inputval),t<1?this.pageNum=1:t>this.pages?this.pageNum=this.pages:this.pageNum=t,this.changeEvent()}}}},ZdV2:function(t,e){},a1ob:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("UmQp"),n=a("PgU0");var i=function(t){a("Hn98")},l=a("VU/8")(s.a,n.a,i,"data-v-073d7929",null);e.default=l.exports},"co/t":function(t,e){},juIs:function(t,e,a){"use strict";var s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),e._v(" "),a("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keydown:function(t){return e.handleKeyup(t)}},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),e._v(" "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[a("span",{staticClass:"last-page"})]),e._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizesChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])},staticRenderFns:[]};e.a=s}});