webpackJsonp([427],{"1onU":function(e,t,a){"use strict";var r=a("VT+v"),i=a("juIs");var n=function(e){a("ZdV2"),a("co/t")},s=a("VU/8")(r.a,i.a,n,"data-v-695be8cd",null);t.a=s.exports},JS2T:function(e,t,a){"use strict";a("0xDb");var r=a("1onU"),i=(a("0xDb"),a("OSbF"));t.a={name:"transaction",components:{Pager:r.a},props:{isvisible:{type:Boolean,default:!1}},data:function(){return{size:[20,30,50],serviceType:[{name:"小货车",iscur:!0},{name:"发物流",iscur:!1},{name:"大货车",iscur:!1}],driverObj:{currentPage:1,pageSize:10,vo:{shipperId:""}},historyTradeDriversObj:{currentPage:1,pageSize:10,vo:{shipperId:""}},historyTradeDriversList:[],collectionDriversList:[],driverShipperData:[],driverTotalCount:0,equityConfigDto:{},page:1,pagesize:20,totalCount:100,loading:!1,dialogVisible:!1,currentOrderSerial:""}},watch:{isvisible:{handler:function(e,t){e&&this.init()},immediate:!0}},mounted:function(){},methods:{init:function(){var e=this.$route.query.userId;this.driverObj.vo.shipperId=e,this.historyTradeDriversObj.vo.shipperId=e,this.historyTradeDriversFuctiosn(),this.CollectionDriversFunctions(e)},DriverShipperList:function(){var t=this;Object(i.f)(this.driverObj).then(function(e){t.driverShipperData=e.data.list,t.driverTotalCount=e.data.totalCount})},handleCurrentChangeDriver:function(e){this.driverObj.currentPage=e,this.DriverShipperList()},historyTradeDriversFuctiosn:function(){var t=this;Object(i.i)(this.historyTradeDriversObj).then(function(e){t.historyTradeDriversList=e.data.list})},CollectionDriversFunctions:function(e){var t=this;Object(i.d)(e).then(function(e){t.collectionDriversList=e.data})},handleClick:function(e,t){switch(t){case"historyTradeDrivers":this.historyTradeDriversObj.currentPage=e,this.historyTradeDriversFuctiosn()}},EquityConfigDto:function(e){var t=this;Object(i.g)(e).then(function(e){t.equityConfigDto=e.data})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e)},setCur:function(a){console.log(a),this.serviceType.forEach(function(e,t){console.log(t),e.iscur=t==a})}}}},OSbF:function(e,t,a){"use strict";t.k=function(e){return Object(r.a)({url:"/"+i+"/order/aflcOrderComplain/v1/list",method:"post",data:e})},t.l=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrderEvaluation/v1/orderEvaList",method:"post",data:e})},t.e=function(e){return Object(r.a)({url:"/"+n+"/sm/aflcCouponUse/v1/listDetail",method:"post",data:e})},t.o=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcRecharge/v1/list",method:"post",data:e})},t.h=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcShipper/v1/findAflcFinancialStatement/"+e,method:"get"})},t.n=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrder/v1/orderInfo/"+e,method:"get"})},t.m=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrder/v1/shipperOrderManageList",method:"post",data:e})},t.f=function(e){return Object(r.a)({url:"/"+o+"/dispatch/aflcDriverShipper/v1/list",method:"post",data:e})},t.g=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcShipper/v1/findEquityConfigDto/"+e,method:"get"})},t.q=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcShipper/v1/findAflcShipperManageByShipperId/"+e,method:"get"})},t.i=function(e){return Object(r.a)({url:"/"+o+"/dispatch/aflcDriverStatus/v1/historyTradeDriver",method:"post",data:e})},t.d=function(e){return Object(r.a)({url:"/"+o+"/dispatch/aflcDriverShipper/v1/shipperDateCollectDriverList/"+e,method:"get"})},t.c=function(e){return Object(r.a)({url:"/"+o+"/dispatch/aflcDriverShipper/v1/list",method:"post",data:e})},t.p=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrder/v1/shipperCancelList",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcBankCard/v1/list",method:"post",data:e})},t.r=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrderPayment/v1/shipperOrderPaymentList",method:"post",data:e})},t.s=function(e){return Object(r.a)({url:"/"+s+"/usercenter/aflcUserReward/v1/userRewardList",method:"post",data:e})},t.j=function(e){return Object(r.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/listCouponTotal",method:"post",data:e})},t.a=function(e){return Object(r.a)({url:"/"+n+"/sm/aflcCouponUse/v1/getCouponNumByUserId/"+e,method:"get"})},t.t=function(e){return Object(r.a)({url:"/"+n+"/sm/aflcDistributeReward/v1/shipperRewardStatisticsInfo/"+e,method:"get"})},t.u=function(e){return Object(r.a)({url:"/"+o+"/order/aflcOrder/v1/shipperDateTradeDetail/"+e,method:"get"})};var r=a("Vo7i"),i="aflc-order",n="aflc-sm",s="aflc-uc",o="aflc-order"},U69g:function(e,t){},"VT+v":function(e,t,a){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,a=e.target;console.log("page keydown:",t,a),13===t&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},ZYd1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("JS2T"),i=a("btwN");var n=function(e){a("U69g")},s=a("VU/8")(r.a,i.a,n,null,null);t.default=s.exports},ZdV2:function(e,t){},btwN:function(e,t,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"transaction detailsArrange"},[a("div",{staticClass:"bindCar-collapse collapseInfo"},[a("h2",[t._v("历史交易车主")]),t._v(" "),a("div",{staticClass:"essentialInformation_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.historyTradeDriversList,border:""}},[a("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s((t.historyTradeDriversObj.currentPage-1)*t.historyTradeDriversObj.pageSize+e.$index+1)+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"belongCityName",label:"认证所在地"}}),t._v(" "),a("el-table-column",{attrs:{prop:"driverId",label:"车主信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.driverName?e.row.driverName:"")+t._s(e.row.driverMobile?"-"+e.row.driverMobile:"")+t._s(e.row.carNumber?"-"+e.row.carNumber:"")+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"belongSalesmanName",label:"所属业务员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"交易单数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalAmount",label:"交易金额"}})],1),t._v(" "),a("el-pagination",{attrs:{background:"","page-sizes":t.size,layout:"total,prev, pager, next, jumper",total:t.driverTotalCount},on:{"current-change":function(e){return t.handleClick(e,"historyTradeDrivers")}}})],1)]),t._v(" "),a("div",{staticClass:"bindCar-collapse collapseInfo"},[a("h2",[t._v("收藏司机")]),t._v(" "),a("div",{staticClass:"essentialInformation_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.collectionDriversList,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"driverId",label:"司机信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.driverName?e.row.driverName:"")+t._s(e.row.driverMobile?"-"+e.row.driverMobile:"")+t._s(e.row.carNumber?"-"+e.row.carNumber:"")+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"carType",label:"车型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"belongCityName",label:"认证所属区域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"belongSalesmanName",label:"所属业务员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"belongCustomerService",label:"所属客服"}}),t._v(" "),a("el-table-column",{attrs:{width:"150",prop:"orderNum",label:"交易单数"}})],1)],1)])])},staticRenderFns:[]};t.a=r},"co/t":function(e,t){},juIs:function(e,t,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),t._v(" "),a("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),t._v(" "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[a("span",{staticClass:"last-page"})]),t._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=r}});