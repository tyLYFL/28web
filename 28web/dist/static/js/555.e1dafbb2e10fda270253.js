webpackJsonp([555],{CiqI:function(e,t,r){"use strict";r("0xDb");var a=r("OSbF");t.a={name:"ordersInfo",components:{},props:{isvisible:{type:Boolean,default:!1}},data:function(){return{sizes:[10,20,50,100],orderState:{},orderType:[{name:"全部",label:"",iscur:!0},{name:"已完成",label:"AF00807",iscur:!1},{name:"已取消",label:"AF00808",iscur:!1}],page:1,pagesize:20,totalCount:100,orderObj:{currentPage:1,pageSize:10,vo:{shipperId:"",startDate:"",endDate:"",parentOrderStatus:""}},cancelOrderObj:{currentPage:1,pageSize:10,vo:{shipperId:""}},cancelOrderList:[],cancelOrderTotalCount:0,orderData:[],orderTotalCount:0,orderTime:[],loading:!1,dialogVisible:!1,currentOrderSerial:""}},watch:{isvisible:{handler:function(e,t){e&&this.init()},immediate:!0}},mounted:function(){},methods:{init:function(){var e=this.$route.query.userId;this.orderObj.vo.shipperId=e,this.cancelOrderObj.vo.shipperId=e,this.OrderState(e),this.OrderList(),this.cancelOrder()},OrderState:function(e){var t=this;Object(a.n)(e).then(function(e){t.orderState=e.data})},OrderList:function(){var t=this;Object(a.m)(this.orderObj).then(function(e){t.orderData=e.data.list,t.orderTotalCount=e.data.totalCount})},cancelOrder:function(){var t=this;Object(a.p)(this.cancelOrderObj).then(function(e){t.cancelOrderList=e.data.list,t.cancelOrderTotalCount=e.data.totalCount})},handleClick:function(e,t){switch(t){case"cancel":this.cancelOrderObj.currentPage=e,this.cancelOrder();break;case"complete":this.orderObj.currentPage=e,this.OrderList()}},handleSizeChange:function(e,t){switch(t){case"cancel":this.cancelOrderObj.pageSize=e,this.cancelOrder();break;case"complete":this.orderObj.pageSize=e,this.OrderList()}},setCur:function(r,e){this.orderType.forEach(function(e,t){e.iscur=t==r}),this.orderObj.vo.parentOrderStatus=e,this.OrderList()},orderTimeVal:function(e){this.orderObj.vo.startDate=e?e[0]:"",this.orderObj.vo.endDate=e?e[1]:"",this.OrderList()}}}},OSbF:function(e,t,r){"use strict";t.k=function(e){return Object(a.a)({url:"/"+l+"/order/aflcOrderComplain/v1/list",method:"post",data:e})},t.l=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrderEvaluation/v1/orderEvaList",method:"post",data:e})},t.e=function(e){return Object(a.a)({url:"/"+o+"/sm/aflcCouponUse/v1/listDetail",method:"post",data:e})},t.o=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcRecharge/v1/list",method:"post",data:e})},t.h=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcShipper/v1/findAflcFinancialStatement/"+e,method:"get"})},t.n=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrder/v1/orderInfo/"+e,method:"get"})},t.m=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrder/v1/shipperOrderManageList",method:"post",data:e})},t.f=function(e){return Object(a.a)({url:"/"+s+"/dispatch/aflcDriverShipper/v1/list",method:"post",data:e})},t.g=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcShipper/v1/findEquityConfigDto/"+e,method:"get"})},t.q=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcShipper/v1/findAflcShipperManageByShipperId/"+e,method:"get"})},t.i=function(e){return Object(a.a)({url:"/"+s+"/dispatch/aflcDriverStatus/v1/historyTradeDriver",method:"post",data:e})},t.d=function(e){return Object(a.a)({url:"/"+s+"/dispatch/aflcDriverShipper/v1/shipperDateCollectDriverList/"+e,method:"get"})},t.c=function(e){return Object(a.a)({url:"/"+s+"/dispatch/aflcDriverShipper/v1/list",method:"post",data:e})},t.p=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrder/v1/shipperCancelList",method:"post",data:e})},t.b=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcBankCard/v1/list",method:"post",data:e})},t.r=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrderPayment/v1/shipperOrderPaymentList",method:"post",data:e})},t.s=function(e){return Object(a.a)({url:"/"+n+"/usercenter/aflcUserReward/v1/userRewardList",method:"post",data:e})},t.j=function(e){return Object(a.a)({url:"/"+o+"/sm/aflcCouponActivity/v1/listCouponTotal",method:"post",data:e})},t.a=function(e){return Object(a.a)({url:"/"+o+"/sm/aflcCouponUse/v1/getCouponNumByUserId/"+e,method:"get"})},t.t=function(e){return Object(a.a)({url:"/"+o+"/sm/aflcDistributeReward/v1/shipperRewardStatisticsInfo/"+e,method:"get"})},t.u=function(e){return Object(a.a)({url:"/"+s+"/order/aflcOrder/v1/shipperDateTradeDetail/"+e,method:"get"})};var a=r("Vo7i"),l="aflc-order",o="aflc-sm",n="aflc-uc",s="aflc-order"},Tmh3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("CiqI"),l=r("gZew");var o=function(e){r("qAXE")},n=r("VU/8")(a.a,l.a,o,"data-v-63a68c14",null);t.default=n.exports},gZew:function(e,t,r){"use strict";var a={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"ordersInfo detailsArrange"},[l("div",{staticClass:"xxgy-collapse collapseInfo"},[l("h2",[a._v("小货车订单")]),a._v(" "),l("div",{staticClass:"essentialInformation"},[l("el-row",{staticClass:"basicInfo",attrs:{span:24}},[l("el-col",{attrs:{span:3}},[a._v("总下订单数：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.puliclishOrder))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("立即支付：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.quickPayTimeType))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("收货时付款：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.gainsPay))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("完成订单：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.dealOrder))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("完成订单总金额：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.dealOrderTotalAmount))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("线上支付完成订单数：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.onlinePayOrder))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("线上支付完成订单金额：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.onlinePayOrderTotalAmount?a.orderState.onlinePayOrderTotalAmount:0))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("线下支付完成订单数：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.offlinePayOrder))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("线下支付完成订单金额：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.offlinePayOrderTotalAmount?a.orderState.offlinePayOrderTotalAmount:0))]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v("线上支付完成订单占比：")]),a._v(" "),l("el-col",{attrs:{span:3}},[a._v(a._s(a.orderState.onlinePayOrderRate))])],1)],1)]),a._v(" "),l("div",{staticClass:"qd-collapse collapseInfo"},[l("h2",[a._v("交易订单")]),a._v(" "),l("div",{staticClass:"qd-collapse_title clearfix"},[l("ul",{staticClass:"classfyTitle fl"},a._l(a.orderType,function(t,r){return l("li",{key:t.name,class:{currentClick:t.iscur},on:{click:function(e){a.setCur(r,t.label)}}},[a._v(a._s(t.name))])})),a._v(" "),l("el-form",{staticClass:"demo-ruleForm qdSearch fr",attrs:{inline:!0}},[l("el-form-item",{attrs:{label:"下单时间："}},[l("el-date-picker",{attrs:{type:"daterange","range-separator":"-","unlink-panels":"","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","default-time":["00:00:00","23:59:59"],"value-format":"timestamp"},on:{change:a.orderTimeVal},model:{value:a.orderTime,callback:function(e){a.orderTime=e},expression:"orderTime"}})],1)],1)],1),a._v(" "),l("div",{staticClass:"essentialInformation_table",staticStyle:{"padding-top":"0"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:a.orderData,border:""}},[l("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                        "+a._s((a.orderObj.currentPage-1)*a.orderObj.pageSize+e.$index+1)+"\n                    ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"orderSerial",label:"订单号",width:"230"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"driverName",label:"车主"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"driverMobile",label:"车主账号"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"orderType",label:"服务类型"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"startAddress",label:"始发地"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"endAddress",label:"目的地"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"payWay",label:"付款方式"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"payTimeType",label:"支付方式"}}),a._v(" "),l("el-table-column",{attrs:{prop:"createTime",width:"160",label:"发单时间"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                        "+a._s(a._f("parseTime")(e.row.createTime))+"\n                    ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"totalAmount",label:"订单金额"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"parentOrderStatus",label:"订单状态"}}),a._v(" "),l("el-table-column",{attrs:{width:"160",prop:"updateTime",label:"完成时间"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                        "+a._s(a._f("parseTime")(e.row.updateTime))+"\n                    ")]}}])})],1),a._v(" "),l("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":a.sizes,total:a.orderTotalCount},on:{"size-change":function(e){return a.handleSizeChange(e,"complete")},"current-change":function(e){return a.handleClick(e,"complete")}}})],1)]),a._v(" "),l("div",{staticClass:"qd-collapse collapseInfo"},[l("h2",[a._v("取消订单&原因")]),a._v(" "),l("div",{staticClass:"essentialInformation_table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:a.cancelOrderList,border:""}},[l("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                        "+a._s((a.cancelOrderObj.currentPage-1)*a.cancelOrderObj.pageSize+e.$index+1)+"\n                    ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"orderSerial",label:"订单号"}}),a._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"belongCity",label:"下单区域"}}),a._v(" "),l("el-table-column",{attrs:{prop:"totalAmount",label:"订单金额"}}),a._v(" "),l("el-table-column",{attrs:{prop:"cancelTime",label:"取消时间"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                        "+a._s(a._f("parseTime")(e.row.cancelTime))+"\n                    ")]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"cancelCause",label:"取消原因"}})],1),a._v(" "),l("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":a.sizes,total:a.cancelOrderTotalCount},on:{"size-change":function(e){return a.handleSizeChange(e,"cancel")},"current-change":function(e){return a.handleClick(e,"cancel")}}})],1)])])},staticRenderFns:[]};t.a=a},qAXE:function(e,t){}});