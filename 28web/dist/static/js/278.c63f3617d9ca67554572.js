webpackJsonp([278],{"1jEL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("RAiw"),r=n("ZInr");var i=function(t){n("nFAy")},a=n("VU/8")(s.a,r.a,i,null,null);e.default=a.exports},"2JQB":function(t,e){},"4Uw5":function(t,e,n){"use strict";var s=n("O6e2"),r=n("HlqG");e.a={props:{value:{type:[Number,String]},disabled:{type:Boolean,default:!1}},watch:{value:function(t){this.aid=t,this.init()}},mounted:function(){var t=this;this.aid=this.value,this.init(),s.a.$on("closepopbox",function(){t.$refs.myautocomplete.handleClose()})},computed:{openGroups:function(){return function e(t,n){var s=[];return t.map(function(t){t.index=n,s.push(t),t.children&&(s=s.concat(e(t.children,n+1)))}),s}(this.groups,1)}},data:function(){return{groups:[],aid:""}},methods:{init:function(){var e=this;Object(r.c)().then(function(t){e.groups=[],e.groups.push(t.data[0])}).catch(function(t){e.inited=!1})},change:function(t){this.$emit("change",t)},selectData:function(t){this.$emit("inputObject",t)},clearInput:function(){this.aid=null}}}},"9/ED":function(t,e,n){"use strict";var s=n("4Uw5"),r=n("gtxl");var i=function(t){n("2JQB")},a=n("VU/8")(s.a,r.a,i,null,null);e.a=a.exports},CSar:function(t,e,n){"use strict";var s=n("t5DY");e.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(t){t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){var e=this;Object(s._2)().then(function(t){e.cityTree=t.data})},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(t,e,n){"use strict";var s=n("CSar"),r=n("JNZ8");var i=function(t){n("fJqg")},a=n("VU/8")(s.a,r.a,i,null,null);e.a=a.exports},D4TC:function(t,e,n){"use strict";var s=n("YNHS"),r=n("kyaA");var i=function(t){n("i0em")},a=n("VU/8")(s.a,r.a,i,null,null);e.a=a.exports},HlqG:function(t,e,n){"use strict";e.c=function(){return s.a.get("/"+r+"/usercenter/aflcBusinessGroup/v1/tree")},e.b=function(t){return Object(s.a)({url:"/"+r+"/usercenter/aflcBusinessGroupUser/v1/list",method:"post",data:t})},e.a=function(t){return Object(s.a)({url:"/"+r+"/usercenter/aflcBusinessGroup/v1/addGroupAndUsers",method:"post",data:t})},e.e=function(t){return Object(s.a)({url:"/"+r+"/usercenter/aflcBusinessGroup/v1/updateGroupAndUsers",method:"put",data:t})},e.d=function(t){return s.a.get("/"+r+"/usercenter/aflcBusinessGroup/v1/selectGroupAndUsers/"+t)};var s=n("Vo7i"),r="aflc-uc"},JNZ8:function(t,e,n){"use strict";var s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chooseCityList"},[n("el-cascader",{ref:"cityTree",attrs:{options:e.cityTree,disabled:e.disabled,props:e.props},on:{change:e.handleItemMore},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=s},RAiw:function(t,e,n){"use strict";var s=n("t5DY"),r=n("HlqG"),i=n("0xDb"),a=n("Cae1"),o=n("D4TC"),c=n("9/ED");e.a={name:"newBusinessGroup",props:{dialogFormVisible:{type:Boolean,required:!0},formtitle:{type:String,required:!0,default:"新增业务组"},isModify:{type:Boolean,default:!1},currentTreeId:{type:String,default:""}},components:{getCityList:a.a,CustomerSearch:o.a,businessGroup:c.a},data:function(){return{btnShow:!1,formLabelWidth:"150px",standForm:{groupName:"",parentId:"",areaFullName:"",areaCode:"",areaName:"",cityName:"",provinceName:"",users:[{name:"",mobile:"",userId:"",userType:""}]},optionsUsersType:"",newrules:{groupName:[{required:!0,message:"请输入业务组名称",trigger:"change"}],parentId:[{required:!0,message:"请选择上级业务组",trigger:"change"}],areaFullName:{required:!0,message:"请选择业务区域",trigger:"change"}}}},watch:{dialogFormVisible:{handler:function(t,e){t&&(this.reviseForms(),this.init())},deep:!0}},mounted:function(){},methods:{getVal:function(t){this.standForm.parentId=t},getCustomer:function(t,e){this.standForm.users[e].userId=t.userId,this.standForm.users[e].name=t.name,this.standForm.users[e].mobile=t.mobilephone?t.mobilephone:""},getStr:function(t){this.standForm.areaFullName=t.province||t.city||t.area?(""+this.getValue(t.province)+this.getValue(t.city)+this.getValue(t.area)).trim():"",t.city?this.standForm.areaCode=t.city.code:this.standForm.areaCode=t.province.code,this.standForm.provinceName=t.province?t.province.name:"",this.standForm.cityName=t.city?t.city.name:""},getValue:function(t){return t?t.value:""},close:function(){this.$emit("update:dialogFormVisible",!1),this.$refs.ruleForm.resetFields(),this.clearForms(),this.$emit("renovate"),this.btnShow=!1,this.isModify||this.$refs.area.clearData()},init:function(){var e=this;Object(s.S)().then(function(t){e.optionsUsersType=t.data}),console.log("this.$refs.businessGroup",this.$refs.businessGroup),this.$refs.businessGroup&&this.$refs.businessGroup.init()},reviseForms:function(){var e=this;this.isModify?Object(r.d)(this.currentTreeId).then(function(t){e.standForm=t.data}):this.clearForms()},submitForm:function(t){var n=this;this.$refs[t].validate(function(t){if(!t)return n.$message({type:"warning",message:"请填写完整数据!"}),!1;n.btnShow=!0;var e=Object(i.i)(n.standForm);(n.isModify?Object(r.e)(e):Object(r.a)(e)).then(function(t){n.$message({type:"success",message:n.isModify?"修改成功！":"新增成功！"}),n.close()}).catch(function(t){n.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),n.btnShow=!1})})},clearForms:function(){this.standForm={groupName:"",parentId:"",areaFullName:"",areaCode:"",areaName:"",cityName:"",provinceName:"",users:[{name:"",mobile:"",userId:"",userType:""}]}},addItem:function(){this.standForm.users.push({name:"",mobile:"",userId:"",userType:""})},reduceItem:function(t){this.standForm.users.splice(t,1)}}}},THXX:function(t,e,n){"use strict";e.c=function(t,e,n){return Object(s.a)({url:"/"+r+"/dispatch/aflcShipperPlatform/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:n}})},e.a=function(t){return Object(s.a)({url:"/"+r+"/dispatch/aflcShipperPlatform/v1/enableOrDisable",method:"post",headers:{"Content-Type":"application/json"},data:t})},e.b=function(t){return Object(s.a)({url:"/"+r+"/dispatch/aflcShipperPlatform/v1/add",method:"post",data:t})},e.d=function(t){return Object(s.a)({url:"/"+r+"/dispatch/aflcShipperPlatform/v1/findAflcShipperList",method:"post",data:t})},e.e=function(t){return Object(s.a)({url:"/"+r+"/dispatch/aflcShipperPlatform/v1/findAflcSystemUserList",method:"post",data:t})};var s=n("Vo7i"),r="aflc-order"},YNHS:function(t,e,n){"use strict";var s=n("THXX"),r=n("t5DY");e.a={name:"CustomerSearch",props:{disabled:{type:Boolean},customerName:{type:String},apiType:{type:String},value:[String,Array],timeoutSearch:null},data:function(){return{restaurants:[],customer:null,filterOptionsSystemUsers:{search:""}}},watch:{customerName:function(t,e){this.customer=t||""}},methods:{init:function(){var e=this;("business"==this.apiType?Object(r._3)(this.filterOptionsSystemUsers):Object(s.e)(this.filterOptionsSystemUsers)).then(function(t){e.restaurants=t.data}).catch(function(t){e.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})},handleSelect:function(e){console.log("this.customer",this.customer);var t=this.restaurants.filter(function(t){return t.name==e});this.$emit("returnCustomer",t[0])}},mounted:function(){this.customer=this.customerName?this.customerName:"",this.init()},beforeDestroy:function(){}}},ZInr:function(t,e,n){"use strict";var s={render:function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"newBusinessGroup commoncss"},[r("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:s.formtitle,"close-on-click-modal":!1,visible:s.dialogFormVisible},on:{close:s.close}},[r("el-form",{ref:"ruleForm",attrs:{model:s.standForm,rules:s.newrules,"label-width":s.formLabelWidth}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"业务组名称：",prop:"groupName"}},[r("el-input",{attrs:{maxlength:"10"},model:{value:s.standForm.groupName,callback:function(t){s.$set(s.standForm,"groupName",t)},expression:"standForm.groupName"}})],1)],1),s._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"上级业务组：",prop:"parentId"}},[r("businessGroup",{ref:"businessGroup",on:{change:s.getVal},model:{value:s.standForm.parentId,callback:function(t){s.$set(s.standForm,"parentId",t)},expression:"standForm.parentId"}})],1)],1)],1),s._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"业务区域：",prop:"areaFullName"}},[s.isModify?r("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:s.standForm.areaFullName,callback:function(t){s.$set(s.standForm,"areaFullName",t)},expression:"standForm.areaFullName"}}):r("getCityList",{ref:"area",staticClass:"chooseItem",on:{returnStr:s.getStr},model:{value:s.standForm.areaFullName,callback:function(t){s.$set(s.standForm,"areaFullName",t)},expression:"standForm.areaFullName"}})],1)],1)],1),s._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("h2",{staticStyle:{"line-height":"40px"}},[s._v("业务组成员")])])],1),s._v(" "),r("table",{staticClass:"systemTitle"},[r("thead",[r("th",{staticStyle:{width:"50%"}},[s._v("姓名")]),s._v(" "),r("th",[s._v("用户类型")]),s._v(" "),r("th",{staticClass:"lastOne"},[s._v("操作")])]),s._v(" "),r("tbody",s._l(s.standForm.users,function(e,n){return r("tr",{key:n},[r("td",[r("CustomerSearch",{ref:"businessGroupName",refInFor:!0,attrs:{customerName:e.name,apiType:"business"},on:{returnCustomer:function(t){s.getCustomer(t,n)}}})],1),s._v(" "),r("td",[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.userType,callback:function(t){s.$set(e,"userType",t)},expression:"item.userType"}},s._l(s.optionsUsersType,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),s._v(" "),r("td",{staticClass:"lastOne"},[r("div",{staticClass:"iconItem"},[n==s.standForm.users.length-1?r("span",{staticClass:"addItem",on:{click:s.addItem}}):s._e(),s._v(" "),1!=s.standForm.users.length?r("span",{staticClass:"reduceItem",on:{click:function(t){s.reduceItem(n)}}}):s._e()])])])}))])],1),s._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:s.btnShow},on:{click:function(t){s.submitForm("ruleForm")}}},[s._v(s._s(s.isModify?"保 存":"确 定"))]),s._v(" "),r("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:function(t){s.$emit("update:dialogFormVisible",!1)}}},[s._v("取 消")])],1)],1)],1)},staticRenderFns:[]};e.a=s},fJqg:function(t,e){},gtxl:function(t,e,n){"use strict";var s={render:function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("el-select",{ref:"myautocomplete",staticClass:"select-tree",attrs:{disabled:n.disabled},on:{change:n.change},model:{value:n.aid,callback:function(t){n.aid=t},expression:"aid"}},n._l(n.openGroups,function(e){return s("el-option",{key:e.id,attrs:{label:e.groupName,value:e.id}},[s("div",{class:"indent indent"+e.index,on:{click:function(t){n.selectData(e)}}},[n._v(n._s(e.groupName))])])}))},staticRenderFns:[]};e.a=s},i0em:function(t,e){},kyaA:function(t,e,n){"use strict";var s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.handleSelect},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}},e._l(e.restaurants,function(t){return n("el-option",{key:t.userId,attrs:{label:t.name,value:t.name}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.mobilephone))])])}))},staticRenderFns:[]};e.a=s},nFAy:function(t,e){},t5DY:function(t,e,n){"use strict";e._10=function(e){return e=e||"",i.a.get("/"+a+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return i.a.get("/"+a+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(i.a)({url:"/"+a+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(i.a)({url:"/"+a+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(i.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new r.a(function(t){t(window.UPLOADPOLICYDATA)}):i.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return i.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return i.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(i.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return i.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return i.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(i.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return i.a.get("/"+a+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return i.a.get("/"+a+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return i.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return i.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(i.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(i.a)({url:"/"+a+"/system/user/v1/operate/staff",method:"post",data:t})};var s=n("//Fk"),r=n.n(s),i=n("Vo7i"),a="aflc-common",o="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""}});