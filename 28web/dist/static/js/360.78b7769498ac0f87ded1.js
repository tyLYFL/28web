webpackJsonp([360,470],{"1onU":function(t,e,a){"use strict";var i=a("VT+v"),n=a("juIs");var s=function(t){a("ZdV2"),a("co/t")},l=a("VU/8")(i.a,n.a,s,"data-v-695be8cd",null);e.a=l.exports},"4R9z":function(t,e,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"identicalStyle",staticStyle:{height:"100%"}},[a("el-form",{staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"投保"}},[a("el-input",{staticClass:"lll-pl",attrs:{placeholder:"保险公司/产品名称/被保险人",clearable:""},model:{value:e.formAllData.insuranceName,callback:function(t){e.$set(e.formAllData,"insuranceName",t)},expression:"formAllData.insuranceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投保时间 "}},[a("el-date-picker",{attrs:{"default-value":e.defaultTime,type:"daterange",align:"right","popper-class":"searchCreatTime","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","picker-options":e.pickerOptions2,"end-placeholder":"结束日期"},model:{value:e.searchCreatTime,callback:function(t){e.searchCreatTime=t},expression:"searchCreatTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"btnChoose fr"},[a("el-button",{attrs:{type:"primary",plain:"",size:e.btnsize,icon:"el-icon-search"},on:{click:e.getdata_search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info",plain:"",size:e.btnsize,icon:"fontFamily aflc-icon-qingkong"},on:{click:e.clearSearch}},[e._v("清空\n      ")])],1)],1),e._v(" "),a("div",{staticClass:"classify_info"},[a("div",{staticClass:"info_news"},[a("div",{staticClass:"btns_box"},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:e.viewDetail}},[e._v("查看详情")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table-lll",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",height:"100%","highlight-current-row":"",data:e.tableDataAll,"tooltip-effect":"dark"},on:{"selection-change":e.getSelection,"row-click":e.clickDetails}},[a("el-table-column",{attrs:{fixed:"",sortable:"",type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s((e.page-1)*e.pagesize+t.$index+1)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"投保单号",prop:"insuranceNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"保险公司",prop:"insuranceCompany"}}),e._v(" "),a("el-table-column",{attrs:{label:"保费金额",prop:"insuranceFee"}}),e._v(" "),a("el-table-column",{attrs:{label:"投保日期",prop:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"运单号",prop:"orderNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"paymentStateName"}})],1),e._v(" "),a("div",{staticClass:"info_tab_footer"},[e._v("共计:"+e._s(e.dataTotal)+"\n        "),a("div",{staticClass:"show_pager"},[a("Pager",{ref:"pager",attrs:{total:e.dataTotal,sizes:e.sizes},on:{change:e.handlePageChange}})],1)])],1)])],1)},staticRenderFns:[]};e.a=i},"5BmV":function(t,e){},ITU0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("RBTq"),n=a("4R9z");var s=function(t){a("fuj/")},l=a("VU/8")(i.a,n.a,s,null,null);e.default=l.exports},Lghx:function(t,e,a){"use strict";e.b=function(t,e,a){return Object(i.a)({url:"/"+n+"/usercenter/aflcinsurancepolicy/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:a}})},e.a=function(t){return Object(i.a)({url:"/"+n+"/usercenter/aflcinsurancepolicy/v1/"+t,method:"get"})},e.c=function(){return Object(i.a)({url:"/"+n+"/usercenter/aflcinsurancepolicy/v1/getCountByPaymentState/",method:"post",data:{}})};var i=a("Vo7i"),n="aflc-uc"},M7xl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("reIs"),n=a("ecRp");var s=function(t){a("5BmV")},l=a("VU/8")(i.a,n.a,s,null,null);e.default=l.exports},RBTq:function(t,e,a){"use strict";var i=a("0xDb"),n=a("1onU"),s=a("Lghx");e.a={name:"administration",components:{Pager:n.a},props:{listtype:{type:String,default:"all"},isvisible:{type:Boolean,default:!1}},watch:{listtype:{handler:function(t,e){"all"===t?(this.$set(this.formAllData,"paymentState",""),this.fetchData()):"payFor"===t?(this.$set(this.formAllData,"paymentState",0),this.fetchData()):"isPayfor"===t&&(this.$set(this.formAllData,"paymentState",1),this.fetchData()),this.searchCreatTime=this.defaultTime,this.formAllData.insuranceName=""},immediate:!0},tabsNameFn:{handler:function(t){},immediate:!0}},data:function(){return{timeOutNoDriver:null,searchCreatTime:[],defaultTime:[Object(i.k)(+new Date-5184e6,"{y}-{m}-{d}"),Object(i.k)(new Date,"{y}-{m}-{d}")],tableDataAll:[],selected:[],btnsize:"mini",ExtractTime:null,loading:!1,formAllData:{beginTime:"",endTime:"",insuranceName:""},dataTotal:0,pagesize:20,page:1,sizes:[20,50,100,400],pickerOptions2:{shortcuts:i.l}}},mounted:function(){this.searchCreatTime=this.defaultTime},methods:{fetchList:function(){var e=this;this.loading=!0,Object(s.b)(this.page,this.pagesize,this.formAllData).then(function(t){e.tableDataAll=t.data.list,e.dataTotal=t.data.total,e.loading=!1})},fetchData:function(){this.eventBus.$emit("updateListCount"),this.fetchList()},viewDetail:function(){return this.selected.length?1<this.selected.length?(this.$message.info("每次只能操作单条数据~"),this.$refs.multipleTable.clearSelection(),!1):void this.$router.push({path:"/28WEB/insuranceManage/management/detail",query:{id:this.selected[0].id}}):(this.$message.info("请选择要操作的项~"),!1)},getdata_search:function(){this.formAllData.beginTime=Date.parse(this.searchCreatTime[0]+" 00:00:00"),this.formAllData.endTime=Date.parse(this.searchCreatTime[1]+" 23:59:59"),this.fetchData()},clearSearch:function(){this.searchCreatTime=[],this.formAllData.beginTime="",this.formAllData.endTime="",this.formAllData.insuranceName="",this.fetchData()},handlePageChange:function(t){this.page=t.pageNum,this.pagesize=t.pageSize,this.fetchData()},getSelection:function(t){this.selected=t},clickDetails:function(t,e,a){this.$refs.multipleTable.toggleRowSelection(t)}}}},"VT+v":function(t,e,a){"use strict";e.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(t){this.oldValue=t.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(t){this.pageNum=t,this.changeEvent()},handleSizeChange:function(t){this.size=t,this.changeEvent()},handleChange:function(t){var e=parseInt(t,10);isNaN(e)?this.inputval=1:e<1?this.inputval=1:e>this.pages?this.inputval=this.pages:this.inputval=e},handleBlur:function(t){var e=t.target;this.handleChange(e.value),this.jumpTo(this.inputval)},handleKeyup:function(t){var e=t.keyCode,a=t.target;console.log("page keydown:",e,a),13===e&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(t){console.log("d",this.inputval),t<1?this.pageNum=1:t>this.pages?this.pageNum=this.pages:this.pageNum=t,this.changeEvent()}}}},ZdV2:function(t,e){},"co/t":function(t,e){},ecRp:function(t,e,a){"use strict";var i={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"insurance-lll"},[n("div",{staticClass:"inul"},[n("ul",i._l(i.tabs,function(e,a){return n("li",{key:a,class:{active:i.active==a},on:{click:function(t){i.toggle(a,e.view)}}},[i._v("\n        "+i._s(e.label+"("+e.num+")")+"\n      ")])}))]),i._v(" "),n(i.currentView,{tag:"component",attrs:{listtype:i.currentView}})],1)},staticRenderFns:[]};e.a=i},"fuj/":function(t,e){},juIs:function(t,e,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),e._v(" "),a("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keydown:function(t){return e.handleKeyup(t)}},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),e._v(" "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[a("span",{staticClass:"last-page"})]),e._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizesChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])},staticRenderFns:[]};e.a=i},reIs:function(t,e,a){"use strict";var i=a("ITU0"),n=a("Lghx");e.a={data:function(){return{active:0,currentView:"all",tabs:[{label:"全部投保单",num:"0",type:"all",view:"all"},{label:"待支付投保单",num:"0",type:"payFor",view:"payFor"},{label:"已支付投保单",num:"0",type:"isPayfor",view:"isPayfor"}]}},components:{all:i.default,payFor:i.default,isPayfor:i.default},watch:{},mounted:function(){this.eventBus.$on("updateListCount",function(){})},created:function(){this.getCount()},methods:{toggle:function(t,e){this.active=t,this.currentView=e},getCount:function(){var a=this;n.c().then(function(t,e){a.tabs[0].num=99<t.data.totalCount?"99+":t.data.totalCount,a.tabs[1].num=99<t.data.notPaymentCount?"99+":t.data.notPaymentCount,a.tabs[2].num=99<t.data.paymentCount?"99+":t.data.paymentCount})}}}}});