webpackJsonp([451],{"1onU":function(e,t,a){"use strict";var r=a("VT+v"),l=a("juIs");var i=function(e){a("ZdV2"),a("co/t")},n=a("VU/8")(r.a,l.a,i,"data-v-695be8cd",null);t.a=n.exports},"MfU/":function(e,t,a){"use strict";var r=a("1onU"),l=a("0xDb"),i=a("xkzL");t.a={data:function(){return{loading:!1,totalCount:0,sizes:[30,50,100,200],tableData:[],formLabelWidth:"120px",remarkdialog:!1,listSystemObj:{currentPage:1,pageSize:20,vo:""},remarkForm:{feedbackShipperTime:"",isShipperShow:"0",operationName:"",orderSerial:"",remark:""},rules:{operationName:{required:!0,message:"请输入操作信息",trigger:"change"},feedbackShipperTime:{required:!0,message:"请选择反馈给货主的操作时间",trigger:"change"}}}},props:{isvisible:{type:Boolean,default:!1}},methods:{firstblood:function(){var t=this;this.listSystemObj.vo=this.$route.query.orderSerial,Object(i.x)(this.listSystemObj).then(function(e){t.tableData=e.data.list,t.totalCount=e.data.totalCount,t.loading=!1})},handlePageChange:function(e){this.listSystemObj.currentPage=e.pageNum,this.listSystemObj.pageSize=e.pageSize,this.firstblood()},renderHeader:function(e,t){var a=t.column;t._self;return e("div",{class:"basicColor"},a.label)},addFollow:function(){this.remarkdialog=!0,this.remarkForm.feedbackShipperTime=(new Date).getTime()},close:function(){this.remarkdialog=!1,this.$refs.ruleForm.resetFields(),"function"==typeof done&&done()},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return a.$message({type:"warning",message:"请填写完整数据!"}),!1;a.remarkForm.orderSerial=a.$route.query.orderSerial;var t=Object(l.i)(a.remarkForm);Object(i.a)(t).then(function(e){a.$message({type:"success",message:"操作成功！"}),a.close(),a.firstblood()}).catch(function(e){a.$message({type:"info",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)})})})}},watch:{isvisible:{handler:function(e,t){e&&this.firstblood()},immediate:!0}},components:{Pager:r.a}}},"VT+v":function(e,t,a){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,a=e.target;console.log("page keydown:",t,a),13===t&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},ZdV2:function(e,t){},"co/t":function(e,t){},jsNo:function(e,t){},juIs:function(e,t,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),t._v(" "),a("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),t._v(" "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[a("span",{staticClass:"last-page"})]),t._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=r},r3WG:function(e,t,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"identicalStyle trackingOrder"},[a("div",{staticClass:"classify_info"},[a("div",{staticClass:"btns_box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",plain:"",size:"mini"},on:{click:t.addFollow}},[t._v("增加跟踪记录")])],1),t._v(" "),a("div",{staticClass:"info_news"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s((t.listSystemObj.currentPage-1)*t.listSystemObj.pageSize+e.$index+1)+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"实际操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("parseTime")(e.row.createTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"操作人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"操作人类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s("1"==e.row.userType?"物流公司":"2"==e.row.userType?"货主":"")+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isShipperShow",label:"货主是否可见"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("1"==e.row.isShipperShow?"是":"否"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"feedbackShipperTime",label:"反馈给货主的操作时间","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("parseTime")(e.row.feedbackShipperTime)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operationName",label:"操作信息"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作内容"}})],1)],1)]),t._v(" "),a("div",{staticClass:"info_tab_footer"},[t._v("共计:"+t._s(t.totalCount)+" "),a("div",{staticClass:"show_pager"},[a("Pager",{attrs:{total:t.totalCount,sizes:t.sizes},on:{change:t.handlePageChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"添加跟踪记录",width:"30%",visible:t.remarkdialog,"modal-append-to-body":!1,"before-close":t.close,top:"15vh","close-on-click-modal":!1}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm ",attrs:{model:t.remarkForm,rules:t.rules,"label-width":t.formLabelWidth,"label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作信息:",prop:"operationName"}},[a("el-input",{attrs:{clearable:"",maxlength:"10"},model:{value:t.remarkForm.operationName,callback:function(e){t.$set(t.remarkForm,"operationName",e)},expression:"remarkForm.operationName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"货主可见:",prop:"isShipperShow"}},[a("el-radio-group",{model:{value:t.remarkForm.isShipperShow,callback:function(e){t.$set(t.remarkForm,"isShipperShow",e)},expression:"remarkForm.isShipperShow"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),t._v(" "),"1"==t.remarkForm.isShipperShow?a("el-form-item",{attrs:{label:"反馈操作时间:",prop:"feedbackShipperTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期时间"},model:{value:t.remarkForm.feedbackShipperTime,callback:function(e){t.$set(t.remarkForm,"feedbackShipperTime",e)},expression:"remarkForm.feedbackShipperTime"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"操作内容:",prop:"remark"}},[a("el-input",{ref:"infofocus",attrs:{type:"textarea",rows:2,maxlength:"30",clearable:""},model:{value:t.remarkForm.remark,callback:function(e){t.$set(t.remarkForm,"remark",e)},expression:"remarkForm.remark"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:t.close}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};t.a=r},xkzL:function(e,t,a){"use strict";t.r=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/findPlatformOrderList",method:"post",data:e})},t.s=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/exportPlatformOrderExcel",method:"post",responseType:"blob",data:e})},t.o=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/agencyAccept",method:"put",data:e})},t.t=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/agencyRefused",method:"put",data:e})},t.p=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/replaceShipperCancel",method:"put",data:e})},t.q=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/getOrderByOrderSerial/"+e,method:"get"})},t.u=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/getNetworkWaybillByOrderSerial/"+e,method:"get"})},t.n=function(e){return Object(r.a)({url:"/"+l+"/lcl/waybillOutsource/platform/getOutsourceByOrderSerial/"+e,method:"get"})},t.m=function(e){return Object(r.a)({url:"/"+l+"/lcl/waybillOutsource/platform/getCarriersWaybillByOrderSerial/"+e,method:"get"})},t.c=function(e,t,a){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAudit/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:a}})},t.b=function(e){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAudit/v1/detail?id="+e,method:"post"})},t.g=function(e){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAudit/v1/verify",method:"post",data:e})},t.j=function(e){return Object(r.a)({url:"/"+l+"/lcl/waybillOutsource/platform/list/carriersWaybill",method:"post",data:e})},t.i=function(e){return Object(r.a)({url:"/"+l+"/lcl/waybillOutsource/platform/list/carriersAllWaybill",method:"post",data:e})},t.l=function(e){return Object(r.a)({url:"/"+l+"/lcl/waybillOutsource/platform/exportCarriersWaybillExcel",method:"post",responseType:"blob",data:e})},t.h=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclAreaAgencyWaybill/findAreaAgencyWaybillList",method:"post",data:e})},t.k=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclAreaAgencyWaybill/exportAreaAgencyWaybillExcel",method:"post",responseType:"blob",data:e})},t.v=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclAreaAgencyWaybill/mainLineCarArrive",method:"put",data:e})},t.w=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclAreaAgencyWaybill/mainLineCarDispatch",method:"put",data:e})},t.z=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclAreaAgencyWaybill/waybillSign",method:"put",data:e})},t.e=function(e){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAuditLog/v1/list",method:"post",data:e})},t.d=function(e){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAudit/v1/check",method:"post",data:e})},t.f=function(e){return Object(r.a)({url:"/"+l+"/lcl/aflcLclOrderAudit/v1/register",method:"post",data:e})},t.x=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/orderFollow",method:"post",data:e})},t.a=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/addOrderFollow",method:"post",data:e})},t.y=function(e){return Object(r.a)({url:"/"+l+"/lcl/lclShipperOrder/getOrderPaymentDetailsByOrderSerial/"+e,method:"get"})};var r=a("Vo7i"),l="aflc-lcl"},ysBM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("MfU/"),l=a("r3WG");var i=function(e){a("jsNo")},n=a("VU/8")(r.a,l.a,i,null,null);t.default=n.exports}});