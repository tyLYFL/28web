webpackJsonp([235],{"2JQB":function(e,t){},"4Uw5":function(e,t,n){"use strict";var i=n("O6e2"),r=n("HlqG");t.a={props:{value:{type:[Number,String]},disabled:{type:Boolean,default:!1}},watch:{value:function(e){this.aid=e,this.init()}},mounted:function(){var e=this;this.aid=this.value,this.init(),i.a.$on("closepopbox",function(){e.$refs.myautocomplete.handleClose()})},computed:{openGroups:function(){return function t(e,n){var i=[];return e.map(function(e){e.index=n,i.push(e),e.children&&(i=i.concat(t(e.children,n+1)))}),i}(this.groups,1)}},data:function(){return{groups:[],aid:""}},methods:{init:function(){var t=this;Object(r.c)().then(function(e){t.groups=[],t.groups.push(e.data[0])}).catch(function(e){t.inited=!1})},change:function(e){this.$emit("change",e)},selectData:function(e){this.$emit("inputObject",e)},clearInput:function(){this.aid=null}}}},"9/ED":function(e,t,n){"use strict";var i=n("4Uw5"),r=n("gtxl");var a=function(e){n("2JQB")},s=n("VU/8")(i.a,r.a,a,null,null);t.a=s.exports},A3bd:function(e,t,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chooseCityList"},[n("el-cascader",{ref:"cityTree",attrs:{options:t.cityTree,disabled:t.disabled,props:t.props},on:{change:t.handleItemMore},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)},staticRenderFns:[]};t.a=i},B1oB:function(e,t,n){"use strict";t.c=function(e,t,n){return Object(i.a)({url:"/"+r+"/usercenter/aflcSalesmanAimsSetting/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:n}})},t.a=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcSalesmanAimsSetting/v1/add",method:"post",data:e})},t.d=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcSalesmanAimsSetting/v1/update",method:"put",data:e})},t.b=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcSalesmanAimsSetting/v1/delete/"+e,method:"delete"})},t.e=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcSalesmanAimsSetting/v1/"+e,method:"get"})};var i=n("Vo7i"),r="aflc-uc"},BjNd:function(e,t){},EPeO:function(e,t,n){"use strict";var i=n("mvHQ"),s=n.n(i),r=n("//Fk"),o=n.n(r),a=n("t5DY"),l=n("0xDb");t.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:10},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[],videoUploadPercent:0,videoFlag:!1}},watch:{value:{handler:function(e){if(this.showFileList){var t=Array.isArray(e)?e:e?e.split(","):[];t=t.filter(function(e){return e}),this.filelist=t.map(function(e){var t={};return t.url=e,t})}else this.filelist=[{url:e}]},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(a._15)("aflc").then(function(e){t.upload.OSSAccessKeyId=e.accessid,t.upload.policy=e.policy,t.upload.signature=e.signature,t.uploadUrl=e.host,t.dir=e.dir}).catch(function(e){console.log("get Policy ERror:",e)})},uploadVideoProcess:function(e,t,n){this.videoFlag=!0,this.videoUploadPercent=parseInt(e.percent)},rmImage:function(){this.emitInput("")},onexceed:function(e,t){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(e,t){console.log("handleRemove:",e,t),this.filelist=t,this.emitInput()},getNowFormatDate:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return t+"_"+n+"_"+i+"_"+(r=r<10?"0"+r:r)+(a=a<10?"0"+a:a)+(s=s<10?"0"+s:s)},random_string:function(e){var t="IMG_WEB_",n=this.getNowFormatDate();return console.log("timestamp",n),t+=n+"_"+Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,4))},emitInput:function(e){e&&this.filelist.push({url:e}),this.$emit("input",this.showFileList?this.filelist.map(function(e){return e.url}).join(","):e)},handleImageScucess:function(e){this.videoFlag=!1;var t="";-1!==e.indexOf("Location")&&(t=(t=e.match(/<Location>([^<]+)<\/Location>/m))?t[1].replace("//"+this.dir,"/"+this.dir):""),this.emitInput(t)},handleError:function(e){console.log("upload err:",e),this.$emit("error",e)},beforeUpload:function(e){var n=this;console.log("beforeUpload:",e);var i=/image\/\w+/.test(e.type)&&/(jpe?g|png)/i.test(e.type),r=e.size/1024/1024<5,a=e.name.match(/([^\.]+)$/);return a=a?"."+a[1]:"",new o.a(function(t,e){i?r?(console.log("loooo1"),n.init().then(function(e){console.log("loooo2"),n.upload.key=n.dir+Object(l.k)(new Date,"{y}{m}{d}")+"/"+n.random_string()+a,t(!0)}).catch(function(e){console.log("loooo3"),n.$message.error("未知错误："+s()(e)),t(!1)})):(n.$message.error("上传图片大小不能超过 5MB!"),e(!1)):(n.$message.error("上传图片只能是 JPG/PNG 格式!"),e(!1))})}}}},F6AQ:function(e,t,n){"use strict";var i=n("dMM8"),r=n("A3bd");var a=function(e){n("TpPc")},s=n("VU/8")(i.a,r.a,a,null,null);t.a=s.exports},HlqG:function(e,t,n){"use strict";t.c=function(){return i.a.get("/"+r+"/usercenter/aflcBusinessGroup/v1/tree")},t.b=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcBusinessGroupUser/v1/list",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcBusinessGroup/v1/addGroupAndUsers",method:"post",data:e})},t.e=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcBusinessGroup/v1/updateGroupAndUsers",method:"put",data:e})},t.d=function(e){return i.a.get("/"+r+"/usercenter/aflcBusinessGroup/v1/selectGroupAndUsers/"+e)};var i=n("Vo7i"),r="aflc-uc"},HpW0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("yQrA"),r=n("vIJ8");var a=function(e){n("i3T5")},s=n("VU/8")(i.a,r.a,a,null,null);t.default=s.exports},PM7R:function(e,t,n){"use strict";t.e=function(e,t,n){return Object(i.a)({url:"/"+r+"/usercenter/aflcPartner/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:n}})},t.c=function(e){return i.a.post("/"+r+"/usercenter/aflcPartner/v1/add",e)},t.a=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcPartner/v1/delete/"+e,method:"delete"})},t.f=function(e){return i.a.put("/"+r+"/usercenter/aflcPartner/v1/update",e)},t.b=function(e){return Object(i.a)({url:"/"+r+"/usercenter/aflcPartner/v1/"+e,method:"get"})},t.d=function(e,t,n){return Object(i.a)({url:"/"+r+"/usercenter/aflcLogisticsCompany/v1/findAuthCompany",method:"post",data:{currentPage:e,pageSize:t,vo:n}})};var i=n("Vo7i"),r="aflc-uc"},QbVN:function(e,t,n){"use strict";var i=n("EPeO"),r=n("jrcS");var a=function(e){n("BjNd"),n("yDTW")},s=n("VU/8")(i.a,r.a,a,"data-v-a8a0f0d6",null);t.a=s.exports},TpPc:function(e,t){},dMM8:function(e,t,n){"use strict";var i=n("t5DY");t.a={name:"getAreaList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(e){this.nowData={province:null,city:null,area:null},e[0]&&(this.nowData.province={code:e[0],key:e[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),e[1]&&(this.nowData.city={code:e[1],key:e[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:e[0]}),e[2]&&(this.nowData.area={code:e[2],key:e[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:e[1]}),this.returnArr(this.nowData)},init:function(){var t=this;Object(i.Z)().then(function(e){t.cityTree=e.data})},returnArr:function(e){this.$emit("returnStr",e)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},gtxl:function(e,t,n){"use strict";var i={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("el-select",{ref:"myautocomplete",staticClass:"select-tree",attrs:{disabled:n.disabled},on:{change:n.change},model:{value:n.aid,callback:function(e){n.aid=e},expression:"aid"}},n._l(n.openGroups,function(t){return i("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}},[i("div",{class:"indent indent"+t.index,on:{click:function(e){n.selectData(t)}}},[n._v(n._s(t.groupName))])])}))},staticRenderFns:[]};t.a=i},i3T5:function(e,t){},jrcS:function(e,t,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container",class:{uploadlist:e.showFileList}},[e.uploadUrl?n("el-upload",{staticClass:"image-uploader",attrs:{data:e.upload,action:e.uploadUrl,multiple:!1,drag:!e.showFileList,"show-file-list":e.showFileList,"file-list":e.filelist,limit:e.limit,"before-upload":e.beforeUpload,"list-type":e.listtype,"on-exceed":e.onexceed,disabled:e.disabled,"on-remove":e.handleRemove,"on-progress":e.uploadVideoProcess,"on-error":e.handleError,"on-success":e.handleImageScucess}},[e._t("content",[e.title&&!e.showFileList?n("div",{staticClass:"upload__title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("el-button",{attrs:{size:e.size,type:"primary"}},[e._v("点击上传")]),e._v(" "),e.showFileList?e._e():n("div",{staticClass:"el-upload__text"},[e._v("将文件拖拽到此区域")]),e._v(" "),e.tip?n("div",{staticClass:"upload__tip"},[e._v(e._s(e.tip))]):e._e()])],2):e._e(),e._v(" "),e.imageUrl&&!e.showFileList?n("div",{staticClass:"image-preview"},[n("div",{staticClass:"image-preview-wrapper"},[n("img",{attrs:{src:e.imageUrl}}),e._v(" "),n("div",{staticClass:"image-preview-action"},[n("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])]):e._e(),e._v(" "),1==e.videoFlag?n("div",{staticClass:"progressShow"},[n("el-progress",{attrs:{type:"circle",percentage:e.videoUploadPercent}})],1):e._e()],1)},staticRenderFns:[]};t.a=i},t5DY:function(e,t,n){"use strict";t._10=function(t){return t=t||"",a.a.get("/"+s+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return a.a.get("/"+s+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(a.a)({url:"/"+s+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(a.a)({url:"/"+s+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(a.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new r.a(function(e){e(window.UPLOADPOLICYDATA)}):a.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return a.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return a.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(a.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return a.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return a.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return a.a.get("/"+s+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return a.a.get("/"+s+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return a.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return a.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(a.a)({url:"/"+l+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(a.a)({url:"/"+s+"/system/user/v1/operate/staff",method:"post",data:e})};var i=n("//Fk"),r=n.n(i),a=n("Vo7i"),s="aflc-common",o="aflc-sm",l="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},vIJ8:function(e,t,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"salesManAchievement commoncss"},[n("el-button",{attrs:{type:t.btntype,value:t.value,plain:t.plain,icon:t.icon,size:"mini"},on:{click:function(e){t.openDialog()}}},[t._v(t._s(t.btntext))]),t._v(" "),n("div",{staticClass:"NewsalesManAchievement"},[n("el-dialog",{attrs:{visible:t.dialogFormVisible_add,"before-close":t.change,title:t.btntitle}},[n("el-form",{ref:"formAll",attrs:{model:t.formAll,rules:t.rulesForm}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"table_box"},[n("table",{staticClass:"ht_table"},[n("tbody",[n("tr",[n("th",{attrs:{width:"220",rowspan:"2"}},[t._v("所属区域")]),t._v(" "),n("th",{attrs:{width:"220",rowspan:"2"}},[t._v("业务组")]),t._v(" "),n("th",{attrs:{width:"220",rowspan:"2"}},[t._v("姓名/手机号码")]),t._v(" "),n("th",{attrs:{width:"220",rowspan:"2"}},[t._v("任务目标时间范围")]),t._v(" "),n("th",{attrs:{colspan:"4"}},[t._v("每周")]),t._v(" "),n("th",{attrs:{colspan:"4"}},[t._v("每月")])]),t._v(" "),n("tr",[n("th",{attrs:{width:"105"}},[t._v("发展货主数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展车主数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展物流公司数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展区代数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展货主数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展车主数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展物流公司数量")]),t._v(" "),n("th",{attrs:{width:"105"}},[t._v("发展区代数量")])]),t._v(" "),n("tr",[n("td",["add"===t.editType||t.selectFlag?n("el-form-item",{attrs:{prop:"areaName"}},[n("GetCityList",{ref:"area",on:{returnStr:t.getStr},model:{value:t.formAll.areaName,callback:function(e){t.$set(t.formAll,"areaName",e)},expression:"formAll.areaName"}})],1):n("el-form-item",{attrs:{prop:"areaName"}},[n("el-input",{attrs:{placeholder:""},on:{focus:t.changeSelect},model:{value:t.formAll.areaName,callback:function(e){t.$set(t.formAll,"areaName",e)},expression:"formAll.areaName"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:"businessName"}},[n("businessGroup",{ref:"businessGroup",on:{change:t.getId,inputObject:t.getObject},model:{value:t.formAll.businessName,callback:function(e){t.$set(t.formAll,"businessName",e)},expression:"formAll.businessName"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:"salesmanTotal"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.handleSelect},model:{value:t.formAll.salesmanTotal,callback:function(e){t.$set(t.formAll,"salesmanTotal",e)},expression:"formAll.salesmanTotal"}},t._l(t.restaurants,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.name}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.mobile))])])}))],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:"taskTime"}},[n("el-date-picker",{attrs:{"is-range":"","unlink-panels":"","picker-options":t.pickerOptions2,type:"daterange",align:"right","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},on:{change:t.cTime},model:{value:t.formAll.taskTime,callback:function(e){t.$set(t.formAll,"taskTime",e)},expression:"formAll.taskTime"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.weekDevelShipperNum,callback:function(e){t.$set(t.formAll,"weekDevelShipperNum",e)},expression:"formAll.weekDevelShipperNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.weekDevelDriverNum,callback:function(e){t.$set(t.formAll,"weekDevelDriverNum",e)},expression:"formAll.weekDevelDriverNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.weekDevelLogiscompanyNum,callback:function(e){t.$set(t.formAll,"weekDevelLogiscompanyNum",e)},expression:"formAll.weekDevelLogiscompanyNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.weekDevelDistrictNum,callback:function(e){t.$set(t.formAll,"weekDevelDistrictNum",e)},expression:"formAll.weekDevelDistrictNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.monthDevelShipperNum,callback:function(e){t.$set(t.formAll,"monthDevelShipperNum",e)},expression:"formAll.monthDevelShipperNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.monthDevelDriverNum,callback:function(e){t.$set(t.formAll,"monthDevelDriverNum",e)},expression:"formAll.monthDevelDriverNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.monthDevelLogiscompanyNum,callback:function(e){t.$set(t.formAll,"monthDevelLogiscompanyNum",e)},expression:"formAll.monthDevelLogiscompanyNum"}})],1)],1),t._v(" "),n("td",[n("el-form-item",{attrs:{prop:""}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"6"},model:{value:t.formAll.monthDevelDistrictNum,callback:function(e){t.$set(t.formAll,"monthDevelDistrictNum",e)},expression:"formAll.monthDevelDistrictNum"}})],1)],1)])])])])])],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.editType?n("el-button",{attrs:{type:"primary"},on:{click:t.add_data}},[t._v("确 定")]):n("el-button",{attrs:{type:"primary"},on:{click:t.updata_data}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:function(e){t.close()}}},[t._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]};t.a=i},yDTW:function(e,t){},yQrA:function(e,t,n){"use strict";var i=n("woOf"),r=n.n(i),a=n("QbVN"),s=n("O6e2"),o=n("F6AQ"),l=n("9/ED"),c=n("B1oB"),u=(n("PM7R"),n("HlqG")),m=n("0xDb");t.a={components:{Upload:a.a,GetCityList:o.a,businessGroup:l.a},props:{params:{type:[Object,String,Array]},value:{type:String,default:""},btntype:{type:String,default:""},btntext:{type:String,default:""},btntitle:{type:String,default:""},icon:{type:String,default:""},plain:{type:Boolean,default:!1},editType:{type:String}},data:function(){return{pickerOptions2:{shortcuts:m.l},btnsize:"mini",dialogFormVisible_add:!1,restaurants:[],selectFlag:!1,formAll:{areaName:null,province:null,city:null,area:null,areaCode:null,groupCode:null,businessId:null,businessName:null,salesmanTotal:null,salesmanId:null,salesmanName:null,salesmanPhone:null,taskTime:[],taskStartTime:null,taskEndTime:null,weekDevelShipperNum:null,weekDevelDriverNum:null,weekDevelLogiscompanyNum:null,weekDevelDistrictNum:null,monthDevelShipperNum:null,monthDevelDriverNum:null,monthDevelLogiscompanyNum:null,monthDevelDistrictNum:null},listSystemObj:{currentPage:1,pageSize:1e3,vo:{groupCode:""}},rulesForm:{areaName:{required:!0,message:"所属区域不能为空",trigger:"change"},businessName:{required:!0,message:"业务组不能为空",trigger:"change"},salesmanTotal:{required:!0,message:"姓名/手机号不能为空",trigger:"change"},taskTime:{required:!0,message:"任务目标时间不能为空",trigger:"change"}}}},watch:{dialogFormVisible_add:{handler:function(e,t){if(e)this.formAll.taskTime=null;else{for(var n in this.$refs.area&&this.$refs.area.clearData(),this.formAll)this.formAll[n]=null;this.formAll.taskTime=[],this.selectFlag=!1,this.$refs.formAll.resetFields(),this.$refs.businessGroup.clearInput()}}}},mounted:function(){this.getMoreInformation()},computed:{NewformAll:function(){return{province:this.formAll.province,city:this.formAll.city,area:this.formAll.area,areaCode:this.formAll.areaCode,businessId:this.formAll.businessId,businessName:this.formAll.businessName,groupCode:this.formAll.groupCode,salesmanId:this.formAll.salesmanId,salesmanTotal:this.formAll.salesmanName,salesmanName:this.formAll.salesmanName,salesmanPhone:this.formAll.salesmanPhone,taskStartTime:this.formAll.taskStartTime,taskEndTime:this.formAll.taskEndTime,weekDevelShipperNum:this.formAll.weekDevelShipperNum,weekDevelDriverNum:this.formAll.weekDevelDriverNum,weekDevelLogiscompanyNum:this.formAll.weekDevelLogiscompanyNum,weekDevelDistrictNum:this.formAll.weekDevelDistrictNum,monthDevelShipperNum:this.formAll.monthDevelShipperNum,monthDevelDriverNum:this.formAll.monthDevelDriverNum,monthDevelLogiscompanyNum:this.formAll.monthDevelLogiscompanyNum,monthDevelDistrictNum:this.formAll.monthDevelDistrictNum}}},methods:{getStr:function(e){this.formAll.areaCode=e.area.code,this.formAll.province=e.province.name,this.formAll.city=e.city.name,this.formAll.area=e.area.name,this.formAll.areaName=e.province.name+e.city.name+e.area.name},changeSelect:function(){"add"===this.editType?this.selectFlag=!1:this.selectFlag=!0},getId:function(e){this.formAll.businessId=e},getObject:function(e){this.formAll.businessName=e.groupName,this.formAll.groupCode=e.groupCode,this.listSystemObj.vo.groupCode=e.groupCode,this.getCommonFunction(),this.formAll.salesmanTotal=null,this.formAll.salesmanName=null,this.formAll.salesmanId=null,this.formAll.salesmanPhone=null},cTime:function(e){null!==e?(this.formAll.taskStartTime=e[0],this.formAll.taskEndTime=e[1]):(this.formAll.taskStartTime=null,this.formAll.taskEndTime=null)},handleSelect:function(t){var e;e=this.restaurants.find(function(e){return e.name==t}),this.formAll.salesmanTotal=e.name+"("+e.mobile+")",this.formAll.salesmanName=e.name,this.formAll.salesmanId=e.userId,this.formAll.salesmanPhone=e.mobile,this.$forceUpdate()},getMoreInformation:function(){var t=this;Object(u.c)().then(function(e){t.listSystemObj.vo.groupCode=e.data[0].groupCode,t.getCommonFunction()})},getCommonFunction:function(){var t=this;Object(u.b)(this.listSystemObj).then(function(e){t.restaurants=e.data.list})},openDialog:function(){var t=this;if("edit"==this.editType){if(0==this.params.length&&"add"!==this.editType)return this.$message.warning("请选择您要操作的数据"),!1;if(1<this.params.length&&"add"!==this.editType)return this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.$emit("getData"),!1;if(null==this.params.length&&"add"!==this.editType)return this.$message.warning("请选择您要操作的数据"),!1;Object(c.e)(this.params[0].id).then(function(e){t.formAll=e.data,t.$set(t.formAll,"taskTime",[t.formAll.taskStartTime,t.formAll.taskEndTime]),t.formAll.salesmanTotal=e.data.salesmanName+"("+e.data.salesmanPhone+")",t.formAll.areaName=e.data.province+e.data.city+e.data.area,t.listSystemObj.vo.groupCode=e.data.groupCode,t.getCommonFunction()}),this.dialogFormVisible_add=!0}else this.dialogFormVisible_add=!0},changeList:function(){s.a.$emit("pushListtwo")},change:function(){this.dialogFormVisible_add=!1},close:function(){this.dialogFormVisible_add=!1},completeData:function(){for(var e=[this.formAll.weekDevelShipperNum,this.formAll.weekDevelDriverNum,this.formAll.weekDevelLogiscompanyNum,this.formAll.weekDevelDistrictNum],t=[this.formAll.monthDevelShipperNum,this.formAll.monthDevelDriverNum,this.formAll.monthDevelLogiscompanyNum,this.formAll.monthDevelDistrictNum],n=0,i=0,r=0;r<e.length;r++)e[r]&&n++;for(var a=0;a<t.length;a++)t[a]&&i++;return 0==n?(this.$message.warning("每周分类项输入项至少有一项数据不为空"),!1):0==i?(this.$message.warning("每月分类项输入项至少有一项数据不为空"),!1):void 0},add_data:function(){var t=this;this.completeData(),0!=this.completeData()&&this.$refs.formAll.validate(function(e){e&&(t.dialogFormVisible_add=!1,Object(c.a)(t.NewformAll).then(function(e){t.$message.success("新增成功"),t.$emit("getData")}).catch(function(e){t.$message.error(e.data),t.$emit("getData")}))})},updata_data:function(){var n=this;this.$refs.formAll.validate(function(e){var t=r()({},n.NewformAll,{id:n.params[0].id});e&&(n.dialogFormVisible_add=!1,Object(c.d)(t).then(function(e){n.$message.success("修改成功"),n.$emit("getData")}).catch(function(e){n.$message.error(e.data),n.$emit("getData")}))})}}}}});