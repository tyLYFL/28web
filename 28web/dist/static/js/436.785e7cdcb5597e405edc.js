webpackJsonp([436],{"1onU":function(e,t,a){"use strict";var s=a("VT+v"),n=a("juIs");var i=function(e){a("ZdV2"),a("co/t")},o=a("VU/8")(s.a,n.a,i,"data-v-695be8cd",null);t.a=o.exports},Rgu9:function(e,t,a){"use strict";var i=a("t6jt"),s=(a("0xDb"),a("1onU"));t.a={components:{Pager:s.a},data:function(){return{btnsize:"mini",loading:!0,totalCount:0,page:1,pagesize:20,logisticsForm:{publishName:"",startLocation:"",endLocation:""},tableData:[],selected:[]}},watch:{},mounted:function(){this.firstblood()},methods:{firstblood:function(){var t=this;Object(i.e)(this.page,this.pagesize,this.logisticsForm).then(function(e){t.tableData=e.data.list,t.totalCount=e.data.totalCount,t.tableData.forEach(function(t){t.weightcargo=[],t.lightcargo=[],t.rangePrices.forEach(function(e){switch(e.type){case"0":t.lightcargo.push(e);break;case"1":t.weightcargo.push(e)}}),t.lightcargo.sort(function(e,t){return e.startVolume-t.startVolume}),t.weightcargo.sort(function(e,t){return e.startVolume-t.startVolume})}),t.loading=!1})},getSelection:function(e){console.log("选中内容",e),this.selected=e},clickDetails:function(e,t,a){this.$refs.multipleTable.toggleRowSelection(e)},handlePageChange:function(e){this.page=e.pageNum,this.pagesize=e.pageSize,this.firstblood()},clearSearch:function(){this.$refs.ruleForm.resetFields(),1!=this.page&&(this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page),this.firstblood()},handleSearch:function(){1!=this.page&&(this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page),this.firstblood()},handleClick:function(e){var t=this;if(0==this.selected.length&&"new"!=e)return this.$message.warning("请选择您要操作的专线");if(1<this.selected.length&&"new"!=e&&"delet"!=e)this.$message({message:"为防止您操作出错，限制只能操作一条专线~",type:"warning"}),this.clearTableSelection();else{var a=this.selected[0];switch(e){case"new":this.$router.push({name:"发布专线"});break;case"revise":this.$router.push({name:"发布专线",params:{rangeId:a.id,ifrevise:"1"}});break;case"delet":var s=[];this.selected.forEach(function(e){s.push(e.id)});var n=1<s.length?s.length+"条":a.startLocation+"-"+a.endLocation+"该条";this.$confirm("确定要删除 "+n+"专线吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.d)(s).then(function(e){t.$message({message:"删除成功~",type:"success"}),t.firstblood()}).catch(function(e){t.$message({type:"warning",message:e.errorInfo})})}).catch(function(){t.$message({type:"info",message:"已取消"})});break;case"status":Object(i.a)(a.id).then(function(e){t.$message({type:"success",message:"更改状态成功！"}),t.firstblood()}).catch(function(e){t.$message({type:"warning",message:e.errorInfo})})}this.clearTableSelection()}},clearTableSelection:function(){this.$refs.multipleTable.clearSelection()},handleInfo:function(e){},handleNew:function(){this.$router.push({name:"发布专线"})},handleEdit:function(e){this.$router.push({name:"发布物流专线",query:{data:e,ifrevise:"1"}})},handleDelete:function(e){var t=this;this.$confirm("确定要删除 "+e.startLocation+"-"+e.endLocation+" 该条专线吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.c)(e.id).then(function(e){t.firstblood()}).catch(function(e){t.$message({type:"warning",message:e.errorInfo})})}).catch(function(){t.$message({type:"info",message:"已取消"})})},handleStatus:function(e){var t=this;Object(i.a)(e.id).then(function(e){t.firstblood()}).catch(function(e){t.$message({type:"warning",message:e.errorInfo})})}}}},"VT+v":function(e,t,a){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,a=e.target;console.log("page keydown:",t,a),13===t&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},ZdV2:function(e,t){},"co/t":function(e,t){},juIs:function(e,t,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),t._v(" "),a("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),t._v(" "),a("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[a("span",{staticClass:"last-page"})]),t._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=s},mexm:function(e,t,a){"use strict";var s={render:function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:s.loading,expression:"loading"}],staticClass:"TransportRange identicalStyle"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0,model:s.logisticsForm}},[n("div",{staticClass:"searchInformation information"},[n("el-form-item",{attrs:{label:"物流公司名称：",prop:"publishName"}},[n("el-input",{attrs:{clearable:""},model:{value:s.logisticsForm.publishName,callback:function(e){s.$set(s.logisticsForm,"publishName",e)},expression:"logisticsForm.publishName"}})],1),s._v(" "),n("el-form-item",{attrs:{label:"出发地：",prop:"startLocation"}},[n("el-input",{attrs:{clearable:""},model:{value:s.logisticsForm.startLocation,callback:function(e){s.$set(s.logisticsForm,"startLocation",e)},expression:"logisticsForm.startLocation"}})],1),s._v(" "),n("el-form-item",{attrs:{label:"到达地：",prop:"endLocation"}},[n("el-input",{attrs:{clearable:""},model:{value:s.logisticsForm.endLocation,callback:function(e){s.$set(s.logisticsForm,"endLocation",e)},expression:"logisticsForm.endLocation"}})],1),s._v(" "),n("el-form-item",{staticClass:"btnChoose fr",staticStyle:{"margin-left":"20px"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:"",size:s.btnsize},on:{click:s.handleSearch}},[s._v("搜索")]),s._v(" "),n("el-button",{attrs:{type:"info",icon:"fontFamily aflc-icon-qingkong",plain:"",size:s.btnsize},on:{click:s.clearSearch}},[s._v("清空")])],1)],1)]),s._v(" "),n("div",{staticClass:"classify_info"},[n("div",{staticClass:"info_news"},[n("el-table",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_HIGHSEA_LINE_LIST",arg:"SERVICE_LTL_HIGHSEA_LINE_LIST"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:s.tableData,stripe:"",border:"",height:"100%"},on:{"selection-change":s.getSelection,"row-click":s.clickDetails}},[n("el-table-column",{attrs:{label:"选择",type:"selection",width:"50"}}),s._v(" "),n("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),s._v(" "),n("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"publishName",label:"物流公司",width:"150"},scopedSlots:s._u([{key:"default",fn:function(t){return[n("h4",{staticClass:"moreInfo",on:{click:function(e){s.handleInfo(t.row)}}},[s._v(s._s(t.row.publishName))])]}}])}),s._v(" "),n("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"startLocation",label:"出发地",width:"150"}}),s._v(" "),n("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"endLocation",label:"到达地",width:"150"}}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"weightcargo","show-overflow-tooltip":!0,label:"重货价格"},scopedSlots:s._u([{key:"default",fn:function(a){return[0==a.row.weightcargo.length?n("p",[n("span",{staticClass:"interview"},[s._v("面谈")])]):s._l(a.row.weightcargo,function(e,t){return n("p",{key:e.id,staticClass:"cargo"},[0==t?n("span",[s._v(s._s(e.endVolume)+"公斤以下,"+s._s(e.primeryPrice)+"元/公斤")]):t==a.row.weightcargo.length-1&&""==e.endVolume?n("span",[s._v(s._s(e.startVolume)+"公斤以上,"+s._s(e.primeryPrice)+"元/公斤")]):n("span",[s._v(s._s(e.startVolume)+"-"+s._s(e.endVolume)+"公斤,"+s._s(e.primeryPrice)+"元/公斤")])])})]}}])}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"lightcargo","show-overflow-tooltip":!0,label:"轻货价格"},scopedSlots:s._u([{key:"default",fn:function(a){return[0==a.row.lightcargo.length?n("p",[n("span",{staticClass:"interview"},[s._v("面谈")])]):s._l(a.row.lightcargo,function(e,t){return n("p",{key:t,staticClass:"cargo"},[0==t?n("span",[s._v(s._s(e.endVolume)+"立方以下,"+s._s(e.primeryPrice)+"元/立方")]):t==a.row.lightcargo.length-1&&""==e.endVolume?n("span",[s._v(s._s(e.startVolume)+"立方以上,"+s._s(e.primeryPrice)+"元/立方")]):n("span",[s._v(s._s(e.startVolume)+"-"+s._s(e.endVolume)+"立方,"+s._s(e.primeryPrice)+"元/立方")])])})]}}])}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"lowerPrice",label:"最低一票收费(元)",width:"150"}}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"transportAging",label:"运输时效",width:"150"},scopedSlots:s._u([{key:"default",fn:function(e){return[e.row.transportAging?n("span",[s._v(s._s(s._f("dataParams")(e.row.transportAging)))]):n("span",[s._v("暂未填写")])]}}])}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"departureHzData",label:"发车频率",width:"150"},scopedSlots:s._u([{key:"default",fn:function(e){return[e.row.departureHzData?n("span",[s._v(s._s(e.row.departureHzData)+"天/"+s._s(e.row.departureHzTime)+"次")]):n("span",[s._v("暂未填写")])]}}])}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"rangeTypeName",label:"专线类型",width:"120"}}),s._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"createTime",label:"创建时间",width:"160"},scopedSlots:s._u([{key:"default",fn:function(e){return[s._v("\n                             "+s._s(s._f("parseTime")(e.row.createTime))+"\n                        ")]}}])})],1)],1)]),s._v(" "),n("div",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_HIGHSEA_LINE_LIST",arg:"SERVICE_LTL_HIGHSEA_LINE_LIST"}],staticClass:"info_tab_footer"},[s._v("共计:"+s._s(s.totalCount)+" "),n("div",{staticClass:"show_pager"},[n("Pager",{ref:"pager",attrs:{total:s.totalCount},on:{change:s.handlePageChange}})],1)])],1)},staticRenderFns:[]};t.a=s},rtqW:function(e,t){},t6jt:function(e,t,a){"use strict";t.e=function(e,t,a){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/listWebAflcTransportRange",method:"post",data:{currentPage:e,pageSize:t,vo:a}})},t.f=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/getWebAflcTransportRange/"+e,method:"get"})},t.b=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/createWebAflcTransportRange",method:"post",data:e})},t.g=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/updateWebAflcTransportRange",method:"post",data:e})},t.d=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/deleteBatch",method:"DELETE",data:e})},t.a=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/updateAflcTransportRangeStatus/"+e,method:"PUT"})},t.c=function(e){return Object(s.a)({url:"/"+n+"/usercenter/aflcTransportRange/v1/delete/"+e,method:"delete"})};var s=a("Vo7i"),n="aflc-uc"},xqzA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Rgu9"),n=a("mexm");var i=function(e){a("rtqW")},o=a("VU/8")(s.a,n.a,i,null,null);t.default=o.exports}});