webpackJsonp([531],{"74zt":function(e,r,t){"use strict";r.E=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclPlatformStandardPriceNewV2/v1/list",method:"post",data:e})},r.A=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclPlatformStandardPriceNewV2/v1/add",method:"post",data:e})},r.G=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclPlatformStandardPriceNewV2/v1/update",method:"put",data:e})},r.h=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/list",method:"post",data:e})},r.f=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/"+e,method:"get"})},r.x=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/add",method:"post",data:e})},r.M=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/update",method:"put",data:e})},r.e=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/batchUpdate",method:"put",data:e})},r.j=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcLclValueDeliveTakePrice/v1/banOrUse",method:"put",data:e})},r.i=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/list",method:"post",data:e})},r.y=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/add",method:"post",data:e})},r.g=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/"+e,method:"get"})},r.N=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/update",method:"put",data:e})},r.k=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/banOrUse",method:"put",data:e})},r.m=function(){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/templateExcel?platformType=1",responseType:"blob",method:"get"})},r.s=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/import",method:"post",data:e})},r.l=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueDeliveTakePrice/v1/outAgencyExcel?platformType="+e.platformType+"&carriersId="+e.carriersId+"&carriersName="+e.carriersName+"&useType="+e.useType,responseType:"blob",method:"get"})},r.K=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/list",method:"post",data:e})},r.B=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/add",method:"post",data:e})},r.J=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/"+e,method:"get"})},r.H=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/update",method:"put",data:e})},r.L=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/banOrUse",method:"put",data:e})},r.r=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/import",method:"post",data:e})},r.n=function(e){var r=e||"0";return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/templateExcel?platformType="+r,responseType:"blob",method:"get"})},r.o=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/outAgencyExcel?agencyName="+e.agencyName+"&agencyId="+e.agencyId+"&platformType="+e.platformType+"&agencyArea="+e.agencyArea+"&startArea="+e.startArea+"&startProvince="+e.startProvince+"&startCity="+e.startCity+"&startAreaCode="+e.startAreaCode+"&carriersId="+e.carriersId+"&carriersName="+e.carriersName+"&pointId="+e.pointId+"&pointName="+e.pointName+"&pointArea="+e.pointArea,responseType:"blob",method:"get"})},r.D=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAreaPriceNewV2/v1/list",method:"post",data:e})},r.z=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAreaPriceNewV2/v1/add",method:"post",data:e})},r.F=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAreaPriceNewV2/v1/update",method:"put",data:e})},r.a=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAreaPriceNewV2/v1/"+e,method:"get"})},r.b=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAreaPriceNewV2/v1/banOrUse",method:"put",data:e})},r.t=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/list",method:"post",data:e})},r.q=function(e,r){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAgencyLinePriceNewV2/v1/agencyLine?areaCode="+e+"&cityName="+r,method:"get"})},r.C=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/add",method:"post",data:e})},r.I=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/update",method:"put",data:e})},r.u=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/"+e,method:"get"})},r.v=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/banOrUse",method:"put",data:e})},r.p=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclAreaAgencyAndLinePriceNewV2/v1/outAgencyExcel?agencyId="+e,responseType:"blob",method:"get"})},r.c=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAgencyAndPlatformPriceNewV2/v1/list",method:"post",data:e})},r.w=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAgencyAndPlatformPriceNewV2/v1/add",method:"post",data:e})},r.d=function(e){return Object(a.a)({url:"/"+l+"/lclserver/aflcLclValueAgencyAndPlatformPriceNewV2/v1/banOrUse",method:"put",data:e})};var a=t("Vo7i"),c="aflc-uc",l="aflc-lcl"},NnYa:function(e,r,t){"use strict";r.b=function(e){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/list",method:"post",data:e})},r.e=function(e){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/add",method:"post",data:e})},r.f=function(e){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/update",method:"put",data:e})},r.a=function(e){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/"+e,method:"get"})},r.c=function(e){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/banOrUse",method:"put",data:e})},r.d=function(){return Object(a.a)({url:"/"+c+"/lclserver/aflcLclDedicatedCarriersLine/v1/carriersLine",method:"get"})};var a=t("Vo7i"),c="aflc-lcl"},Sxp8:function(e,r,t){"use strict";var a=t("NnYa"),n=t("74zt"),i=t("0xDb");r.a={name:"batchImport",components:{},props:{dialogVisible:{type:Boolean,default:!1},currentTitle:{type:String,default:"请选择导入定价的出发区/县"},exportType:{type:String}},watch:{dialogVisible:function(e,r){}},data:function(){return{formLabelWidth:"120px",loading:!0,form:{excelFile:"",platformType:"1",carriersId:"",carriersName:"",useType:"0"},optionseAreaAgency:[],rules:{carriersId:{required:!0,message:"请选择专线承运商",trigger:"change"},excelFile:{required:!0,message:"请选择导入文件",trigger:"change"}},btnShow:!1,optionsCarriers:[]}},mounted:function(){this.init()},methods:{getfileName:function(e){this.form.excelFile=e.path[0].files[0].name},init:function(){var r=this;Object(a.d)().then(function(e){r.optionsCarriers=e.data})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return a.$message({type:"warning",message:"请填写完整数据!"}),!1;a.btnShow=!0;var r=a.$refs.inputer,t=new FormData;t.append("excelFile",r.files[0]),t.append("platformType",a.form.platformType),t.append("carriersId",a.form.carriersId),t.append("carriersName",a.optionsCarriers.find(function(e){return e.id==a.form.carriersId}).carriersName),t.append("useType",a.form.useType),Object(n.s)(t).then(function(e){a.$message({type:"success",message:"操作成功！"}),a.close()}).catch(function(e){a.$message({type:"warning",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)}),a.btnShow=!1})})},submitForm2:function(e){var l=this;this.$refs[e].validate(function(e){if(!e)return l.$message({type:"warning",message:"请填写完整数据!"}),!1;l.form.carriersName=l.optionsCarriers.find(function(e){return e.id==l.form.carriersId}).carriersName;var c=Object(i.i)(l.form);l.$message.info("正在导出中..."),Object(n.l)(c).then(function(e){var r=new Blob([e]),t=window.URL.createObjectURL(r),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("download",c.carriersName+"送货费定价.xlsx"),document.body.appendChild(a),a.click(),document.body.removeChild(a),l.close()}).catch(function(e){l.$message({type:"warning",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)}),l.btnShow=!1})})},close:function(e){this.$refs.ruleForm.resetFields(),this.$emit("update:dialogVisible",!1),"batchImport"==this.exportType&&(this.$refs.inputer.value=""),this.$emit("close"),"function"==typeof e&&e()},downloading:function(){this.$emit("downloading")}}}},XA3B:function(e,r){},ZCpZ:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Sxp8"),c=t("cvzB");var l=function(e){t("XA3B")},n=t("VU/8")(a.a,c.a,l,null,null);r.default=n.exports},cvzB:function(e,r,t){"use strict";var a={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticClass:"batchImport",attrs:{title:r.currentTitle,top:"15vh",modal:!1,visible:r.dialogVisible,"custom-class":"add-review","close-on-click-modal":!1,"modal-append-to-body":!1,width:"30%","before-close":r.close}},[t("div",{staticClass:"ifcancel"},[t("el-form",{ref:"ruleForm",attrs:{model:r.form,rules:r.rules,"label-width":r.formLabelWidth,"label-position":"right"}},[t("el-form-item",{attrs:{label:"专线承运商：",prop:"carriersId"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:r.form.carriersId,callback:function(e){r.$set(r.form,"carriersId",e)},expression:"form.carriersId"}},r._l(r.optionsCarriers,function(e){return t("el-option",{key:e.id,attrs:{label:e.carriersName,value:e.id}})}))],1),r._v(" "),"batchImport"==r.exportType?t("el-form-item",{attrs:{label:"导入数据：",prop:"excelFile"}},[t("el-input",{attrs:{clearable:""},model:{value:r.form.excelFile,callback:function(e){r.$set(r.form,"excelFile",e)},expression:"form.excelFile"}},[t("el-button",{attrs:{slot:"prepend",title:"点击下载导入模板",icon:"el-icon-download"},on:{click:r.downloading},slot:"prepend"}),r._v(" "),t("label",{staticClass:"file-box",attrs:{slot:"append",for:"file"},slot:"append"},[t("span",{staticClass:"look-file"},[r._v("浏览")]),r._v(" "),t("input",{ref:"inputer",staticClass:"file-input Js_file-input",attrs:{id:"file",type:"file"},on:{change:r.getfileName}})])],1)],1):r._e()],1)],1),r._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["batchImport"==r.exportType?t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(e){r.submitForm("ruleForm")}}},[r._v("确认")]):t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(e){r.submitForm2("ruleForm")}}},[r._v("确认")]),r._v(" "),t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:r.close}},[r._v("取消")])],1)])},staticRenderFns:[]};r.a=a}});