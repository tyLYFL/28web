webpackJsonp([390],{"4zgh":function(e,t){},"5CI6":function(e,t,n){"use strict";t.e=function(e){return r.a.post("/"+a+"/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.f=function(e){return r.a.put("/"+a+"/system/role/v1/",e).then(function(e){return e.data?e.data:{}})},t.a=function(e){return r.a.delete("/"+a+"/system/role/v1/"+e).then(function(e){return e.data?e.data:{}})},t.b=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;return r.a.post("/"+a+"/system/role/v1/findAllInfo",{currentPage:n,pageSize:o,vo:{orgid:e,rolesName:t}}).then(function(e){return e.data||{total:0,list:[]}})},t.d=function(e){return r.a.get("/"+a+"/system/menu/v1/menuTree/",{params:{role_id:e||0}}).then(function(e){return e.data||[]})},t.c=function(e){return r.a.get("/"+a+"/system/dict/v1/selectDictInfo",{params:{dictType:"menu_type",orgid:e}}).then(function(e){return e.data||[]})};var r=n("Vo7i"),a="aflc-common"},BeJv:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popRight",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[n("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),n("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),n("div",{staticClass:"popRight-content arteryDelivery_lrl"},[e._t("content",[e._v("内容")])],2),e._v(" "),n("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=o},JEOC:function(e,t){},P5Di:function(e,t,n){"use strict";var o=n("R5Qd"),r=n("BeJv");var a=function(e){n("4zgh")},i=n("VU/8")(o.a,r.a,a,null,null);t.a=i.exports},R5Qd:function(e,t,n){"use strict";t.a={props:{width:{type:String,default:"546"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex)}},methods:{close:function(){this.$emit("close")}}}},TyhB:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVQ4T8WTsUoDURBF77xNRAt3U6QQIRCFNPoL7ib+gHWIICSktrEQa2PhFwgib0VEBE1rFSGYhTTxD0TExkb0uRol8e2OJJWgyQohONUUM4c7lzuEEYtG3Mf4AbkTPxl0eBvMMWNSbNUL5uN31UMVOEcfcwg6l2DcgUgDSIu0uVBf7vf9GgjIuW8zIXSLGTuNUmKvN2y76pwhLryiKSMBtlS7AMU10b7BYdcrJW5t+XIKUK1RMg8GAhz5noLBSQ4+8z0AEVoA8ixQoRDHkSfYUtVJ0Jlgoxog8B5ezcXZaV+JeDyjqdv2VhPPQ020pWrrkFLNsvXUG3QO/Q0wZ6+K1spvmflhou2qGhjXIVsVg/xNBoo6RLZZtm7+BFiSal4QqgAyzFTj2MS6tzZ1Pyix409i1K/8v4IvMT9zEV3+DDMAAAAASUVORK5CYII="},UEfP:function(e,t,n){"use strict";var o=n("mvHQ"),r=n.n(o),a=n("woOf"),i=n.n(a),s=n("P5Di"),l=n("5CI6"),c=n("0xDb");t.a={components:{popRight:s.a},props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},reference:{type:Boolean,default:!1},dotInfo:Array,theUser:Object,createrId:[Number,String]},watch:{dotInfo:function(e){this.treeData=this.dotInfo,this.$refs.tree.setCheckedKeys(function t(e){var n=[];return e.map(function(e){e.isSelected?n.push(e.id):e.children&&(n=n.concat(t(e.children)))}),n}(this.treeData))},theUser:function(e){this.isModify?(this.popTitle="修改角色",this.formInline=Object(c.i)(this.theUser||{})):this.reference?this.formInline.menusId=this.theUser.id:(this.popTitle="新增角色",this.result()),this.roleKey=Math.random(),console.log("this.theUser",this.formInline)},reference:function(){this.reference&&(this.formInline={roleName:"",remark:"",menusId:this.theUser.id,createrId:this.createrId},this.popTitle="新增角色")}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},data:function(){return{rules:{roleName:[{required:!0,message:"请输入角色名称",validator:function(e,t,n){if(!t)return n(new Error("请输入角色名称"));n()},trigger:"blur"},{max:12,message:"最多可输入12个字符"}],remarks:[{validator:function(e,t,n){n()},trigger:"blur"},{max:250,message:"最多可输入250个字符",trigger:"blur"}]},roleKey:"",treeData:[],defaultProps:{children:"children",label:"name"},formInline:{roleName:"",remark:"",menusId:[],createrId:this.createrId},popTitle:"新增角色",loading:!1}},mounted:function(){},methods:{newInfoData:function(){this.formInline={roleName:"",remark:"",menusId:"",createrId:this.createrId}},result:function(){this.newInfoData(),this.roleKey=Math.random()},closeMe:function(e){this.result(),this.$emit("close"),this.$refs.formName.resetFields(),"function"==typeof e&&e()},handleNodeClick:function(e){},handleCheckChange:function(e,t,n){},aa:function(e,t,n,o){console.log("node",e,t,n)},getCheckedNodes:function(e,t){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=o.$refs.tree.getCheckedNodes();o.formInline.menusId=t.map(function(e){return e.id});var n=i()({},o.formInline);(o.isModify?Object(l.f)(n):(o.reference,Object(l.e)(n))).then(function(e){o.$emit("success"),o.loading=!1,o.closeMe(),o.$message.success("保存成功")}).catch(function(e){o.$message.error("错误："+(e.text||e.errInfo||e.data||r()(e))),o.loading=!1})})}}}},aj8V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("UEfP"),r=n("h4q4");var a=function(e){n("JEOC")},i=n("VU/8")(o.a,r.a,a,null,null);t.default=i.exports},h4q4:function(e,t,a){"use strict";var n={render:function(){var o=this,e=o.$createElement,r=o._self._c||e;return r("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],staticClass:"add-role-pop-content",attrs:{title:o.popTitle,isShow:o.popVisible},on:{close:o.closeMe}},[r("template",{staticClass:"addEmployeerPop-content",slot:"content"},[r("div",{staticClass:"add-role"},[r("div",{staticClass:"add-role-top"},[r("el-form",{ref:"formName",staticClass:"demo-form-inline",attrs:{inline:!0,rules:o.rules,model:o.formInline}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[r("el-input",{attrs:{clearable:""},model:{value:o.formInline.roleName,callback:function(e){o.$set(o.formInline,"roleName",e)},expression:"formInline.roleName"}})],1),o._v(" "),r("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:300},model:{value:o.formInline.remark,callback:function(e){o.$set(o.formInline,"remark",e)},expression:"formInline.remark"}})],1)],1)],1),o._v(" "),r("div",{staticClass:"add-role-tree"},[r("el-tree",{key:o.roleKey,ref:"tree",attrs:{data:o.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:o.defaultProps},on:{"node-click":o.handleNodeClick,"check-change":o.handleCheckChange,check:o.aa},scopedSlots:o._u([{key:"default",fn:function(e){var t=e.node,n=e.data;return r("span",{staticClass:"custom-tree-node"},[0===n.status?r("span",[r("img",{attrs:{src:a("TyhB"),alt:""}}),o._v("\n                  "+o._s(t.label)+"\n                  ")]):r("span",[r("img",{attrs:{src:a("vzGk"),alt:""}}),o._v("\n                  "+o._s(t.label)+"\n                  ")])])}}])})],1)])]),o._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){o.getCheckedNodes("formName")}}},[o._v("保存")]),o._v(" "),r("el-button",{on:{click:o.closeMe}},[o._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=n},vzGk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACL0lEQVQ4T6WTP0xTURTGv3NuXxX0vSqDmxsxQQY1RjSR1nQwBgeNg4MSiS0kuuDgwkBMjEYGYkwMCybaAoZFF2EyBgdeUyQYXdT4Z/DPpMGl71GgvL57jymCsbQmJN7t3nPuL9937ncJ/7mo3v1jWT8ukEEAR9bqsyDucy/a7sb+aoAIxUe8exC0EasrJZJ3umSHjVZxP6DvgjCX+xa7jOtk1kFVgPasf5XEdBShzm+HHgD4J8hEBPxjObCHtkX95xCadNPO7bqARLbwucR8aKs2A2FEXZvpsufXGyu2QoN5RWbKTe/YXQNoH/X3sJbxgKJnLQnO6AiPq1DPgagBwkli6SiHMmEpeVwGn3uRcj5UIH8stI8UDrJBvxY1pEjvAkNE6DAJlsH4BCMrYPVdjO5losHpVOxlNWC8sJMCml0KnAMArMao3yGgfQxZEVl9jZJh7ldGP1wsx5KvLpFXBahsElnvmQCZ3wXpM+CnLOarAE0A7QUkXrFkjNOc76aFWsDYQouEZgqEIgShEE0abQ2HVrlohXYA9lsV0Eug4emUk6sBVA7io14bDJ4sBU5zo7VwPJd2Jv4OTyLjjQo4k0vb03UBq5CMdwdAIZeO3diYvHjWGyPi++uprBvlow/EZvLeUGRL0u1q+FKtoPAaEdXpdtnv/6lgbaAnAbkVanVhpsd+2/pIok1F7yYRnXJTsZa6SayRm/FPE5lOAU4AZEOQN0I9+W7n46YAm/npvwB8uekRXlNOoQAAAABJRU5ErkJggg=="}});