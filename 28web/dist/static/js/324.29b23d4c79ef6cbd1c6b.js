webpackJsonp([324],{"1onU":function(t,e,i){"use strict";var a=i("VT+v"),s=i("juIs");var n=function(t){i("ZdV2"),i("co/t")},o=i("VU/8")(a.a,s.a,n,"data-v-695be8cd",null);e.a=o.exports},BjNd:function(t,e){},EPeO:function(t,e,i){"use strict";var a=i("mvHQ"),o=i.n(a),s=i("//Fk"),r=i.n(s),n=i("t5DY"),c=i("0xDb");e.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:10},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[],videoUploadPercent:0,videoFlag:!1}},watch:{value:{handler:function(t){if(this.showFileList){var e=Array.isArray(t)?t:t?t.split(","):[];e=e.filter(function(t){return t}),this.filelist=e.map(function(t){var e={};return e.url=t,e})}else this.filelist=[{url:t}]},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return Object(n._15)("aflc").then(function(t){e.upload.OSSAccessKeyId=t.accessid,e.upload.policy=t.policy,e.upload.signature=t.signature,e.uploadUrl=t.host,e.dir=t.dir}).catch(function(t){console.log("get Policy ERror:",t)})},uploadVideoProcess:function(t,e,i){this.videoFlag=!0,this.videoUploadPercent=parseInt(t.percent)},rmImage:function(){this.emitInput("")},onexceed:function(t,e){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(t,e){console.log("handleRemove:",t,e),this.filelist=e,this.emitInput()},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),s=t.getHours(),n=t.getMinutes(),o=t.getSeconds();return e+"_"+i+"_"+a+"_"+(s=s<10?"0"+s:s)+(n=n<10?"0"+n:n)+(o=o<10?"0"+o:o)},random_string:function(t){var e="IMG_WEB_",i=this.getNowFormatDate();return console.log("timestamp",i),e+=i+"_"+Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,4))},emitInput:function(t){t&&this.filelist.push({url:t}),this.$emit("input",this.showFileList?this.filelist.map(function(t){return t.url}).join(","):t)},handleImageScucess:function(t){this.videoFlag=!1;var e="";-1!==t.indexOf("Location")&&(e=(e=t.match(/<Location>([^<]+)<\/Location>/m))?e[1].replace("//"+this.dir,"/"+this.dir):""),this.emitInput(e)},handleError:function(t){console.log("upload err:",t),this.$emit("error",t)},beforeUpload:function(t){var i=this;console.log("beforeUpload:",t);var a=/image\/\w+/.test(t.type)&&/(jpe?g|png)/i.test(t.type),s=t.size/1024/1024<5,n=t.name.match(/([^\.]+)$/);return n=n?"."+n[1]:"",new r.a(function(e,t){a?s?(console.log("loooo1"),i.init().then(function(t){console.log("loooo2"),i.upload.key=i.dir+Object(c.k)(new Date,"{y}{m}{d}")+"/"+i.random_string()+n,e(!0)}).catch(function(t){console.log("loooo3"),i.$message.error("未知错误："+o()(t)),e(!1)})):(i.$message.error("上传图片大小不能超过 5MB!"),t(!1)):(i.$message.error("上传图片只能是 JPG/PNG 格式!"),t(!1))})}}}},LelT:function(t,e,i){"use strict";var a={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"TwoColumns clearfix"},[i("div",{staticClass:"columnsContainer"},[i("div",{staticClass:"side_right"},[i("div",{staticClass:"side_right_bottom clearfix"},[i("div",{staticClass:"btns_box clearfix"},[i("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-circle-plus"},on:{click:function(t){a.handleClick("add")}}},[a._v("新增考卷")])],1),a._v(" "),i("div",{staticClass:"info_news"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,"span-method":a.objectSpanMethod,stripe:"",border:"",height:"100%","tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(t.$index+1))]}}])}),a._v(" "),i("el-table-column",{attrs:{sortable:"",label:"课程分类名称",prop:"course"}}),a._v(" "),i("el-table-column",{attrs:{prop:"title",sortable:"",label:"考卷名称"}}),a._v(" "),i("el-table-column",{attrs:{prop:"intro",sortable:"",label:"考卷说明"}}),a._v(" "),i("el-table-column",{attrs:{prop:"dur",sortable:"",label:"考卷完成时间"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",[a._v(a._s(t.row.dur)+"分钟")])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"passScore",sortable:"",label:"最低通过分数"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",[a._v(a._s(t.row.passScore)+"分")])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"standardPrice",sortable:"",label:"题目总数/题目总分"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",[a._v(a._s(t.row.totalNum)+"/"+a._s(t.row.totalScore)+"分")])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"status",sortable:"",label:"考卷状态"},scopedSlots:a._u([{key:"default",fn:function(t){return["draft"===t.row.status?i("div",[a._v("草稿")]):a._e(),a._v(" "),"on"===t.row.status?i("div",[a._v("上架")]):a._e(),a._v(" "),"off"===t.row.status?i("div",[a._v("下架")]):a._e()]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"standardPrice",sortable:"",width:"420",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("div",{staticClass:"display_cell"},["on"===e.row.status?i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.handleDowm(e.row)}}},[a._v("下架")]):a._e(),a._v(" "),"draft"===e.row.status?i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.handleClick("edit",e.row)}}},[a._v("修改考卷")]):a._e(),a._v(" "),"draft"===e.row.status?i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.del(e.row)}}},[a._v("删除考卷")]):a._e(),a._v(" "),"draft"===e.row.status?i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.handleListQuestion(e.row.id)}}},[a._v("选择题目")]):a._e(),a._v(" "),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.handlePreview(e.row)}}},[a._v("预览考卷")]),a._v(" "),"draft"===e.row.status||"off"===e.row.status?i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){a.handleUp(e.row)}}},[a._v("上架")]):a._e()],1)]}}])})],1)],1)])])]),a._v(" "),i("div",{staticClass:"info_tab_footer"},[a._v("\n    共计:"+a._s(a.dataTotal)+"\n    "),i("div",{staticClass:"show_pager"},[i("Pager",{ref:"pager",attrs:{total:a.dataTotal},on:{change:a.handlePageChange}})],1)]),a._v(" "),i("div",{staticClass:"commoncss"},[i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,visible:a.dialogFormVisible,title:a.btntitle,width:"750px"},on:{"update:visible":function(t){a.dialogFormVisible=t},close:a.closeClick}},[i("el-form",{ref:"formData",attrs:{model:a.formData,"label-position":"right","label-width":"130px"}},[i("el-form-item",{attrs:{label:"课程分类名称",prop:"classification",rules:{required:!0,message:"选择考卷分类",trigger:"change"}}},[i("el-select",{staticStyle:{width:"50%"},attrs:{size:"mini",clearable:""},model:{value:a.formData.classification,callback:function(t){a.$set(a.formData,"classification",t)},expression:"formData.classification"}},a._l(a.classificationList,function(t){return i("el-option",{key:t.id,attrs:{label:t.course,value:t.id}})}))],1),a._v(" "),i("el-form-item",{attrs:{label:"考卷状态",prop:"status",rules:{required:!0,message:"选择考卷状态",trigger:"change"}}},[i("el-select",{staticStyle:{width:"50%"},attrs:{disabled:"",clearable:"",placeholder:"请选择"},model:{value:a.formData.status,callback:function(t){a.$set(a.formData,"status",t)},expression:"formData.status"}},a._l(a.courseStatusList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.code}})}))],1),a._v(" "),i("el-form-item",{attrs:{label:"考试完成时间",prop:"dur",rules:{required:!0,validator:function(t,e,i){return a.checkNember(t,e,i,"请输入最少1位最多3位数字整数")},trigger:"blur"}}},[i("el-input",{attrs:{maxlength:"3",clearable:"",placeholder:"请输入最少1位最多3位数字整数"},model:{value:a.formData.dur,callback:function(t){a.$set(a.formData,"dur",t)},expression:"formData.dur"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"最低通过分数",prop:"passScore",rules:{required:!0,validator:function(t,e,i){return a.checkNember(t,e,i,"请输入最少1位最多2位数字整数")},trigger:"blur"}}},[i("el-input",{attrs:{maxlength:"2",clearable:"",placeholder:"请输入最少1位最多2位数字整数"},model:{value:a.formData.passScore,callback:function(t){a.$set(a.formData,"passScore",t)},expression:"formData.passScore"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"考卷名称",prop:"title",rules:{required:!0,validator:function(t,e,i){return a.checkLength(t,e,i,"请输入最少5个字最多15个字考卷名称",5,15)},trigger:"blur"}}},[i("el-input",{attrs:{minlength:"5",maxlength:"15",clearable:"",placeholder:"请输入最少5个字最多15个字考卷名称"},model:{value:a.formData.title,callback:function(t){a.$set(a.formData,"title",t)},expression:"formData.title"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"考卷说明",prop:"intro",rules:{required:!0,validator:function(t,e,i){return a.checkLength(t,e,i,"请输入最少5个字最多100个字考卷说明",5,100)},trigger:"blur"}}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入最少5个字最多100个字考卷说明",minlength:"5",maxlength:"100",clearable:""},model:{value:a.formData.intro,callback:function(t){a.$set(a.formData,"intro",t)},expression:"formData.intro"}})],1)],1),a._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(t){a.submit()}}},[a._v("确 定")]),a._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:function(t){a.close()}}},[a._v("关 闭")])],1)],1),a._v(" "),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,visible:a.dialogFormVisible1,title:"选择题目",width:"1200px"},on:{"update:visible":function(t){a.dialogFormVisible1=t},close:a.closeClickListQuestion}},[i("el-row",{staticClass:"preview_top",attrs:{justify:"center",type:"flex"}},[i("h2",[a._v("业务员考试题目列表")])]),a._v(" "),i("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"题目名称 ："}},[i("el-input",{staticStyle:{width:"280px"},attrs:{size:"mini",clearable:"",placeholder:"题目名称"},model:{value:a.titleName,callback:function(t){a.titleName=t},expression:"titleName"}})],1)],1),a._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){a.searchListQuestion()}}},[a._v("查询")])],1)],1)],1)],1),a._v(" "),i("el-row",{staticClass:"preview_top"},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success"},on:{click:function(t){a.submitListQuestion()}}},[a._v("确定")]),a._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:function(t){a.clearListQuestion()}}},[a._v("取消")])],1),a._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.tableDataListQuestion,stripe:"",border:"","tooltip-effect":"dark"},on:{"selection-change":a.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),a._v(" "),i("el-table-column",{attrs:{sortable:"",label:"题目分类"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",[a._v(a._s(t.row.course))])]}}])}),a._v(" "),i("el-table-column",{attrs:{sortable:"",label:"题目类型"},scopedSlots:a._u([{key:"default",fn:function(t){return["duo"===t.row.type?i("div",[a._v("多选题")]):i("div",[a._v("单选题")])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"title",sortable:"",label:"题目名称"}}),a._v(" "),i("el-table-column",{attrs:{sortable:"",label:"题目可选答案"},scopedSlots:a._u([{key:"default",fn:function(t){return a._l(t.row.contentList1,function(t,e){return i("div",{key:e},[i("div",[a._v(a._s(t))])])})}}])}),a._v(" "),i("el-table-column",{attrs:{sortable:"",label:"题目答案"},scopedSlots:a._u([{key:"default",fn:function(t){return a._l(t.row.answerList1,function(t,e){return i("div",{key:e},[i("div",[a._v(a._s(t))])])})}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"score",sortable:"",label:"题目得分"}}),a._v(" "),i("el-table-column",{attrs:{prop:"updateTime",sortable:"",label:"题目创建时间"}})],1),a._v(" "),i("div",{staticClass:"dialog-footer",staticStyle:{height:"80px"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){a.dialogFormVisible1=!1}}},[a._v("关 闭")])],1),a._v(" "),i("div",{staticClass:"info_tab_footer"},[a._v("\n        共计:"+a._s(a.dataTotalListQuestion)+"\n        "),i("div",{staticClass:"show_pager"},[i("Pager",{ref:"pager",attrs:{total:a.dataTotalListQuestion},on:{change:a.handlePageChangeListQuestion}})],1)])],1),a._v(" "),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,visible:a.dialogFormVisible2,title:"预览考卷",width:"750px"},on:{"update:visible":function(t){a.dialogFormVisible2=t},close:a.closeClickPreview}},[i("el-row",{staticClass:"preview_top",attrs:{justify:"center",type:"flex"}},[i("h2",[a._v("考卷名称:"+a._s(a.name))])]),a._v(" "),i("el-row",{attrs:{justify:"center",type:"flex"}},[i("p",[a.previewData.dan?i("span",[a._v("单选题:"+a._s(a.previewData.dan.count)+"题")]):a._e(),a._v(" "),a.previewData.duo?i("span",[a._v("多选题:"+a._s(a.previewData.duo.count)+"题")]):a._e(),a._v(" "),a.previewData.totalScore?i("span",[a._v("共"+a._s(a.previewData.totalScore)+"分")]):a._e()])]),a._v(" "),i("div",{staticClass:"preview_divide"}),a._v(" "),a.previewData.dan?i("el-row",[i("h2",[a._v("单选题(共"+a._s(a.previewData.dan.count)+"题,"+a._s(a.previewData.dan.totalScore)+"分)")]),a._v(" "),a._l(a.previewData.dan.questionList,function(t,e){return i("div",{key:e,staticClass:"preview_item"},[i("div",[a._v(a._s(e+1)+"."+a._s(t.title)+"("+a._s(t.score)+"分)")]),a._v(" "),a._l(t.contentList1,function(t,e){return i("div",{key:e,staticClass:"preview_item"},[i("div",[a._v(a._s(t))])])}),a._v(" "),i("div",{staticClass:"preview_item_bottom"},[a._v("\n            答案:\n            "),a._l(t.answerList1,function(t,e){return i("span",{key:e},[a._v(a._s(t)+"   ")])})],2)],2)})],2):a._e(),a._v(" "),a.previewData.duo?i("el-row",[i("h2",[a._v("多选题(共"+a._s(a.previewData.duo.count)+"题,"+a._s(a.previewData.duo.totalScore)+"分)")]),a._v(" "),a._l(a.previewData.duo.questionList,function(t,e){return i("div",{key:e,staticClass:"preview_item"},[i("div",[a._v(a._s(e+1)+"."+a._s(t.title)+"("+a._s(t.score)+"分)")]),a._v(" "),a._l(t.contentList1,function(t,e){return i("div",{key:e,staticClass:"preview_item"},[i("div",[a._v(a._s(t))])])}),a._v(" "),i("div",{staticClass:"preview_item_bottom"},[a._v("\n            答案:\n            "),a._l(t.answerList1,function(t,e){return i("span",{key:e},[a._v(a._s(t)+"   ")])})],2)],2)})],2):a._e(),a._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){a.dialogFormVisible2=!1}}},[a._v("关 闭")])],1)],1)],1)])},staticRenderFns:[]};e.a=a},"M/uo":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("posr"),s=i("LelT");var n=function(t){i("wyz8")},o=i("VU/8")(a.a,s.a,n,"data-v-77579a83",null);e.default=o.exports},QbVN:function(t,e,i){"use strict";var a=i("EPeO"),s=i("jrcS");var n=function(t){i("BjNd"),i("yDTW")},o=i("VU/8")(a.a,s.a,n,"data-v-a8a0f0d6",null);e.a=o.exports},"VT+v":function(t,e,i){"use strict";e.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(t){this.oldValue=t.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(t){this.pageNum=t,this.changeEvent()},handleSizeChange:function(t){this.size=t,this.changeEvent()},handleChange:function(t){var e=parseInt(t,10);isNaN(e)?this.inputval=1:e<1?this.inputval=1:e>this.pages?this.inputval=this.pages:this.inputval=e},handleBlur:function(t){var e=t.target;this.handleChange(e.value),this.jumpTo(this.inputval)},handleKeyup:function(t){var e=t.keyCode,i=t.target;console.log("page keydown:",e,i),13===e&&this.oldValue&&i.value!==this.oldValue&&(this.handleChange(i.value),this.oldValue="")},jumpTo:function(t){console.log("d",this.inputval),t<1?this.pageNum=1:t>this.pages?this.pageNum=this.pages:this.pageNum=t,this.changeEvent()}}}},ZdV2:function(t,e){},"co/t":function(t,e){},jrcS:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container",class:{uploadlist:t.showFileList}},[t.uploadUrl?i("el-upload",{staticClass:"image-uploader",attrs:{data:t.upload,action:t.uploadUrl,multiple:!1,drag:!t.showFileList,"show-file-list":t.showFileList,"file-list":t.filelist,limit:t.limit,"before-upload":t.beforeUpload,"list-type":t.listtype,"on-exceed":t.onexceed,disabled:t.disabled,"on-remove":t.handleRemove,"on-progress":t.uploadVideoProcess,"on-error":t.handleError,"on-success":t.handleImageScucess}},[t._t("content",[t.title&&!t.showFileList?i("div",{staticClass:"upload__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("el-button",{attrs:{size:t.size,type:"primary"}},[t._v("点击上传")]),t._v(" "),t.showFileList?t._e():i("div",{staticClass:"el-upload__text"},[t._v("将文件拖拽到此区域")]),t._v(" "),t.tip?i("div",{staticClass:"upload__tip"},[t._v(t._s(t.tip))]):t._e()])],2):t._e(),t._v(" "),t.imageUrl&&!t.showFileList?i("div",{staticClass:"image-preview"},[i("div",{staticClass:"image-preview-wrapper"},[i("img",{attrs:{src:t.imageUrl}}),t._v(" "),i("div",{staticClass:"image-preview-action"},[i("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])]):t._e(),t._v(" "),1==t.videoFlag?i("div",{staticClass:"progressShow"},[i("el-progress",{attrs:{type:"circle",percentage:t.videoUploadPercent}})],1):t._e()],1)},staticRenderFns:[]};e.a=a},juIs:function(t,e,i){"use strict";var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tms-pagenation"},[i("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[i("span",{staticClass:"first-page"})]),i("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[i("span",{staticClass:"prev-page"})]),e._v(" "),i("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),i("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keydown:function(t){return e.handleKeyup(t)}},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),i("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[i("span",{staticClass:"next-page"})]),e._v(" "),i("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[i("span",{staticClass:"last-page"})]),e._v(" "),i("span",{staticClass:"tms-pagination__sizes"},[i("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizesChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])},staticRenderFns:[]};e.a=a},posr:function(t,e,i){"use strict";var a=i("mvHQ"),s=i.n(a),o=i("Vo7i"),n=i("1onU"),r=i("QbVN");e.a={data:function(){return{loading:!1,dialogAreaPrice:!1,dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,formLabelWidth:"140px",btntitle:"",name:"",classificationList:[],courseStatusList:[{code:"draft",name:"草稿"}],formData:{classification:null,courseid:"",serviceid:"",status:"draft",dur:"",passScore:"",title:"",intro:""},page:1,pagesize:20,dataTotal:0,tableData:[],tableDataListQuestion:[],pageListQuestion:1,pagesizeListQuestion:20,dataTotalListQuestion:0,multipleSelection:[],previewData:{},titles:"",titleName:"",testpaperid:"",props:{label:"name",value:"code",children:"children"},Arr:[],Pos:0}},components:{Pager:n.a,upload:r.a},created:function(){this.getClassificationList(),this.getList()},mounted:function(){},methods:{getClassificationList:function(){var e=this;Object(o.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmanlearningcase/v1/list",method:"post",data:{pageNum:1,pageSize:500}}).then(function(t){200===t.status&&(e.classificationList=t.data.list)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},handleUp:function(t){var e=this;0===t.totalnum?this.$message.info("请选择题目"):this.$confirm("是否上架，上架后不可修改与删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.a)({url:"/"+e.$cms+"/usercenter/aflcsalesmantestpaper/v1/publishTestpaper?id="+t.id,method:"post",data:{}}).then(function(t){200===t.status?(e.$message.success("上架成功"),e.getList()):e.$message.warning(t.errorInfo)}).catch(function(t){e.$message.warning(t.errorInfo)})}).catch(function(){})},handleDowm:function(t){var e=this;this.$confirm("是否下架?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.a)({url:"/"+e.$cms+"/usercenter/aflcsalesmantestpaper/v1/offlineTestpaper?id="+t.id,method:"post",data:{}}).then(function(t){200===t.status?(e.$message.success("下架成功"),e.getList()):e.$message.warning(t.errorInfo)}).catch(function(t){e.$message.warning(t.errorInfo)})}).catch(function(){})},submit:function(){var a=this;this.$refs.formData.validate(function(t){if(!t)return!1;if("新增"===a.btntitle){var e={caseId:a.formData.classification,title:a.formData.title,intro:a.formData.intro,dur:a.formData.dur,passScore:a.formData.passScore};Object(o.a)({url:"/"+a.$cms+"/usercenter/aflcsalesmantestpaper/v1/add",method:"post",data:e}).then(function(t){200===t.status?(a.$message.success("新增成功"),a.getList(),a.dialogFormVisible=!1):a.$message.warning(t.errorInfo)}).catch(function(t){a.$message.warning(t.errorInfo)})}else{var i={id:a.formData.id,caseId:a.formData.classification,title:a.formData.title,intro:a.formData.intro,dur:a.formData.dur,passScore:a.formData.passScore};Object(o.a)({url:"/"+a.$cms+"/usercenter/aflcsalesmantestpaper/v1/update",method:"post",data:i}).then(function(t){200===t.status?(a.$message.success("修改成功"),a.getList(),a.dialogFormVisible=!1):a.$message.warning(t.errorInfo)}).catch(function(t){a.$message.warning(t.errorInfo)})}})},close:function(){this.dialogFormVisible=!1},del:function(t){var e=this;this.$confirm("此操作将删除选择的数据, 是否确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,Object(o.a)({url:"/"+e.$cms+"/usercenter/aflcsalesmantestpaper/v1/delete/"+t.id,method:"get"}).then(function(t){200===t.status&&(e.$message.success("删除成功"),e.getList(),e.loading=!1)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})}).catch(function(){})},closeClick:function(){this.formData={classification:null,courseid:"",serviceid:"",status:"draft",dur:"",passscore:"",title:"",intro:""},this.$refs.formData.resetFields()},closeClickListQuestion:function(){this.titleName="",this.testpaperid="",this.$refs.multipleTable.clearSelection()},closeClickPreview:function(){this.previewData={},this.name=""},handleChange2:function(t){this.formData.serviceid=t[0],this.formData.courseid=t[1]},handlePageChange:function(t){this.page=t.pageNum,this.pagesize=t.pageSize,this.getList()},handlePageChangeListQuestion:function(t){this.pageListQuestion=t.pageNum,this.pagesizeListQuestion=t.pageSize,this.getListQuestion()},handleClick:function(t,e){"add"===t&&(this.btntitle="新增"),"edit"===t&&(this.btntitle="修改",this.formData=JSON.parse(s()(e)),this.formData.classification=e.caseId),this.dialogFormVisible=!0},checkLength:function(t,e,i,a,s,n){""===e?i(new Error(a)):e.length<s||e.length>n?i(new Error(a)):i()},checkNember:function(t,e,i,a){""===e?i(new Error(a)):/^[1-9][0-9]*$/g.test(e)?i():i(new Error(a))},handleSelectionChange:function(t){this.multipleSelection=t},searchListQuestion:function(){this.pageListQuestion=1,this.getListQuestion()},submitListQuestion:function(){var i=this;this.tableDataListQuestion.forEach(function(e){i.$set(e,"checked",!1),i.multipleSelection.forEach(function(t){e.id===t.id&&i.$set(e,"checked",!0)})});var e=[],a=[];this.tableDataListQuestion.forEach(function(t){t.checked&&e.push(t.id),t.checked||a.push(t.id)});var t={testpaperId:this.testpaperid,addIdList:e,deleteIdList:a};Object(o.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaper/v1/setQuestions",method:"post",data:t}).then(function(t){200===t.status?(i.$message.success("添加成功"),i.getList()):i.$message.warning(t.errorInfo)}).catch(function(t){i.$message.warning(t.errorInfo)})},clearListQuestion:function(){this.$refs.multipleTable.clearSelection()},getListQuestion:function(){var e=this;this.loading=!0;var t={title:this.titleName,testpaperId:this.testpaperid},n=["A.","B.","C.","D.","E.","F.","G."];Object(o.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaper/v1/findQuestions?pageNum="+this.pageListQuestion+"&pageSize="+this.pagesizeListQuestion,method:"post",data:t}).then(function(t){200===t.status&&(t.data.list.forEach(function(t){var a=[],s=[];t.contentList.forEach(function(e,i){a.push(n[i]+e),t.answerList.forEach(function(t){i===t&&s.push(n[i]+e)})}),t.contentList1=a,t.answerList1=s}),e.tableDataListQuestion=t.data.list,e.dataTotalListQuestion=t.data.total,e.$nextTick(function(){e.tableDataListQuestion.forEach(function(t){t.checked&&e.$refs.multipleTable.toggleRowSelection(t)})}),e.loading=!1)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},handleListQuestion:function(t){this.dialogFormVisible1=!0,this.testpaperid=t,this.getListQuestion(this.testpaperid)},handlePreview:function(t){var e=this;this.dialogFormVisible2=!0,this.loading=!0,this.name=t.course+" - "+t.title;var n=["A.","B.","C.","D.","E.","F.","G."];Object(o.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaper/v1/previewTestpaper?id="+t.id,method:"post",data:{}}).then(function(t){200===t.status&&(t.data.dan&&t.data.dan.questionList.forEach(function(t){var a=[],s=[];t.contentList.forEach(function(e,i){a.push(n[i]+e),t.answerList.forEach(function(t){i===t&&s.push(n[i]+e)})}),t.contentList1=a,t.answerList1=s}),t.data.duo&&t.data.duo.questionList.forEach(function(t){var a=[],s=[];t.contentList.forEach(function(e,i){a.push(n[i]+e),t.answerList.forEach(function(t){i===t&&s.push(n[i]+e)})}),t.contentList1=a,t.answerList1=s}),e.previewData=t.data,e.loading=!1)}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},getList:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,Object(o.a)({url:"/"+this.$cms+"/usercenter/aflcsalesmantestpaper/v1/list?pageNum="+this.page+"&pageSize="+this.pagesize,method:"post",data:t}).then(function(t){200===t.status&&(e.tableData=t.data.list,e.dataTotal=t.data.total,e.loading=!1,e.merage())}).catch(function(t){e.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),e.loading=!1})},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(1===t.columnIndex){var i=this.Arr[e];return{rowspan:i,colspan:0<i?1:0}}},merage:function(){this.merageInit();for(var t=0;t<this.tableData.length;t++)0===t?(this.Arr.push(1),this.Pos=0):""+this.tableData[t].course==""+this.tableData[t-1].course?(this.Arr[this.Pos]+=1,this.Arr.push(0)):(this.Arr.push(1),this.Pos=t)},merageInit:function(){this.Arr=[],this.Pos=0}}}},t5DY:function(t,e,i){"use strict";e._10=function(e){return e=e||"",n.a.get("/"+o+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return n.a.get("/"+o+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(n.a)({url:"/"+o+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(n.a)({url:"/"+o+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(n.a)({url:"/"+r+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return n.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new s.a(function(t){t(window.UPLOADPOLICYDATA)}):n.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return n.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return n.a.get("/"+r+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return n.a.get("/"+r+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return n.a.get("/"+r+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(n.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return n.a.get("/"+o+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return n.a.get("/"+o+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return n.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return n.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(n.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(n.a)({url:"/"+o+"/system/user/v1/operate/staff",method:"post",data:t})};var a=i("//Fk"),s=i.n(a),n=i("Vo7i"),o="aflc-common",r="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},wyz8:function(t,e){},yDTW:function(t,e){}});