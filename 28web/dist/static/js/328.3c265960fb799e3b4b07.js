webpackJsonp([328],{"1alW":function(t,e,a){var r=a("kM2E");r(r.S,"Number",{isInteger:a("AKgy")})},A7NN:function(t,e,a){"use strict";var r={render:function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("div",{staticClass:"RecommendRewordConfigADD commoncss rewordStyle"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:r.formtitle,"close-on-click-modal":!1,top:"5vh",visible:r.dialogFormVisible},on:{close:r.close}},[n("el-form",{ref:"ruleForm",attrs:{model:r.standForm,rules:r.newrules,"label-position":"top","label-width":r.formLabelWidth}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"奖励区域：",prop:"rewardCityCode"}},[r.isModify?n("el-input",{attrs:{value:r.standForm.rewardProvince+r.standForm.rewardCity,"auto-complete":"off",disabled:""}}):n("getCityList",{ref:"area",staticClass:"chooseItem",on:{returnStr:r.getStr},model:{value:r.standForm.rewardCityCode,callback:function(t){r.$set(r.standForm,"rewardCityCode",t)},expression:"standForm.rewardCityCode"}})],1)],1),r._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"成功推荐用户类型：",prop:"userTypeCode"}},[r.isModify?n("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:r.standForm.userTypeName,callback:function(t){r.$set(r.standForm,"userTypeName",t)},expression:"standForm.userTypeName"}}):n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:r.standForm.userTypeCode,callback:function(t){r.$set(r.standForm,"userTypeCode",t)},expression:"standForm.userTypeCode"}},r._l(r.optionsRecommendtype,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1)],1)],1),r._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"活动奖励总上限：",prop:"rewardTotalLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.rewardTotalLimit,callback:function(t){r.$set(r.standForm,"rewardTotalLimit",r._n(t))},expression:"standForm.rewardTotalLimit"}})],1)],1),r._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"奖励日期：",prop:"timeVal"}},[n("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","value-format":"timestamp","unlink-panels":"","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:r.standForm.timeVal,callback:function(t){r.$set(r.standForm,"timeVal",t)},expression:"standForm.timeVal"}})],1)],1)],1),r._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("h2",[r._v("推荐新用户注册奖励")])])],1),r._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"奖励方案：",prop:"groupName"}},[n("table",{staticClass:"systemTitle"},[n("thead",[n("th",[r._v("推荐人次区间")]),r._v(" "),n("th",[r._v("奖励金额")]),r._v(" "),n("th",{staticClass:"lastOne"},[r._v("操作")])]),r._v(" "),n("tbody",r._l(r.standForm.registerAwardList,function(e,a){return n("tr",{key:a},[n("td",[n("el-input",{attrs:{placeholder:"包含",maxlength:"7",disabled:""},model:{value:e.recomAuthStart,callback:function(t){r.$set(e,"recomAuthStart",t)},expression:"item.recomAuthStart"}}),r._v(" "),n("span",[r._v("----")]),r._v(" "),n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{placeholder:"包含，整数",maxlength:"7"},on:{change:function(t){r.ifWrong(r.standForm.registerAwardList,a,"recommendAwards")}},model:{value:e.recomAuthEnd,callback:function(t){r.$set(e,"recomAuthEnd",t)},expression:"item.recomAuthEnd"}})],1),r._v(" "),n("td",[n("el-input",{attrs:{placeholder:"包含",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.registerAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardStart",a,r.standForm.registerAwardList)}},model:{value:e.awardStart,callback:function(t){r.$set(e,"awardStart",t)},expression:"item.awardStart"}}),r._v(" "),n("span",[r._v("~")]),r._v(" "),n("el-input",{attrs:{placeholder:"包含，整数",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.registerAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardEnd",a,r.standForm.registerAwardList)}},model:{value:e.awardEnd,callback:function(t){r.$set(e,"awardEnd",t)},expression:"item.awardEnd"}})],1),r._v(" "),n("td",{staticClass:"lastOne"},[n("div",{staticClass:"iconItem"},[a==r.standForm.registerAwardList.length-1?n("span",{staticClass:"addItem",on:{click:function(t){r.addItem("recommendAwards",a,e)}}}):r._e(),r._v(" "),a==r.standForm.registerAwardList.length-1&&1!=r.standForm.registerAwardList.length?n("span",{staticClass:"reduceItem",on:{click:function(t){r.reduceItem("recommendAwards",a)}}}):r._e()])])])}))])])],1)],1),r._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"单个用户活动奖励上限：",prop:"recommendAwardsawardUserLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.registerAwardList[0].awardUserLimit,callback:function(t){r.$set(r.standForm.registerAwardList[0],"awardUserLimit",r._n(t))},expression:"standForm.registerAwardList[0].awardUserLimit"}})],1)],1),r._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"单个用户每天奖励次数上限：",prop:"recommendAwardsawardDayLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"3"},model:{value:r.standForm.registerAwardList[0].awardDayLimit,callback:function(t){r.$set(r.standForm.registerAwardList[0],"awardDayLimit",r._n(t))},expression:"standForm.registerAwardList[0].awardDayLimit"}})],1)],1)],1),r._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("h2",[r._v("推荐新用户认证奖励")])])],1),r._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"奖励方案：",prop:"groupName"}},[n("table",{staticClass:"systemTitle"},[n("thead",[n("th",[r._v("认证人次区间")]),r._v(" "),n("th",[r._v("奖励金额")]),r._v(" "),n("th",{staticClass:"lastOne"},[r._v("操作")])]),r._v(" "),n("tbody",r._l(r.standForm.authAwardList,function(e,a){return n("tr",{key:a},[n("td",[n("el-input",{attrs:{placeholder:"包含",maxlength:"7",disabled:""},model:{value:e.recomAuthStart,callback:function(t){r.$set(e,"recomAuthStart",t)},expression:"item.recomAuthStart"}}),r._v(" "),n("span",[r._v("----")]),r._v(" "),n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{placeholder:"包含，整数",maxlength:"7"},on:{change:function(t){r.ifWrong(r.standForm.authAwardList,a,"authAwards")}},model:{value:e.recomAuthEnd,callback:function(t){r.$set(e,"recomAuthEnd",t)},expression:"item.recomAuthEnd"}})],1),r._v(" "),n("td",[n("el-input",{attrs:{placeholder:"包含",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.authAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardStart",a,r.standForm.authAwardList)}},model:{value:e.awardStart,callback:function(t){r.$set(e,"awardStart",t)},expression:"item.awardStart"}}),r._v(" "),n("span",[r._v("~")]),r._v(" "),n("el-input",{attrs:{placeholder:"包含，整数",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.authAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardEnd",a,r.standForm.authAwardList)}},model:{value:e.awardEnd,callback:function(t){r.$set(e,"awardEnd",t)},expression:"item.awardEnd"}})],1),r._v(" "),n("td",{staticClass:"lastOne"},[n("div",{staticClass:"iconItem"},[a==r.standForm.authAwardList.length-1?n("span",{staticClass:"addItem",on:{click:function(t){r.addItem("authAwards",a,e)}}}):r._e(),r._v(" "),a==r.standForm.authAwardList.length-1&&1!=r.standForm.authAwardList.length?n("span",{staticClass:"reduceItem",on:{click:function(t){r.reduceItem("authAwards",a)}}}):r._e()])])])}))])])],1)],1),r._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"单个用户活动奖励上限：",prop:"authAwardsawardUserLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.authAwardList[0].awardUserLimit,callback:function(t){r.$set(r.standForm.authAwardList[0],"awardUserLimit",r._n(t))},expression:"standForm.authAwardList[0].awardUserLimit"}})],1)],1),r._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"单个用户每天奖励次数上限：",prop:"authAwardsawardDayLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"3"},model:{value:r.standForm.authAwardList[0].awardDayLimit,callback:function(t){r.$set(r.standForm.authAwardList[0],"awardDayLimit",r._n(t))},expression:"standForm.authAwardList[0].awardDayLimit"}})],1)],1)],1),r._v(" "),n("el-row",{staticClass:"rewordRemark"},[n("el-col",{attrs:{span:24}},[n("p",[r._v("页面备注：")]),r._v(" "),n("ul",r._l(r.remarkList,function(t,e){return n("li",{key:e},[n("span",[r._v(r._s(e+1+"."))]),n("span",[r._v(r._s(t.label))])])}))])],1)],1),r._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:r.btnShow},on:{click:function(t){r.submitForm("ruleForm")}}},[r._v(r._s(r.isModify?"保 存":"确 定"))]),r._v(" "),n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:r.close}},[r._v("取 消")])],1)],1)],1)},staticRenderFns:[]};e.a=r},AKgy:function(t,e,a){var r=a("EqjI"),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},CSar:function(t,e,a){"use strict";var r=a("t5DY");e.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(t){t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){var e=this;Object(r._2)().then(function(t){e.cityTree=t.data})},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(t,e,a){"use strict";var r=a("CSar"),n=a("JNZ8");var s=function(t){a("fJqg")},i=a("VU/8")(r.a,n.a,s,null,null);e.a=i.exports},DOtt:function(t,e){},JNZ8:function(t,e,a){"use strict";var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chooseCityList"},[a("el-cascader",{ref:"cityTree",attrs:{options:e.cityTree,disabled:e.disabled,props:e.props},on:{change:e.handleItemMore},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=r},K9Ec:function(t,e,a){"use strict";e.e=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardSetting/v1/list",method:"post",data:t})},e.p=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardSetting/v1/add",method:"post",data:t})},e.f=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardSetting/v1/openOrForbidden",method:"post",data:t})},e.u=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardSetting/v1/update",method:"put",data:t})},e.j=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcRecommendAwardInfo/v1/list",method:"post",data:t})},e.q=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcRecommendAwardInfo/v1/add",method:"post",data:t})},e.v=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcRecommendAwardInfo/v1/update",method:"put",data:t})},e.k=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcRecommendAwardInfo/v1/openOrForbidden",method:"post",data:t})},e.a=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardSetting/v1/list",method:"post",data:t})},e.o=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardSetting/v1/add",method:"post",data:t})},e.t=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardSetting/v1/update",method:"put",data:t})},e.b=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardSetting/v1/openOrForbidden",method:"post",data:t})},e.r=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardDetail/v1/orderCodeList",method:"post",data:t})},e.s=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRewardDetail/v1/receiveCodeList",method:"post",data:t})},e.d=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcRecommendRewardDetail/v1/list",method:"post",data:t})},e.n=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardDetail/v1/shipperList",method:"post",data:t})},e.c=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcBusinessRewardDetail/v1/driverList",method:"post",data:t})},e.h=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderCodeRecommend/v1/orderCodeList",method:"post",data:t})},e.g=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderCodeRecommend/v1/receiveCodeList",method:"post",data:t})},e.l=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcUserRecommendShare/v1/list",method:"post",data:t})},e.i=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcUserRecommender/v1/list",method:"post",data:t})},e.m=function(t){return Object(r.a)({url:"/"+n+"/sm/aflcOrderRecommend/v1/list",method:"post",data:t})};var r=a("Vo7i"),n="aflc-sm"},"RRo+":function(t,e,a){t.exports={default:a("c45H"),__esModule:!0}},c45H:function(t,e,a){a("1alW"),t.exports=a("FeBl").Number.isInteger},fJqg:function(t,e){},iNdP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("y0OO"),n=a("A7NN");var s=function(t){a("jspc")},i=a("VU/8")(r.a,n.a,s,"data-v-83fe7672",null);e.default=i.exports},jspc:function(t,e){},t5DY:function(t,e,a){"use strict";e._10=function(e){return e=e||"",s.a.get("/"+i+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return s.a.get("/"+i+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(s.a)({url:"/"+i+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(s.a)({url:"/"+i+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(s.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return s.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new n.a(function(t){t(window.UPLOADPOLICYDATA)}):s.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return s.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return s.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(s.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return s.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return s.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(s.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return s.a.get("/"+i+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return s.a.get("/"+i+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return s.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return s.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(s.a)({url:"/"+d+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(s.a)({url:"/"+i+"/system/user/v1/operate/staff",method:"post",data:t})};var r=a("//Fk"),n=a.n(r),s=a("Vo7i"),i="aflc-common",o="aflc-sm",d="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},y0OO:function(t,e,a){"use strict";var r=a("RRo+"),n=a.n(r),s=a("DOtt"),i=(a.n(s),a("t5DY")),d=a("K9Ec"),c=a("0xDb"),o=a("Cae1");e.a={name:"RecommendRewordConfigADD",props:{dialogFormVisible:{type:Boolean,required:!0},formtitle:{type:String,required:!0,default:"新增业务组"},isModify:{type:Boolean,default:!1},changeForm:{type:Object}},components:{getCityList:o.a},data:function(){return{btnShow:!1,formLabelWidth:"150px",standForm:{rewardCityCode:"",rewardCity:"",rewardProvince:"",userTypeName:"",userTypeCode:"",rewardTotalLimit:"",rewardStartDate:"",rewardEndDate:"",timeVal:[],registerAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}],authAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}]},optionsRecommendtype:[],newrules:{rewardCityCode:{required:!0,message:"请选择奖励区域",trigger:"change"},userTypeCode:{required:!0,message:"请选择成功推荐用户类型",trigger:"change"},rewardTotalLimit:{required:!0,validator:function(t,e,a){if(!e)return a(new Error("活动奖励总上限不能为空"));n()(e)?a():a(new Error("请输入数字值"))},trigger:"change"},timeVal:{type:"array",required:!0,message:"请选择奖励日期",trigger:"change"}},remarkList:[{label:"推荐奖励鼓励所有用户分发；在活动期间内，用户推荐新用户进入平台，新用户注册、认证可根据配置，奖励推荐人；"},{label:"活动奖励总上限：当前配置的活动，所有用户获取的总奖励金额不能大于该数值；超出该数值时，活动奖励自动熔断，不再发放奖励；"},{label:"新用户注册、认证奖励推荐人时，每项配置单个用户奖励最多可获取的上限；"},{label:"新用户注册、认证奖励推荐人时，每项配置单个用户每天可获得奖励次数的上限。"}]}},watch:{dialogFormVisible:{handler:function(t,e){t&&this.reviseForms()},deep:!0}},mounted:function(){this.init()},methods:{ifWrong:function(t,e,a){var r="authAwards"==a?"认证人次区间":"推荐人次区间",n=t[e].recomAuthEnd<=t[e].recomAuthStart;if(t.length==e+1&&this.addItem(a,e,t),n)return this.$message({type:"info",message:r+"终止值应不小于起始值"}),t.length>e+1&&t.splice(e+1),t[e].recomAuthEnd="";t.length>e+1&&(t[e+1].recomAuthStart=t[e].recomAuthEnd,t[e+1].recomAuthEnd&&t[e+1].recomAuthEnd<=t[e+1].recomAuthStart&&(this.$message({type:"info",message:r+"终止值应不小于起始值"}),t.splice(e+1),this.addItem(a,e)))},compareValue:function(t,e,a){switch(t){case"awardStart":a[e].awardEnd&&parseInt(a[e].awardEnd)<parseInt(a[e].awardStart)&&(this.$message({type:"info",message:"奖励金额区间起始值不小于终止值"}),a[e].awardStart="");break;case"awardEnd":a[e].awardStart&&parseInt(a[e].awardEnd)<parseInt(a[e].awardStart)&&(this.$message({type:"info",message:"奖励金额区间起始值不小于终止值"}),a[e].awardEnd="")}},handlerChoose:function(t,e,a){var r="awardStart"==t?a[e].awardStart:a[e].awardEnd;r=(r=(r=(r=(r=r.replace(/[^\d.]/g,"")).replace(/^\./g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),"awardStart"==t?a[e].awardStart=r:a[e].awardEnd=r},getStr:function(t){this.standForm.rewardProvince=t.province?t.province.name:"",this.standForm.rewardCity=t.city?t.city.name:"",this.standForm.rewardCityCode=t.city?t.city.code:""},getValue:function(t){return t?t.value:""},close:function(){this.$emit("update:dialogFormVisible",!1),this.$refs.ruleForm.resetFields(),this.clearForms(),this.$emit("renovate"),this.btnShow=!1,this.isModify||this.$refs.area.clearData()},init:function(){var e=this;Object(i.I)().then(function(t){e.optionsRecommendtype=t.data})},reviseForms:function(){this.isModify?(this.standForm=Object(c.i)(this.changeForm),0==this.standForm.authAwardList.length?this.standForm.authAwardList.push({recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}):0==this.standForm.registerAwardList.length&&this.standForm.registerAwardList.push({recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}),this.$set(this.standForm,"timeVal",[this.changeForm.rewardStartDate,this.changeForm.rewardEndDate])):this.clearForms()},submitForm:function(t){var o=this;this.$refs[t].validate(function(t){if(!t)return o.$message({type:"warning",message:"请填写完整数据!"}),!1;o.completeName();var e=!1,a=void 0,r=!1,n=!1,s=!1;if(1==o.standForm.registerAwardList.length?o.standForm.registerAwardList[0].awardStart||o.standForm.registerAwardList[0].awardEnd||o.standForm.registerAwardList[0].awardUserLimit||o.standForm.registerAwardList[0].awardDayLimit?o.standForm.registerAwardList[0].awardStart&&o.standForm.registerAwardList[0].awardEnd?o.standForm.registerAwardList[0].awardUserLimit?o.standForm.registerAwardList[0].awardDayLimit?n=!1:(e=!0,a="请填写推荐新用户注册奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户注册奖励单个用户活动奖励上限!"):(e=!0,a="请填写推荐新用户注册奖励完整奖励金额!"):n=!0:o.standForm.registerAwardList.forEach(function(t){t.awardStart&&t.awardEnd?t.recomAuthStart+""?t.awardUserLimit?t.awardDayLimit||(e=!0,a="请填写推荐新用户注册奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户注册奖励单个用户活动奖励上限!"):(e=!0,a="请完善推荐新用户注册奖励推荐人次区间!"):(e=!0,a="请填写推荐新用户注册奖励完整奖励金额!")}),1==o.standForm.authAwardList.length?o.standForm.authAwardList[0].awardStart||o.standForm.authAwardList[0].awardEnd||o.standForm.authAwardList[0].awardUserLimit||o.standForm.authAwardList[0].awardDayLimit?o.standForm.authAwardList[0].awardStart&&o.standForm.authAwardList[0].awardEnd?o.standForm.authAwardList[0].awardUserLimit?o.standForm.authAwardList[0].awardDayLimit?s=!1:(e=!0,a="请填写推荐新用户认证奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户认证奖励单个用户活动奖励上限!"):(e=!0,a="请填写推荐新用户认证奖励完整奖励金额!"):s=!0:o.standForm.authAwardList.forEach(function(t){t.awardStart&&t.awardEnd?t.recomAuthStart+""?t.awardUserLimit?t.awardDayLimit||(e=!0,a="请填写推荐新用户认证奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户认证奖励单个用户活动奖励上限!"):(e=!0,a="请完善推荐新用户认证奖励推荐人次区间!"):(e=!0,a="请填写推荐新用户认证奖励完整奖励金额!")}),s&&n&&(a="请至少维护一种推荐奖励方案!",r=!0),e||r)o.$message({type:"info",message:a});else{o.btnShow=!0;var i=Object(c.i)(o.standForm);(o.isModify?Object(d.v)(i):Object(d.q)(i)).then(function(t){o.$message({type:"success",message:o.isModify?"修改成功！":"新增成功！"}),o.close()}).catch(function(t){o.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),o.btnShow=!1})}})},clearForms:function(){this.standForm={rewardCityCode:"",rewardCity:"",rewardProvince:"",userTypeName:"",userTypeCode:"",rewardTotalLimit:"",rewardStartDate:"",rewardEndDate:"",timeVal:[],registerAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}],authAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}]}},addItem:function(t,e,a){switch(t){case"recommendAwards":this.standForm.registerAwardList.push({recomAuthStart:this.standForm.registerAwardList[e].recomAuthEnd,recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""});break;case"authAwards":this.standForm.authAwardList.push({recomAuthStart:this.standForm.authAwardList[e].recomAuthEnd,recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""})}},reduceItem:function(t,e){switch(t){case"recommendAwards":this.standForm.registerAwardList.splice(e,1);break;case"authAwards":this.standForm.authAwardList.splice(e,1)}},completeName:function(){var e=this;this.isModify||(this.standForm.userTypeName=this.optionsRecommendtype.find(function(t){return t.code===e.standForm.userTypeCode}).name),this.standForm.rewardStartDate=this.standForm.timeVal[0]?this.standForm.timeVal[0]:"",this.standForm.rewardEndDate=this.standForm.timeVal[1]?this.standForm.timeVal[1]:"",this.loopTask(this.standForm.registerAwardList),this.loopTask(this.standForm.authAwardList)},loopTask:function(t){var e=t[0].awardUserLimit,a=t[0].awardDayLimit;t.forEach(function(t){t.awardUserLimit=e,t.awardDayLimit=a})}}}}});