webpackJsonp([424,587],{AHqW:function(e,t,o){"use strict";var a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"identicalStyle clearfix"},[o("div",{staticClass:"classify_searchinfo"},[o("label",[t._v("执行器 \n                "),o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.title,callback:function(e){t.$set(t.searchForm,"title",e)},expression:"searchForm.title"}},t._l(t.taskOptions,function(e){return o("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1),t._v(" "),o("label",[t._v("JobHandler \n               "),o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.test,callback:function(e){t.test=e},expression:"test"}})],1),t._v(" "),o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.getdata_search}},[t._v("查询")]),t._v(" "),o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_TASK_TASK_MANAGE_ADD",arg:"SYSTEM_TASK_TASK_MANAGE_ADD"}],attrs:{type:"primary",plain:""},on:{click:t.creatTask}},[t._v("新增任务")])],1),t._v(" "),o("div",{staticClass:"classify_info"},[o("div",{staticClass:"info_news"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.aa,stripe:"",border:"",align:"center",height:"100%","tooltip-effect":"dark"},on:{"selection-change":t.getinfomation,"row-dblclick":t.moreinfo,"row-click":t.clickDetails}},[o("el-table-column",{attrs:{align:"center",fixed:"",type:"selection",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",fixed:"",prop:"shipperInfo",label:"JobKey"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"platInfo",label:"描述"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"interceptStartTime",label:"运行模式"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"interceptEndTime",label:"Cron"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"bindingSource",label:"负责人"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s("1"===e.row.bindingSource?"收藏绑定":"平台绑定")+"\n                        ")]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"usingStatus",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s("1"===e.row.usingStatus?"启用":"禁用")+"\n                        ")]}}])})],1),t._v(" "),o("div",{staticClass:"Pagination "},[o("div",{staticClass:"block"},[o("el-pagination",{attrs:{"current-page":t.currentPage4,"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.dataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),t._v(" "),o("creatTaskComponent",{attrs:{dialogFormVisible:t.dialogFormVisible,formtitle:t.formtitle},on:{"update:dialogFormVisible":function(e){t.dialogFormVisible=e}}})],1)])},staticRenderFns:[]};t.a=a},Bhno:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("PAXv"),l=o("Wgsv");var r=function(e){o("uuq8")},n=o("VU/8")(a.a,l.a,r,null,null);t.default=n.exports},E0Jf:function(e,t,o){"use strict";var a=o("Bhno"),l=o("TEqA"),r=(o.n(l),o("Mii4"));t.a={data:function(){return{formtitle:"新增任务",dialogFormVisible:!1,test:null,aa:[],currentPage4:1,pagesize:1,dataTotal:null,searchForm:{title:null},taskOptions:[]}},components:{creatTaskComponent:a.default},mounted:function(){this.firstblood(),this.getTaskMoreInfromation()},methods:{handlePageChange:function(e){console.log(e)},moreinfo:function(e,t){},clickDetails:function(e,t,o){this.$refs.multipleTable.toggleRowSelection(e)},getinfomation:function(e){this.checkedinformation=e},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pagesize=e,this.firstblood()},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,this.firstblood()},firstblood:function(){},getTaskMoreInfromation:function(){var t=this;Object(r.b)(1).then(function(e){console.log(e)}).catch(function(e){console.log(e),t.taskOptions=e.content.JobGroupList})},getdata_search:function(){this.firstblood()},reset:function(){this.data={shipperName:null,driverName:null},this.firstblood()},creatTask:function(){console.log("123"),this.dialogFormVisible=!0}}}},Mii4:function(e,t,o){"use strict";t.b=function(e){return a.a.get("/"+l+"/jobinfo?jobGroup="+e).then(function(e){return e.data||{}})},t.a=function(e){return Object(a.a)({url:"/"+l+"/jobinfo/add",method:"post",data:e})};var a=o("Vo7i"),l="aflcjobadmin"},PAXv:function(e,t,o){"use strict";var a=o("Mii4");t.a={name:"addClassfy",props:{dialogFormVisible:{type:Boolean,required:!0},formtitle:{type:String,required:!0}},components:{},computed:{},watch:{dialogFormVisible:{handler:function(e,t){e&&this.getTaskChoose()}}},data:function(){return{taskForm:{jobGroup:null,jobDesc:null,executorRouteStrategy:null,jobCron:null,glueType:null,executorHandler:null,executorParam:null,childJobKey:null,executorBlockStrategy:null,executorFailStrategy:null,author:null,alarmEmail:null},ExecutorRouteStrategyEnum:[],newTaskOptions:[],rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},mounted:function(){this.init()},methods:{close:function(){this.$emit("update:dialogFormVisible",!1)},getTaskChoose:function(){var t=this;Object(a.b)(1).then(function(e){console.log(e)}).catch(function(e){console.log(e),t.newTaskOptions=e.content.JobGroupList})},init:function(){},newInfoSave:function(){console.log(this.taskForm),Object(a.a)(this.taskForm).then(function(e){}).catch(function(e){console.log("err",e)})},closeAddNewInfo:function(){this.close()}}}},TEqA:function(e,t){},Wgsv:function(e,t,o){"use strict";var a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"creatTask commoncss"},[o("el-dialog",{attrs:{title:t.formtitle,"close-on-click-modal":!1,visible:t.dialogFormVisible},on:{close:t.close}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.taskForm,rules:t.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"执行器",prop:"name"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.taskForm.jobGroup,callback:function(e){t.$set(t.taskForm,"jobGroup",e)},expression:"taskForm.jobGroup"}},t._l(t.newTaskOptions,function(e){return o("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"任务描述",prop:"name"}},[o("el-input",{model:{value:t.taskForm.jobDesc,callback:function(e){t.$set(t.taskForm,"jobDesc",e)},expression:"taskForm.jobDesc"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"路由策略",prop:"name"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskForm.executorRouteStrategy,callback:function(e){t.$set(t.taskForm,"executorRouteStrategy",e)},expression:"taskForm.executorRouteStrategy"}},[o("el-option",{attrs:{value:"FIRST"}},[t._v("第一个")]),t._v(" "),o("el-option",{attrs:{value:"LAST"}},[t._v("最后一个")]),t._v(" "),o("el-option",{attrs:{value:"ROUND"}},[t._v("轮询")]),t._v(" "),o("el-option",{attrs:{value:"RANDOM"}},[t._v("随机")]),t._v(" "),o("el-option",{attrs:{value:"CONSISTENT_HASH"}},[t._v("一致性HASH")]),t._v(" "),o("el-option",{attrs:{value:"LEAST_FREQUENTLY_USED"}},[t._v("最不经常使用")]),t._v(" "),o("el-option",{attrs:{value:"LEAST_RECENTLY_USED"}},[t._v("最近最久未使用")]),t._v(" "),o("el-option",{attrs:{value:"FAILOVER"}},[t._v("故障转移")]),t._v(" "),o("el-option",{attrs:{value:"BUSYOVER"}},[t._v("忙碌转移")]),t._v(" "),o("el-option",{attrs:{value:"SHARDING_BROADCAST"}},[t._v("分片广播")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"Cron",prop:"name"}},[o("el-input",{model:{value:t.taskForm.jobCron,callback:function(e){t.$set(t.taskForm,"jobCron",e)},expression:"taskForm.jobCron"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"运行模式",prop:"name"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskForm.glueType,callback:function(e){t.$set(t.taskForm,"glueType",e)},expression:"taskForm.glueType"}},[o("el-option",{attrs:{value:"BEAN"}},[t._v("BEAN模式")]),t._v(" "),o("el-option",{attrs:{value:"GLUE_GROOVY"}},[t._v("GLUE模式(Java)")]),t._v(" "),o("el-option",{attrs:{value:"GLUE_SHELL"}},[t._v("GLUE模式(Shell)")]),t._v(" "),o("el-option",{attrs:{value:"GLUE_PYTHON"}},[t._v("GLUE模式(Python)")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"JobHandler",prop:"name"}},[o("el-input",{model:{value:t.taskForm.executorHandler,callback:function(e){t.$set(t.taskForm,"executorHandler",e)},expression:"taskForm.executorHandler"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"执行参数",prop:"name"}},[o("el-input",{model:{value:t.taskForm.executorParam,callback:function(e){t.$set(t.taskForm,"executorParam",e)},expression:"taskForm.executorParam"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"子任务Key",prop:"name"}},[o("el-input",{model:{value:t.taskForm.childJobKey,callback:function(e){t.$set(t.taskForm,"childJobKey",e)},expression:"taskForm.childJobKey"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"阻塞处理策略",prop:"name"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskForm.executorBlockStrategy,callback:function(e){t.$set(t.taskForm,"executorBlockStrategy",e)},expression:"taskForm.executorBlockStrategy"}},[o("el-option",{attrs:{value:"SERIAL_EXECUTION"}},[t._v("单机串行")]),t._v(" "),o("el-option",{attrs:{value:"DISCARD_LATER"}},[t._v("丢弃后续调度")]),t._v(" "),o("el-option",{attrs:{value:"COVER_EARLY"}},[t._v("覆盖之前调度")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"失败处理策略",prop:"name"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskForm.executorFailStrategy,callback:function(e){t.$set(t.taskForm,"executorFailStrategy",e)},expression:"taskForm.executorFailStrategy"}},[o("el-option",{attrs:{value:"FAIL_ALARM"}},[t._v("失败告警")]),t._v(" "),o("el-option",{attrs:{value:"FAIL_RETRY"}},[t._v("失败重试")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"负责人",prop:"name"}},[o("el-input",{model:{value:t.taskForm.author,callback:function(e){t.$set(t.taskForm,"author",e)},expression:"taskForm.author"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"报警邮件",prop:"name"}},[o("el-input",{model:{value:t.taskForm.alarmEmail,callback:function(e){t.$set(t.taskForm,"alarmEmail",e)},expression:"taskForm.alarmEmail"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newInfoSave("ruleForm")}}},[t._v("保 存")]),t._v(" "),o("el-button",{on:{click:function(e){t.closeAddNewInfo("ruleForm")}}},[t._v("取 消")])],1)],1)],1)])},staticRenderFns:[]};t.a=a},gWEf:function(e,t){},t6GZ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("E0Jf"),l=o("AHqW");var r=function(e){o("gWEf")},n=o("VU/8")(a.a,l.a,r,"data-v-31b597bc",null);t.default=n.exports},uuq8:function(e,t){}});