webpackJsonp([415],{"12IZ":function(e,t){},"2Bow":function(e,t,r){"use strict";t.f=function(e,t,r){return Object(i.a)({url:"/"+n+"/usercenter/aflcDriver/v1/list2",method:"post",data:{currentPage:e,pageSize:t,vo:r}})},t.h=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00104")},t.m=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/freezeAflcDriver",e)},t.i=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/freezeUpdateAflcDriver",e)},t.n=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/unfreezeAflcDriver",e)},t.l=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/putBlackAflcDriver",e)},t.k=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/outPutBlackAflcDriver",e)},t.b=function(){return i.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},t.c=function(){return i.a.get("/"+o+"/sm/aflcSysDict/v1/getCarSpecList")},t.g=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00503")},t.j=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00105")},t.e=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02001")},t.d=function(){return i.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02002")},t.o=function(e){return i.a.post("/"+n+"/usercenter/aflcDriver/v1/sendMsgInviteAuth",e)},t.a=function(e){return i.a.post("/"+n+"/usercenter/aflcDriver/v1/enableOrDisable",e)};var i=r("Vo7i"),n="aflc-uc",a="aflc-common",o="aflc-sm"},"2eya":function(e,t,r){"use strict";var i=r("woOf"),n=r.n(i),a=r("Cae1"),o=(r("0xDb"),r("O6e2")),s=r("2Bow"),c=r("Xi4N");t.a={name:"create-Change-ViewDialog",components:{GetCityList:a.a},props:{params:{type:[Object,Array]},icon:{type:String,default:""},btntype:{type:String,default:""},btntitle:{type:String,default:""},plain:{type:Boolean,default:!1},btntext:{type:String,default:""},value:{type:String,default:""},editType:{type:String,default:"edit"},count:{type:Number}},data:function(){return{type:"primary",title:"",text:"",optionsReason:[],formLabelWidth:"150px",freezeDialogFlag:!1,formFroze:{driverMobile:null,driverName:null,carTypeName:null,carNumber:null,driverCardid:null,belongCity:null,registerOrigin:"",creditCode:null,freezeTime:null,freezeCause:null,freezeCauseRemark:null,belongCityName:null,obtainGrade:null,obtainGradeName:null,obtainGradeTime:null,unfreezeCauseRemark:null,unfreezeTime:null},radio:"",currentRow:null,pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()}},formFrozeRules:{freezeCause:{required:!0,message:"请选择冻结原因",trigger:"change"},unfreezeTime:{required:!0,message:"请选择解冻日期",trigger:"change"}}}},mounted:function(){},watch:{freezeDialogFlag:{handler:function(e,t){e?this.getMoreInformation():(this.$refs.formFroze.resetFields(),this.$emit("getData"),this.formFroze.freezeCauseRemark=null,this.radio="")}}},methods:{timeChange:function(e){var t=864e5,r=+new Date;switch(e){case 1:r+=1*t;break;case 3:r+=3*t;break;case 7:r+=7*t;break;case 9:r+=30*t;break;case 10:r+=864e10}this.formFroze.unfreezeTime=r},change:function(){this.freezeDialogFlag,this.freezeDialogFlag},setCurrent:function(e){this.$refs.singleTable.setCurrentRow(e)},changeList:function(){o.a.$emit("changeListtwo")},openDialog:function(){var t=this;if(0!=this.params.length||"add"===this.editType)if(1<this.params.length&&"add"!==this.editType)this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.$emit("getData");else{if("冻结中"==this.params[0].accountStatusName&&"edit"==this.editType)return this.$message.info("您选中的车主已被冻结，不需多次冻结！"),void this.$emit("getData");if("冻结中"!=this.params[0].accountStatusName&&"edit-two"==this.editType)return this.$message.info("您选中的车主未被冻结，不可做此操作！"),void this.$emit("getData");if("冻结中"!=this.params[0].accountStatusName&&"edit-three"==this.editType)return this.$message.info("您选中的车主未被冻结，无需移除！"),void this.$emit("getData");Object(c.e)(this.params[0].driverId).then(function(e){t.formFroze=e.data,"AF0010502"!==t.params[0].accountStatus&&(t.formFroze.freezeCause=null,t.formFroze.unfreezeTime=null)}).catch(function(e){console.log("err",e),t.$message.error("获取数据失败")}),this.freezeDialogFlag=!0}else this.$message.warning("请选择您要操作的用户")},getMoreInformation:function(){var t=this;Object(s.e)().then(function(e){t.optionsReason=e.data})},onSubmit:function(){var r=this;this.$refs.formFroze.validate(function(e){if(e){r.formFroze.freezeTime=(new Date).getTime();var t=n()({},r.formFroze);Object(s.m)(t).then(function(e){r.freezeDialogFlag=!1,r.$message.success("冻结修改成功"),r.changeList()}).catch(function(e){r.freezeDialogFlag=!1,r.$message.error("冻结修改失败")})}})},onSubmit2:function(){var r=this;this.$refs.formFroze.validate(function(e){if(e){r.formFroze.freezeTime=(new Date).getTime();var t=n()({},r.formFroze);Object(s.i)(t).then(function(e){r.freezeDialogFlag=!1,r.changeList(),r.$message.success("冻结修改成功")}).catch(function(e){r.freezeDialogFlag=!1,r.$message.error("冻结修改失败")})}})},onSubmit3:function(){var r=this;this.$refs.formFroze.validate(function(e){if(e){var t=n()({},r.formFroze);Object(s.n)(t).then(function(e){r.freezeDialogFlag=!1,r.$message.success("解冻修改成功"),r.changeList()}).catch(function(e){r.freezeDialogFlag=!1,r.$message.error("解冻修改失败")})}})}}}},"9eAt":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("2eya"),n=r("F10w");var a=function(e){r("12IZ")},o=r("VU/8")(i.a,n.a,a,null,null);t.default=o.exports},CSar:function(e,t,r){"use strict";var i=r("t5DY");t.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(e){e[0]&&(this.nowData.province={code:e[0],key:e[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),e[1]&&(this.nowData.city={code:e[1],key:e[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:e[0]}),e[2]&&(this.nowData.area={code:e[2],key:e[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:e[1]}),this.returnArr(this.nowData)},init:function(){var t=this;Object(i._2)().then(function(e){t.cityTree=e.data})},returnArr:function(e){this.$emit("returnStr",e)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(e,t,r){"use strict";var i=r("CSar"),n=r("JNZ8");var a=function(e){r("fJqg")},o=r("VU/8")(i.a,n.a,a,null,null);t.a=o.exports},F10w:function(e,t,r){"use strict";var i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"freezeInfo commoncss"},[r("el-button",{attrs:{type:t.btntype,value:t.value,plain:t.plain,icon:t.icon,size:"mini"},on:{click:function(e){t.openDialog()}}},[r("span",{class:"view"==t.editType?"BtnInfo":""},[t._v(t._s(t.btntext))])]),t._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.btntext,visible:t.freezeDialogFlag,"before-close":t.change(),top:"5vh",closeOnClickModal:!1},on:{"update:visible":function(e){t.freezeDialogFlag=e}}},[r("el-form",{ref:"formFroze",attrs:{model:t.formFroze,rules:t.formFrozeRules}},[r("div",{staticClass:"shipper_information"},[r("h2",[t._v("冻结原因")])]),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"冻结原因：",prop:"freezeCause","label-width":t.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择",disabled:"edit-three"==t.editType,clearable:""},model:{value:t.formFroze.freezeCause,callback:function(e){t.$set(t.formFroze,"freezeCause",e)},expression:"formFroze.freezeCause"}},t._l(t.optionsReason,function(e){return r("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"解冻日期：","label-width":t.formLabelWidth,prop:"unfreezeTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd","picker-options":t.pickerOptions,disabled:"edit-three"==t.editType},model:{value:t.formFroze.unfreezeTime,callback:function(e){t.$set(t.formFroze,"unfreezeTime",e)},expression:"formFroze.unfreezeTime"}}),t._v(" "),r("el-radio-group",{attrs:{disabled:"edit-three"==t.editType},on:{change:t.timeChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[r("el-radio",{attrs:{label:1}},[t._v("1天")]),t._v(" "),r("el-radio",{attrs:{label:3}},[t._v("3天")]),t._v(" "),r("el-radio",{attrs:{label:7}},[t._v("一周")]),t._v(" "),r("el-radio",{attrs:{label:9}},[t._v("一个月")]),t._v(" "),r("el-radio",{attrs:{label:10}},[t._v("永久")])],1)],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"冻结原因说明：","label-width":t.formLabelWidth}},["edit"==t.editType||"edit-two"==t.editType?r("el-input",{staticClass:"textArea",attrs:{type:"textarea",rows:2,maxlength:100},model:{value:t.formFroze.freezeCauseRemark,callback:function(e){t.$set(t.formFroze,"freezeCauseRemark",e)},expression:"formFroze.freezeCauseRemark "}}):"edit-three"==t.editType?r("el-input",{staticClass:"textArea",attrs:{type:"textarea",rows:2,maxlength:100,disabled:""},model:{value:t.formFroze.freezeCauseRemark,callback:function(e){t.$set(t.formFroze,"freezeCauseRemark",e)},expression:"formFroze.freezeCauseRemark "}}):t._e()],1)],1)],1),t._v(" "),"edit-three"==t.editType?r("div",{staticClass:"shipper_information"},[r("h2",[t._v("解冻")])]):t._e(),t._v(" "),"edit-three"==t.editType?r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"解冻原因说明：","label-width":t.formLabelWidth}},[r("el-input",{staticClass:"textArea",attrs:{type:"textarea",rows:2,maxlength:100},model:{value:t.formFroze.unfreezeCauseRemark,callback:function(e){t.$set(t.formFroze,"unfreezeCauseRemark",e)},expression:"formFroze.unfreezeCauseRemark "}})],1)],1)],1):t._e()],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["edit"==t.editType?r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")]):"edit-two"==t.editType?r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit2}},[t._v("确定")]):"edit-three"==t.editType?r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit3}},[t._v("确定")]):t._e(),t._v(" "),r("el-button",{on:{click:function(e){t.freezeDialogFlag=!1}}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};t.a=i},JNZ8:function(e,t,r){"use strict";var i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chooseCityList"},[r("el-cascader",{ref:"cityTree",attrs:{options:t.cityTree,disabled:t.disabled,props:t.props},on:{change:t.handleItemMore},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)},staticRenderFns:[]};t.a=i},Xi4N:function(e,t,r){"use strict";t.h=function(e){return i.a.post("/"+n+"/usercenter/aflcDriver/v1/addNew",e)},t.e=function(e){return i.a.get("/"+n+"/usercenter/aflcDriver/v1/detailByMainDriver/"+e)},t.c=function(e){return i.a.post("/"+n+"/usercenter/aflcUserIdcard/v1/identificationUserId?pathFile="+escape(e))},t.a=function(e){return i.a.post("/"+n+"/usercenter/aflcDriverLicence/v1/identificationDriverPermit?filePath="+escape(e))},t.b=function(e){return i.a.post("/"+n+"/usercenter/aflcDriverPermit/v1/identificationDriverPermit?filePath="+escape(e))},t.k=function(e){return i.a.put("/"+a+"/common/aflcCommonUser/v1/updateUserMobile",e)},t.f=function(e){return i.a.put("/"+n+"/usercenter/aflcDriver/v1/updateDriverComprehensive",e)},t.g=function(e){return i.a.post("/"+n+"/usercenter/aflcDriver/v1/checkDriverCarNum",e)},t.i=function(e){return i.a.get("/"+n+"/usercenter/aflcDriver/v1/checkDriverMobile/"+e,e)},t.j=function(e){return i.a.get("/"+o+"/im/driver/v1/pullTrack/"+e)},t.d=function(e){return i.a.post("/"+n+"/usercenter/aflcDriver/v1/batchUpdateBusiness",e)};var i=r("Vo7i"),n="aflc-uc",a="aflc-common",o="aflcsocketioservice"},fJqg:function(e,t){},t5DY:function(e,t,r){"use strict";t._10=function(t){return t=t||"",a.a.get("/"+o+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return a.a.get("/"+o+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(a.a)({url:"/"+o+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(a.a)({url:"/"+o+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(a.a)({url:"/"+s+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new n.a(function(e){e(window.UPLOADPOLICYDATA)}):a.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return a.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return a.a.get("/"+s+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(a.a)({url:"/"+s+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return a.a.get("/"+s+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return a.a.get("/"+s+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return a.a.get("/"+o+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return a.a.get("/"+o+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return a.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return a.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(a.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(a.a)({url:"/"+o+"/system/user/v1/operate/staff",method:"post",data:e})};var i=r("//Fk"),n=r.n(i),a=r("Vo7i"),o="aflc-common",s="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""}});