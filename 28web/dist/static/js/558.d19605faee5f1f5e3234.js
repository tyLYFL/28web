webpackJsonp([558],{"+T9p":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("bwIi"),o=a("OW0T");var n=function(t){a("P+62")},l=a("VU/8")(r.a,o.a,n,"data-v-8a249bec",null);e.default=l.exports},OW0T:function(t,e,a){"use strict";var r={render:function(){var r=this,t=r.$createElement,o=r._self._c||t;return o("div",{staticClass:"ordersInfo detailsArrange"},[o("div",{staticClass:"detailsInfo-collapse collapseInfo"},[o("h2",[r._v("订单统计")]),r._v(" "),o("div",{staticClass:"essentialInformation"},[o("el-row",{staticClass:"basicInfo",attrs:{span:24}},[o("el-col",{attrs:{span:4}},[r._v("推单数：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.pushTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("抢单数：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.grabTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("中单数：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.singularTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("完成订单：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.finishOrder))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("完成订单总金额：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.finishOrderTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("线上支付完成订单数：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.onLineTransOrder))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("线上支付完成订单金额：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.onLineTransTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("线下支付完成订单数：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.offlineTransOrder))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("线下支付完成订单金额：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.offlineTransTotal))]),r._v(" "),o("el-col",{attrs:{span:4}},[r._v("线上支付完成订单占比：")]),r._v(" "),o("el-col",{attrs:{span:2}},[r._v(r._s(r.orderPriceInfo.onLineTransOrderRate))])],1)],1)]),r._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:r.graploading,expression:"graploading"}],staticClass:"qd-collapse collapseInfo"},[o("h2",[r._v("小货车订单")]),r._v(" "),o("div",{staticClass:"qd-collapse_title clearfix"},[o("ul",{staticClass:"classfyTitle fl"},r._l(r.grapListDataType,function(e,a){return o("li",{key:e.name,class:{currentClick:e.iscur},on:{click:function(t){r.setCur(a,"grap",e.label)}}},[r._v(r._s(e.name))])})),r._v(" "),o("el-form",{staticClass:"demo-ruleForm qdSearch fr",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"下单时间："}},[o("el-date-picker",{attrs:{type:"daterange","picker-options":r.pickerOptions2,"range-separator":"-","unlink-panels":"","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","default-time":["00:00:00","23:59:59"],"value-format":"timestamp"},on:{change:r.grapListTimeVal},model:{value:r.grapListTime,callback:function(t){r.grapListTime=t},expression:"grapListTime"}})],1)],1)],1),r._v(" "),o("div",{staticClass:"essentialInformation_table",staticStyle:{"padding-top":"0"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:r.grapListData}},[o("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                      "+r._s((r.grapListObj.currentPage-1)*r.grapListObj.pageSize+t.$index+1)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderSerial",label:"订单号",width:"250"},scopedSlots:r._u([{key:"default",fn:function(e){return[o("span",{staticClass:"BtnInfo",on:{click:function(t){r.pushOrderSerial(e.row)}}},[r._v(r._s(e.row.orderSerial))])]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"",label:"货主"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                    "+r._s(t.row.shipperName)+" - "+r._s(t.row.shipperMobile)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"serviceType",label:"服务类型"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"startAddress",label:"始发地"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"endAddress",label:"目的地"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderStartTime",label:"下单时间"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"totalAmount",label:"订单金额"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderStatus",label:"订单状态"}}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"complateTime",label:"完成时间"}})],1),r._v(" "),o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:r.grapListTotalCount},on:{"current-change":r.handleCurrentChangeGrapList}})],1)]),r._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:r.cancelloading,expression:"cancelloading"}],staticClass:"logInfo-collapse collapseInfo"},[o("h2",[r._v("改派订单&原因")]),r._v(" "),o("div",{staticClass:"essentialInformation_table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:r.cancelListData}},[o("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                        "+r._s((r.cancelListObj.currentPage-1)*r.cancelListObj.pageSize+t.$index+1)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderSerial",label:"订单号",width:"250"},scopedSlots:r._u([{key:"default",fn:function(e){return[o("span",{staticClass:"BtnInfo",on:{click:function(t){r.pushOrderSerial(e.row)}}},[r._v(r._s(e.row.orderSerial))])]}}])}),r._v(" "),o("el-table-column",{attrs:{prop:"belongCity",label:"下单区域","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"totalAmount",label:"订单金额","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"cancelTime",label:"改派时间","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"cancelCause",label:"改派原因","show-overflow-tooltip":""}})],1),r._v(" "),o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:r.cancelTotalCount},on:{"current-change":r.handleCurrentChangeCancelList}})],1)]),r._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:r.reassignmentloading,expression:"reassignmentloading"}],staticClass:"logInfo-collapse collapseInfo"},[o("h2",[r._v(" 对货主的评价记录")]),r._v(" "),o("div",{staticClass:"essentialInformation_table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:r.reassignmentTotal}},[o("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                        "+r._s((r.reassignmentListObj.currentPage-1)*r.reassignmentListObj.pageSize+t.$index+1)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderSerial",label:"订单号",width:"250"},scopedSlots:r._u([{key:"default",fn:function(e){return[o("span",{staticClass:"BtnInfo",on:{click:function(t){r.pushOrderSerial(e.row)}}},[r._v(r._s(e.row.orderSerial))])]}}])}),r._v(" "),o("el-table-column",{attrs:{prop:"serviceName",label:"服务类型","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"starLevel",label:"获评星级","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"",label:"货主信息","show-overflow-tooltip":""},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                    "+r._s(t.row.shipperMobile)+" "),t.row.shipperName?o("span",[r._v("-")]):r._e(),r._v(" "+r._s(t.row.shipperName)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{prop:"evaluationType",label:"评价标签","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"evaluationDes",label:"评价内容","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"updateTime",label:"评价时间","show-overflow-tooltip":""}})],1),r._v(" "),o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:r.reassignmentTotalCount},on:{"current-change":r.handleCurrentChangeReassignment}})],1)]),r._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:r.shipmentloading,expression:"shipmentloading"}],staticClass:"logInfo-collapse collapseInfo"},[o("h2",[r._v("装货/回单图片")]),r._v(" "),o("div",{staticClass:"essentialInformation_table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:r.shipmentListData}},[o("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                        "+r._s((r.shipmentListObj.currentPage-1)*r.shipmentListObj.pageSize+t.$index+1)+"\n                    ")]}}])}),r._v(" "),o("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderSerial",label:"订单号",width:"250"},scopedSlots:r._u([{key:"default",fn:function(e){return[o("span",{staticClass:"BtnInfo",on:{click:function(t){r.pushOrderSerial(e.row)}}},[r._v(r._s(e.row.orderSerial))])]}}])}),r._v(" "),o("el-table-column",{attrs:{prop:"",label:"图片",width:"120"},scopedSlots:r._u([{key:"default",fn:function(t){return[o("div",{staticClass:"shipmentImg"},[o("img",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{src:t.row.filePath}})])]}}])}),r._v(" "),o("el-table-column",{attrs:{prop:"startAddress",label:"提货地","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"endAddress",label:"到达地","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"transportStatus",label:"类型","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"上传时间","show-overflow-tooltip":""}}),r._v(" "),o("el-table-column",{attrs:{prop:"address",label:"上传位置","show-overflow-tooltip":""}})],1),r._v(" "),o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:r.shipmentTotalCount},on:{"current-change":r.handleCurrentChangesShipment}})],1)])])},staticRenderFns:[]};e.a=r},"P+62":function(t,e){},"Vf/l":function(t,e,a){"use strict";e.h=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcMobileBindHistoryApi/v1/list",method:"post",data:t})},e.c=function(t){return Object(r.a)({url:"/"+s+"/common/aflcBindWxLog/v1/list",method:"post",data:t})},e.x=function(t){return Object(r.a)({url:"/"+o+"/sm/aflcDriverCommission/v1/queryCommission/"+t,method:"get"})},e.k=function(t){return Object(r.a)({url:"/"+n+"/dispatch/aflcDriverStatus/v1/auxiliary/"+t,method:"get"})},e.z=function(t){return Object(r.a)({url:"/"+n+"/dispatch/aflcDriverShipper/v1/shipperCollectDriver/"+t,method:"get"})},e.s=function(t){return Object(r.a)({url:"/"+n+"/dispatch/aflcDriverStatus/v1/historyTradeShipper",method:"post",data:t})},e.t=function(t){return Object(r.a)({url:"/"+n+"/order/aflcOrderEvaluation/v1/orderDriverEvaList",method:"post",data:t})},e.v=function(t){return Object(r.a)({url:"/"+n+"/dispatch/aflcDriverStatus/v1/orderPriceInfo/"+t,method:"get"})},e.o=function(t){return Object(r.a)({url:"/"+n+"/order/aflcOrder/v1/driverTradOrdeList",method:"post",data:t})},e.y=function(t){return Object(r.a)({url:"/"+n+"/order/aflcOrder/v1/reassignmentDriverList",method:"post",data:t})},e.u=function(t){return Object(r.a)({url:"/"+n+"/order/aflcOrderFollowingFile/v1/orderFollowingFileList",method:"post",data:t})},e.l=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcBehaviorScoreDetail/v1/driverBehaviorList",method:"post",data:t})},e.a=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcDriverDeposit/v1/list",method:"post",data:t})},e.q=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcDriver/v1/findDrivrTrans/"+t,method:"get"})},e.n=function(t){return Object(r.a)({url:"/"+o+"/sm/aflcDistributeReward/v1/driverRewardStatisticsInfo/"+t,method:"get"})},e.p=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcExtractCash/v1/extractCashlist",method:"post",data:t})},e.b=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcBankCard/v1/list",method:"post",data:t})},e.m=function(t){return Object(r.a)({url:"/"+n+"/order/aflcOrderPayment/v1/driverOrderPaymentList",method:"post",data:t})},e.r=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcDriver/v1/findEquityConfigDriverDto/"+t,method:"get"})},e.A=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcUserReward/v1/userRewardList",method:"post",data:t})},e.g=function(t){return Object(r.a)({url:"/"+n+"/dispatch/aflcDriverShipper/v1/list",method:"post",data:t})},e.e=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcCoinsGrantDriverDetail/v1/member/"+t,method:"get"})},e.f=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcDriverBuyMemberDetail/v1/list",method:"post",data:t})},e.j=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcUserBenefitsDetail/v1/list",method:"post",data:t})},e.i=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcUserBenefitsDetail/v1/add",method:"post",data:t})},e.d=function(t){return Object(r.a)({url:"/"+l+"/usercenter/aflcBuyQuickpackageDetail/v1/list",method:"post",data:t})},e.w=function(t,e,a){return Object(r.a)({url:"/"+n+"/dispatch/aflcOrderPush/v1/orderPushAndGrabList",method:"post",data:{currentPage:t,pageSize:e,vo:a}})};var r=a("Vo7i"),o="aflc-sm",n="aflc-order",l="aflc-uc",s="aflc-common"},bwIi:function(t,e,a){"use strict";var r=a("0xDb"),o=a("Vf/l");e.a={name:"ordersInfo",components:{},props:{isvisible:{type:Boolean,default:!1}},data:function(){return{graploading:!0,cancelloading:!0,reassignmentloading:!0,shipmentloading:!0,pickerOptions2:{shortcuts:r.l},btnsize:"medium",orderPriceInfo:{},grapListObj:{currentPage:1,pageSize:10,vo:{driverId:null,orderTimeStart:null,orderTimeEnd:null,orderStatus:null}},grapListTime:[],grapListTotalCount:null,grapListDataType:[{name:"全部",label:"",iscur:!0},{name:"已完成",label:"AF00807",iscur:!1},{name:"已取消",label:"AF00808",iscur:!1}],grapListData:[],cancelListObj:{currentPage:1,pageSize:10,vo:{driverId:this.$route.query.driverId}},cancelTime:[],cancelTotalCount:null,cancelListData:[],reassignmentListObj:{currentPage:1,pageSize:10,vo:{evaluationId:this.$route.query.driverId,type:"0"}},reassignmentTotal:[],reassignmentTotalCount:null,shipmentListObj:{currentPage:1,pageSize:10,vo:{userId:this.$route.query.driverId}},shipmentListData:[],shipmentTotalCount:null}},watch:{isvisible:{handler:function(t,e){t&&this.init()},immediate:!0}},methods:{init:function(){var t=this.$route.query.driverId;this.grapListObj.vo.driverId=t,this.PriceInfo(t),this.GrapList(),this.cancelMethods(),this.reassignmentMethods(),this.shipmentMethods()},PriceInfo:function(t){var e=this;Object(o.v)(t).then(function(t){e.orderPriceInfo=t.data})},GrapList:function(){var e=this;this.graploading=!0,Object(o.o)(this.grapListObj).then(function(t){e.grapListData=t.data.list,e.grapListTotalCount=t.data.totalCount,e.grapListData.forEach(function(t){t.orderStartTime=Object(r.k)(t.orderStartTime,"{y}-{m}-{d} {h}:{i}:{s}"),t.complateTime=Object(r.k)(t.complateTime,"{y}-{m}-{d} {h}:{i}:{s}")}),e.graploading=!1}).catch(function(t){console.log(t)})},handleCurrentChangeGrapList:function(t){this.grapListObj.currentPage=t,this.GrapList()},setCur:function(a,t,e){switch(t){case"grap":this.grapListDataType.forEach(function(t,e){t.iscur=e==a}),this.grapListObj.vo.orderStatus=a?e:null,this.GrapList()}},grapListTimeVal:function(t){this.grapListObj.vo.orderStatus=null,t?(this.grapListObj.vo.orderTimeStart=t[0],this.grapListObj.vo.orderTimeEnd=t[1]):(this.grapListObj.vo.orderTimeStart="",this.grapListObj.vo.orderTimeEnd=""),this.GrapList()},cancelMethods:function(){var e=this;this.cancelloading=!0,Object(o.y)(this.cancelListObj).then(function(t){e.cancelListData=t.data.list,e.cancelTotalCount=t.data.totalCount,e.cancelListData.forEach(function(t){t.cancelTime=Object(r.k)(t.cancelTime,"{y}-{m}-{d} {h}:{i}:{s}")}),e.cancelloading=!1})},handleCurrentChangeCancelList:function(t){this.cancelListObj.currentPage=t,this.cancelMethods()},reassignmentMethods:function(){var e=this;this.reassignmentloading=!0,Object(o.t)(this.reassignmentListObj).then(function(t){e.reassignmentTotal=t.data.list[0].aflcOrderDriverEvaluationDtoList,e.reassignmentTotalCount=t.data.totalCount,e.reassignmentTotal.forEach(function(t){t.updateTime=Object(r.k)(t.updateTime,"{y}-{m}-{d} {h}:{i}:{s}")}),e.reassignmentloading=!1})},handleCurrentChangeReassignment:function(t){this.reassignmentListObj.currentPage=t,this.reassignmentMethods()},shipmentMethods:function(){var e=this;this.shipmentloading=!0,Object(o.u)(this.shipmentListObj).then(function(t){e.shipmentListData=t.data.list,e.shipmentTotalCount=t.data.totalCount,e.shipmentloading=!1})},handleCurrentChangesShipment:function(t){this.shipmentListObj.currentPage=t,this.shipmentMethods()},pushOrderSerial:function(t){this.$router.push({name:"订单详情",query:{orderSerial:t.orderSerial}})}}}}});