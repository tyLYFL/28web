webpackJsonp([476],{CSar:function(e,t,s){"use strict";var i=s("t5DY");t.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(e){e[0]&&(this.nowData.province={code:e[0],key:e[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),e[1]&&(this.nowData.city={code:e[1],key:e[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:e[0]}),e[2]&&(this.nowData.area={code:e[2],key:e[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:e[1]}),this.returnArr(this.nowData)},init:function(){var t=this;Object(i._2)().then(function(e){t.cityTree=e.data})},returnArr:function(e){this.$emit("returnStr",e)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(e,t,s){"use strict";var i=s("CSar"),n=s("JNZ8");var r=function(e){s("fJqg")},a=s("VU/8")(i.a,n.a,r,null,null);t.a=a.exports},JNZ8:function(e,t,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chooseCityList"},[s("el-cascader",{ref:"cityTree",attrs:{options:t.cityTree,disabled:t.disabled,props:t.props},on:{change:t.handleItemMore},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)},staticRenderFns:[]};t.a=i},Q3aR:function(e,t,s){"use strict";t.e=function(e,t,s){return Object(i.a)({url:"/"+n+"/dispatch/aflcOpenseaRecommend/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:s}})},t.b=function(e){return Object(i.a)({url:"/"+n+"/dispatch/aflcOpenseaRecommend/v1/enableOrDisable/",method:"post",headers:{"Content-Type":"application/json"},data:e})},t.d=function(e){return Object(i.a)({url:"/"+n+"/dispatch/aflcOpenseaRecommend/v1/add",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/"+n+"/dispatch/aflcOpenseaRecommend/v1/update",method:"put",data:e})},t.c=function(e){return Object(i.a)({url:"/"+n+"/dispatch/aflcOpenseaRecommend/v1/delete",method:"delete",data:e})};var i=s("Vo7i"),n="aflc-order"},QVRV:function(e,t){},S5hp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mHlh"),n=s("hrdN");var r=function(e){s("QVRV")},a=s("VU/8")(i.a,n.a,r,null,null);t.default=a.exports},fJqg:function(e,t){},hrdN:function(e,t,s){"use strict";var i={render:function(){var s=this,e=s.$createElement,i=s._self._c||e;return i("div",{staticClass:"dispatchPush commoncss"},[i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:s.formtitle,"close-on-click-modal":!1,visible:s.dialogFormVisible},on:{close:s.close}},[i("el-form",{ref:"ruleForm",attrs:{model:s.standForm,rules:s.newrules,"label-width":s.formLabelWidth,"label-position":"right"}},[i("el-form-item",{attrs:{label:"所在地：",prop:"areaCode"}},[s.isModify?i("el-input",{attrs:{disabled:""},model:{value:s.standForm.areaCodeName,callback:function(e){s.$set(s.standForm,"areaCodeName",e)},expression:"standForm.areaCodeName"}}):i("getCityList",{ref:"area",staticClass:"chooseItem",on:{returnStr:s.getStr},model:{value:s.standForm.areaCode,callback:function(e){s.$set(s.standForm,"areaCode",e)},expression:"standForm.areaCode"}})],1),s._v(" "),i("el-form-item",{attrs:{label:"服务类型：",prop:"serivceCode"}},[s.isModify?i("el-input",{staticClass:"choosePush",attrs:{disabled:""},model:{value:s.standForm.serivceCodeName,callback:function(e){s.$set(s.standForm,"serivceCodeName",e)},expression:"standForm.serivceCodeName"}}):i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:s.standForm.serivceCode,callback:function(e){s.$set(s.standForm,"serivceCode",e)},expression:"standForm.serivceCode"}},s._l(s.optionsService,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.code,disabled:e.disabled}})}))],1),s._v(" "),i("el-form-item",{attrs:{label:"货主用车类型：",prop:"shipperCarType"}},[s.isModify?i("el-input",{staticClass:"choosePush",attrs:{disabled:""},model:{value:s.standForm.shipperCarTypeName,callback:function(e){s.$set(s.standForm,"shipperCarTypeName",e)},expression:"standForm.shipperCarTypeName"}}):i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:s.standForm.shipperCarType,callback:function(e){s.$set(s.standForm,"shipperCarType",e)},expression:"standForm.shipperCarType"}},s._l(s.optionsCarType,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.code,disabled:e.disabled}})}))],1),s._v(" "),i("el-form-item",{staticClass:"firstPush choosePush",attrs:{label:"推送距离/时间：",prop:"firstRecommendKm"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"4"},model:{value:s.standForm.firstRecommendKm,callback:function(e){s.$set(s.standForm,"firstRecommendKm",e)},expression:"standForm.firstRecommendKm"}}),s._v(" "),i("span",[s._v("公里/")])],1),s._v(" "),i("el-form-item",{staticClass:"firstPush choosePush",attrs:{"label-width":"0",prop:"firstRecommendTime"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"4"},model:{value:s.standForm.firstRecommendTime,callback:function(e){s.$set(s.standForm,"firstRecommendTime",e)},expression:"standForm.firstRecommendTime"}}),s._v(" "),i("span",[s._v("秒")])],1),s._v(" "),i("el-form-item",{attrs:{label:"可见车主类型：",prop:"visualCarType"}},[i("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",placeholder:"请选择"},model:{value:s.visualCarType,callback:function(e){s.visualCarType=e},expression:"visualCarType"}},s._l(s.optionsVisualCarType,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),s._v(" "),i("el-form-item",{attrs:{label:"状态：",prop:"usingStatus"}},[i("el-radio-group",{model:{value:s.standForm.usingStatus,callback:function(e){s.$set(s.standForm,"usingStatus",e)},expression:"standForm.usingStatus"}},s._l(s.optionsStatus,function(e,t){return i("el-radio",{key:t,attrs:{label:e.value}},[s._v(s._s(e.name))])}))],1)],1),s._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:s.btnShow},on:{click:function(e){s.submitForm("ruleForm")}}},[s._v(s._s(s.isModify?"保 存":"确 定"))]),s._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:s.close}},[s._v("取 消")])],1)],1)],1)},staticRenderFns:[]};t.a=i},mHlh:function(e,t,s){"use strict";var i=s("//Fk"),n=s.n(i),r=s("Cae1"),a=s("t5DY"),o=s("Q3aR"),c=s("0xDb");t.a={name:"addClassfy",props:{dialogFormVisible:{type:Boolean,required:!0},formtitle:{type:String,required:!0},changeforms:{type:Object},isModify:{type:Boolean,default:!1}},components:{getCityList:r.a},data:function(){var i=this;return{formLabelWidth:"180px",btnShow:!1,standForm:{areaCode:"",areaCodeName:"",firstRecommendKm:"",firstRecommendTime:"",serivceCode:"",serivceCodeName:"",shipperCarType:"",shipperCarTypeName:"",visualCarType:"",visualCarTypeName:"",usingStatus:"1"},optionsService:"",optionsCarType:"",optionsVisualCarType:[],visualCarType:[],information:"",optionsStatus:[{value:"1",name:"启用"},{value:"0",name:"禁用"}],newrules:{areaCode:[{required:!0,message:"请选择所在地点",trigger:"change"}],serivceCode:[{required:!0,message:"请选择服务类型",trigger:"change"}],shipperCarType:[{required:!0,message:"请选择货主用车类型",trigger:"change"}],firstRecommendKm:[{required:!0,message:"请输入推送距离",trigger:"blur"}],firstRecommendTime:[{required:!0,message:"请输入推送时间",trigger:"blur"}],visualCarType:[{required:!0,validator:function(e,t,s){0==i.visualCarType.length?s(new Error("请选择可见车主类型")):s()},trigger:"change"}],usingStatus:[{required:!0,message:"请选择初始状态",trigger:"change"}]}}},watch:{dialogFormVisible:{handler:function(e,t){console.log("dialogFormVisible",e,t),e&&(console.log("isModify",this.isModify),this.init())},deep:!0}},mounted:function(){},methods:{close:function(e){this.$emit("update:dialogFormVisible",!1),this.$refs.ruleForm.resetFields(),this.clearForms(),this.$emit("renovate"),this.isModify||this.$refs.area.clearData(),this.btnShow=!1},init:function(){var t=this;if(this.clearForms(),!this.isModify)return n.a.all([Object(a._4)(),Object(a._7)()]).then(function(e){console.log(e),t.optionsCarType=e[0].data,t.optionsService=e[1].data,t.optionsVisualCarType=e[0].data}).catch(function(e){t.$message({type:"warning",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)})});Object(a._4)().then(function(e){t.optionsVisualCarType=e.data}).catch(function(e){t.$message({type:"warning",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)})}),this.standForm=Object(c.i)({},this.changeforms),this.visualCarType=this.standForm.visualCarType.split(",")},getStr:function(e){console.log("data:",e),this.standForm.areaCodeName=e.province||e.city||e.area?(""+this.getValue(e.province)+this.getValue(e.city)+this.getValue(e.area)).trim():"",e.city?this.standForm.areaCode=e.city.code:this.standForm.areaCode=e.province.code},getValue:function(e){return e?e.value:""},submitForm:function(e){var i=this;this.$refs[e].validate(function(e){if(!e)return i.$message({type:"warning",message:"请填写完整数据"}),!1;i.complantName();var t=Object(c.i)({},i.standForm),s=void 0;s=i.isModify?Object(o.a)(t):Object(o.d)(t),i.btnShow=!0,s.then(function(e){i.$message({type:"success",message:"操作成功"}),i.close()}).catch(function(e){i.$message({type:"warning",message:"操作失败，原因："+(e.errorInfo?e.errorInfo:e.text)}),i.btnShow=!1})})},complantName:function(){var s=this,i=[];this.optionsVisualCarType.forEach(function(e){for(var t=0;t<s.visualCarType.length;t++)e.code==s.visualCarType[t]&&i.push(e.name)}),this.standForm.visualCarTypeName=i.join(","),this.standForm.visualCarType=this.visualCarType.join(","),this.standForm.serivceCode&&!this.isModify&&(this.standForm.serivceCodeName=this.optionsService.find(function(e){return e.code===s.standForm.serivceCode}).name),this.standForm.shipperCarType&&!this.isModify&&(this.standForm.shipperCarTypeName=this.optionsCarType.find(function(e){return e.code===s.standForm.shipperCarType}).name)},clearForms:function(){this.standForm={areaCode:"",firstRecommendKm:"",firstRecommendTime:"",serivceCode:"",shipperCarType:"",visualCarType:"",usingStatus:"1"},this.visualCarType=[]}}}},t5DY:function(e,t,s){"use strict";t._10=function(t){return t=t||"",r.a.get("/"+a+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return r.a.get("/"+a+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(r.a)({url:"/"+a+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(r.a)({url:"/"+a+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(r.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return r.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new n.a(function(e){e(window.UPLOADPOLICYDATA)}):r.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return r.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return r.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(r.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return r.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return r.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(r.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return r.a.get("/"+a+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return r.a.get("/"+a+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return r.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return r.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(r.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(r.a)({url:"/"+a+"/system/user/v1/operate/staff",method:"post",data:e})};var i=s("//Fk"),n=s.n(i),r=s("Vo7i"),a="aflc-common",o="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""}});