webpackJsonp([480],{"1OIU":function(e,t,n){"use strict";t.c=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/exportGroupDataExcel",responseType:"blob",method:"post",data:e})},t.g=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/viewGroupData",method:"post",data:e})},t.d=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/exportGroupMemberDataExcel",responseType:"blob",method:"post",data:e})},t.h=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/viewGroupMemberData",method:"post",data:e})},t.e=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/viewSetting",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/addSetting",method:"post",data:e})},t.f=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/updateSetting",method:"post",data:e})},t.b=function(e){return Object(i.a)({url:"/"+s+"/usercenter/aflcsalesmanperformance/v1/deleteSetting",method:"post",data:e})};var i=n("Vo7i"),s="aflc-uc"},"9AId":function(e,t,n){"use strict";var i={render:function(){var i=this,e=i.$createElement,s=i._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:i.loading,expression:"loading"}],staticClass:"identicalStyle salespersonTotal"},[s("el-form",{staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"区域"}},[s("getCityList",{ref:"area",staticClass:"chooseItem",on:{returnStr:i.getStr}})],1),i._v(" "),s("el-form-item",{staticStyle:{"margin-right":"10px"}},[s("ul",{staticClass:"timeLine"},i._l(i.dataType,function(t,n){return s("li",{key:t.name,class:{currentClick:t.iscur},on:{click:function(e){i.setCur(n,t.value)}}},[s("span",[i._v(i._s(t.name))])])}))]),i._v(" "),"3"==i.searchInfo.timeQueryType?s("el-form-item",[s("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM",align:"right"},on:{change:i.timeVal},model:{value:i.chooseTime,callback:function(e){i.chooseTime=e},expression:"chooseTime"}})],1):i._e(),i._v(" "),0<i.dates.length&&"3"==i.searchInfo.timeQueryType?s("el-form-item",[i._v("\n      截止日期\n      "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:i.value,callback:function(e){i.value=e},expression:"value"}},i._l(i.dates,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1):i._e(),i._v(" "),s("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"info",plain:"",size:i.btnsize,icon:"fontFamily aflc-icon-qingkong"},on:{click:i.clearSearch}},[i._v("清空")]),i._v(" "),s("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary",plain:"",size:i.btnsize,icon:"el-icon-search"},on:{click:i.firstblood}},[i._v("搜索")])],1),i._v(" "),s("div",{staticClass:"classify_info"},[s("div",{staticClass:"salespersonTotalH2"},[i._v(i._s(i.BeginTime)+" 至 "+i._s(i.EndTimeTime)+i._s(i.searchInfo.provinceName?i.searchInfo.provinceName+i.searchInfo.cityName:"广东省广州市")+"业务"+i._s("personage"===i.assessType?"个人":"团队")+"考核表")]),i._v(" "),s("el-row",{staticClass:"rowLine"},[0<i.rules.length?s("span",[s("el-tooltip",{attrs:{placement:"right-start"}},[s("div",{attrs:{slot:"content"},slot:"content"},[i._v("\n              有效车主：当月认证，且当月完成交易"+i._s(i.rules[0])+";"),s("br"),i._v("\n              优质车主：当月认证，且当月完成交易"+i._s(i.rules[1])+";"),s("br"),i._v("\n              有效货主：当月认证，且当月完成交易"+i._s(i.rules[2])+";"),s("br"),i._v("\n              优质货主：当月认证，且当月完成交易"+i._s(i.rules[3])+";\n          ")]),i._v(" "),s("span",[i._v("\n            规则说明\n            "),s("i",{staticClass:"el-icon-question"})])])],1):i._e(),i._v(" "),s("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-download",plain:"",size:i.btnsize},on:{click:i.handleClick}},[i._v("导出EXCEL")])],1),i._v(" "),s("div",{staticClass:"info_news"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"out-table",data:i.tableData,height:"100%",border:"","span-method":i.arraySpanMethod}},[s("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:i._u([{key:"default",fn:function(e){return[i._v(i._s(e.$index+1))]}}])}),i._v(" "),s("el-table-column",{attrs:{prop:"groupName",label:"业务区",width:"200"}}),i._v(" "),s("el-table-column",{attrs:{prop:"salesmanName",label:"personage"===i.assessType?"业务人员":"负责人",width:"150"}}),i._v(" "),s("el-table-column",{attrs:{prop:"effectiveDriverNum",label:"有效车主数",width:"150"}}),i._v(" "),s("el-table-column",{attrs:{prop:"highQuaDriverNum",label:"优质车主数",width:"150"}}),i._v(" "),s("el-table-column",{attrs:{prop:"effectiveShipperNum",label:"有效货主数",width:"150"}}),i._v(" "),s("el-table-column",{attrs:{prop:"highQuaShipperNum",label:"优质货主数",width:"150"}}),i._v(" "),s("el-table-column",{attrs:{prop:"orderNum",label:"在线交易订单量",sortable:""}})],1)],1),i._v(" "),s("h3",{staticClass:"totalsum"},[i._v("总共 "+i._s(i.totalsum)+" 条")])],1)],1)},staticRenderFns:[]};t.a=i},CSar:function(e,t,n){"use strict";var i=n("t5DY");t.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(e){e[0]&&(this.nowData.province={code:e[0],key:e[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),e[1]&&(this.nowData.city={code:e[1],key:e[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:e[0]}),e[2]&&(this.nowData.area={code:e[2],key:e[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:e[1]}),this.returnArr(this.nowData)},init:function(){var t=this;Object(i._2)().then(function(e){t.cityTree=e.data})},returnArr:function(e){this.$emit("returnStr",e)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(e,t,n){"use strict";var i=n("CSar"),s=n("JNZ8");var a=function(e){n("fJqg")},r=n("VU/8")(i.a,s.a,a,null,null);t.a=r.exports},JNZ8:function(e,t,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chooseCityList"},[n("el-cascader",{ref:"cityTree",attrs:{options:t.cityTree,disabled:t.disabled,props:t.props},on:{change:t.handleItemMore},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1)},staticRenderFns:[]};t.a=i},fJqg:function(e,t){},imfh:function(e,t){},jrBu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("nj7O"),s=n("9AId");var a=function(e){n("imfh")},r=n("VU/8")(i.a,s.a,a,"data-v-42251a99",null);t.default=r.exports},nj7O:function(e,t,n){"use strict";var i=n("0xDb"),s=(n("t5DY"),n("Cae1")),a=n("1OIU");t.a={name:"employeeEvaluationForm",props:{assessType:{default:"person",type:String}},components:{getCityList:s.a},data:function(){return{loading:!1,btnsize:"mini",chooseTime:"",pickerOptions2:{shortcuts:i.l},dataType:[{name:"本月",value:"1",iscur:!0},{name:"上个月",value:"2",iscur:!1},{name:"指定时间段",value:"3",iscur:!1}],searchInfo:{cityName:"",provinceName:"",queryBeginTime:"",queryEndTime:"",timeQueryType:"1",number:""},BeginTime:null,EndTimeTime:null,totalsum:0,tableData:[],value:"",dates:[],rules:[]}},watch:{value:function(e){this.firstblood()}},methods:{handleClick:function(){this.firstblood("excel")},setExcel:function(e){var s=this;("team"===this.assessType?a.c:a.d)(e).then(function(e){var t=new Blob([e]),n=s.BeginTime+"至"+s.EndTimeTime+(s.searchInfo.provinceName?s.searchInfo.provinceName+s.searchInfo.cityName:"广东省广州市")+"业务"+("personage"===s.assessType?"个人":"团队")+"考核表.xlsx";s.href=window.URL.createObjectURL(t);var i=document.createElement("a");i.setAttribute("href",s.href),i.setAttribute("target","_blank"),i.setAttribute("download",n),document.body.appendChild(i),i.click(),document.body.removeChild(i)})},clearSearch:function(){this.$refs.area.clearData(),this.searchInfo.provinceName="",this.searchInfo.cityName="",this.setCur(0,"1")},firstblood:function(e){if("1"===this.searchInfo.timeQueryType){var t=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).getDate();this.searchInfo.queryBeginTime=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-01",this.searchInfo.queryEndTime=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+t}else if("2"===this.searchInfo.timeQueryType){var n=new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate();this.searchInfo.queryBeginTime=(new Date).getFullYear()+"-"+(new Date).getMonth()+"-01",this.searchInfo.queryEndTime=(new Date).getFullYear()+"-"+(new Date).getMonth()+"-"+n}else{if(!this.chooseTime)return this.$message.info("请选择时间段"),!1;this.searchInfo.queryBeginTime=this.chooseTime+"-01",this.searchInfo.queryEndTime=this.chooseTime+"-"+this.value}var i={provinceName:this.searchInfo.provinceName?this.searchInfo.provinceName:null,cityName:this.searchInfo.cityName?this.searchInfo.cityName:null,beginTime:this.searchInfo.queryBeginTime,endTime:this.searchInfo.queryEndTime};console.log(i,"this.searchInfo"),"excel"===e?this.setExcel(i):this.query(i)},query:function(e){var t=this;this.loading=!0;("team"===this.assessType?a.g:a.h)(e).then(function(e){200===e.status?(t.tableData=e.data.list,t.BeginTime=e.data.beginTime,t.EndTimeTime=e.data.endTime,t.totalsum=e.data.totalCount,t.loading=!1,t.rules=[e.data.effectiveDriverSetting,e.data.highQuaDriverSetting,e.data.effectiveShipperSetting,e.data.highQuaShipperSetting],t.merage()):(t.tableData=[],t.totalsum=0,t.rules=[],t.$message.error(e.errorInfo))}).catch(function(e){t.tableData=[],t.totalsum=0,t.rules=[],t.$message.error(e.errorInfo),t.loading=!1})},getStr:function(e){this.searchInfo.cityName=e.city?e.city.name:"",this.searchInfo.provinceName=e.province?e.province.name:"",this.firstblood()},getValue:function(e){return e?e.value:""},setCur:function(n,e){this.dataType.forEach(function(e,t){e.iscur=t==n}),this.searchInfo.timeQueryType=e,console.log(this.searchInfo,"this.searchInfo",this.dataType),"3"!=e&&(this.dates=[],this.chooseTime="",this.searchInfo.number="",this.firstblood())},timeVal:function(e){if(this.chooseTime){var t=new Date(this.chooseTime.slice(0,4),this.chooseTime.slice(5,7),0).getDate();this.dates=[];for(var n=1;n<=t;n++)this.dates.push({value:n,label:"查询到"+n+"号"});this.value=t}else this.dates=[],this.value=""},arraySpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(1===e.columnIndex){var n=this.Arr[t];return{rowspan:n,colspan:0<n?1:0}}},merage:function(){this.merageInit();for(var e=0;e<this.tableData.length;e++)0===e?(this.Arr.push(1),this.Pos=0):""+this.tableData[e].groupName==""+this.tableData[e-1].groupName?(this.Arr[this.Pos]+=1,this.Arr.push(0)):(this.Arr.push(1),this.Pos=e)},merageInit:function(){this.Arr=[],this.Pos=0}},mounted:function(){this.firstblood()}}},t5DY:function(e,t,n){"use strict";t._10=function(t){return t=t||"",a.a.get("/"+r+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return a.a.get("/"+r+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(a.a)({url:"/"+r+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(a.a)({url:"/"+r+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(a.a)({url:"/"+c+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return a.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new s.a(function(e){e(window.UPLOADPOLICYDATA)}):a.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return a.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return a.a.get("/"+c+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(a.a)({url:"/"+c+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return a.a.get("/"+c+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return a.a.get("/"+c+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(a.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return a.a.get("/"+r+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return a.a.get("/"+r+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return a.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return a.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(a.a)({url:"/"+o+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(a.a)({url:"/"+r+"/system/user/v1/operate/staff",method:"post",data:e})};var i=n("//Fk"),s=n.n(i),a=n("Vo7i"),r="aflc-common",c="aflc-sm",o="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""}});