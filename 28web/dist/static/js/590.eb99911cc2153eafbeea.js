webpackJsonp([590],{Ht9P:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("lyON"),n=r("ikEQ");var s=function(e){r("q0jo")},i=r("VU/8")(o.a,n.a,s,null,null);t.default=i.exports},ikEQ:function(e,t,r){"use strict";var o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{staticClass:"RePasswordPop",attrs:{title:"重置密码",visible:t.isShow,"close-on-click-modal":!1,"before-close":t.closeMe},on:{"update:visible":function(e){t.isShow=e}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,"status-icon":"",size:"mini",rules:t.rules}},[r("el-form-item",{attrs:{label:"账号","label-width":t.formLabelWidth,prop:"username"}},[r("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"新密码","label-width":t.formLabelWidth,prop:"pwd"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"确认新密码","label-width":t.formLabelWidth,prop:"re_pwd"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.form.re_pwd,callback:function(e){t.$set(t.form,"re_pwd",e)},expression:"form.re_pwd"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:t.closeMe}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};t.a=o},lyON:function(e,t,r){"use strict";r("NYxO");var o=r("u8ra");t.a={props:{isShow:{type:Boolean,default:!1},otherInfo:{type:Object}},watch:{isShow:function(e,t){console.log(e,t,this.otherInfo),e&&(this.form.username=this.otherInfo.username,this.form.id=this.otherInfo.id,this.form.userType=this.otherInfo.type)}},mounted:function(){},data:function(){var o=this;return{isCheck:"",form:{id:0,username:"",origin_pwd:"",userType:"",pwd:"",re_pwd:"",errorTip:""},formLabelWidth:"100px",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],origin_pwd:[{required:!0,message:"请输入原密码",trigger:"blur"},{validator:function(e,t,r){"false"===o.isCheck?(r(new Error("请输入正确的密码！")),o.isCheck=""):r()},message:"请输入正确的密码"}],pwd:[{required:!0,message:"请输入新密码",trigger:"blur",validator:function(e,t,r){"string"!=typeof t||""===t||t.length<6?r("密码不能小于6位"):r()}}],re_pwd:[{required:!0,message:"请再次输入新密码",trigger:"change"},{validator:function(e,t,r){""===t?r(new Error("请再次输入密码")):t!==o.form.pwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;var t=r.form;r.$confirm("确定要强制修改"+t.username+" 该账号吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.j)({userName:t.username,id:t.id,newPassword:r.$md5(t.pwd),surePassword:r.$md5(t.re_pwd),userType:t.userType}).then(function(e){r.closeMe(),r.$message({type:"success",message:"操作成功~"})}).catch(function(e){r.$message({type:"warning",message:e.errorInfo}),r.ifDisable=!1})}).catch(function(){r.$message({type:"info",message:"已取消"}),r.ifDisable=!1})})},resetForm:function(e){this.$refs[e].resetFields()},closeMe:function(e){this.resetForm("ruleForm"),this.$emit("update:isShow",!1),"function"==typeof e&&e()}}}},q0jo:function(e,t){},u8ra:function(e,t,r){"use strict";t.b=function(r,e){return a.a.get("/"+u+"/system/org/v1/tree/"+r).then(function(e){var t=e.data||[];return s[r]=t})},t.f=function(r,e){return a.a.post("/"+u+"/system/org/v1/tree/"+r).then(function(e){var t=e.data||[];return s[r]=t})},t.e=l,t.d=f,t.c=function(e,t,r,o,n){var s=e;"object"!==(void 0===e?"undefined":i()(e))&&(s={pageSize:o,currentPage:n,vo:{name:t,orgid:e,mobilephone:r}});return a.a.post("/"+u+"/system/user/v1/findAllInfo",s).then(function(e){return e.data||{total:0,list:[]}})},t.g=function(e){return a.a.post("/"+u+"/system/user/v1/",e)},t.h=function(e){return a.a.put("/"+u+"/system/user/v1/",e)},t.a=function(e){return a.a.delete("/"+u+"/system/user/v1/"+e)},t.i=function(e){return a.a.put("/"+u+"/system/user/v1/usersAuth",e)},t.j=function(e){return a.a.put("/aflc-common/common/aflcCommonUser/v1/resetPlatformAdminPassword",e)},t.k=function(e){return a.a.delete("/"+u+"/system/user/v1/"+e+"/userDimission")};var o=r("//Fk"),n=(r.n(o),r("pFYg")),i=r.n(n),a=r("Vo7i"),u="aflc-common";var s={};function l(e){return a.a.get("/"+u+"/system/dict/v1/selectDictInfo",{params:{dictType:"department_type",orgId:e}}).then(function(e){return e.data||[]})}function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return a.a.post("/"+u+"/system/role/v1/findAllInfo",{currentPage:r,pageSize:t,vo:{orgid:e,rolesName:""}}).then(function(e){return e.data||{total:0,list:[]}})}}});