webpackJsonp([437],{"1nFl":function(e,a,t){"use strict";var n=t("AVWN"),s=t("1onU");a.a={props:{isvisible:{type:Boolean,default:!1}},components:{Pager:s.a},data:function(){return{btnsize:"mini",loading:!1,sizes:[20,50,100,400],pagesize:20,page:1,dataTotal:0,searchInfo:{tradeName:"",areaName:"",areaCode:""},tableData:[],checkedinformation:[]}},watch:{isvisible:{handler:function(e,a){e&&this.firstblood()},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handlePageChange:function(e){this.page=e.pageNum,this.pagesize=e.pageSize,this.firstblood()},firstblood:function(){var a=this;this.loading=!0,Object(n.d)(this.page,this.pagesize,this.searchInfo).then(function(e){a.tableData=e.data.list,a.dataTotal=e.data.totalCount,a.loading=!1}).catch(function(e){a.loading=!1})},handleInfo:function(e){this.$router.push({name:"发物流新增商圈增值服务定价",query:{tradeId:e.tradeId,ifrevise:"1"}})},handleSearch:function(e){"clear"==e&&(this.searchInfo={tradeName:"",areaName:"",areaCode:""}),1!=this.page&&(this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page),this.firstblood()},handleClick:function(e){var a=this;switch(e){case"new":this.$router.push({name:"发物流新增商圈增值服务定价"});break;case"status":if(0==this.checkedinformation.length)this.$message({type:"warning",message:"请选择要操作的数据！"});else{var t=[];this.checkedinformation.forEach(function(e){t.push(e.areaCode)}),Object(n.e)(t).then(function(e){a.$message({type:"success",message:"操作成功！"}),a.firstblood()})}}},getinfomation:function(e){this.checkedinformation=e},clickDetails:function(e,a,t){this.$refs.multipleTable.toggleRowSelection(e)}}}},"1onU":function(e,a,t){"use strict";var n=t("VT+v"),s=t("juIs");var i=function(e){t("ZdV2"),t("co/t")},o=t("VU/8")(n.a,s.a,i,"data-v-695be8cd",null);a.a=o.exports},AVWN:function(e,a,t){"use strict";a.f=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcTradeArea/v1/tradeList/"+e,method:"get"})},a.g=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcIncrementPrice/v1/addTrade",method:"post",data:e})},a.d=function(e,a,t){return Object(n.a)({url:"/"+s+"/usercenter/aflcIncrementPrice/v1/importlistTrade",method:"post",data:{currentPage:e,pageSize:a,vo:t}})},a.e=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcIncrementPrice/v1/enableOrDisableTrade",method:"post",data:e})},a.c=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcIncrementPrice/v1/areaCodeTrade?areaCodeTrade="+e,method:"get"})},a.h=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcTradeCarrier/v1/add",method:"post",data:e})},a.b=function(e,a,t){return Object(n.a)({url:"/"+s+"/usercenter/aflcTradeCarrier/v1/list",method:"post",data:{currentPage:e,pageSize:a,vo:t}})},a.a=function(e){return Object(n.a)({url:"/"+s+"/usercenter/aflcTradeCarrier/v1/"+e,method:"get"})};var n=t("Vo7i"),s="aflc-uc"},"C+6o":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("1nFl"),s=t("kepQ");var i=function(e){t("d5WO")},o=t("VU/8")(n.a,s.a,i,"data-v-241fdbb2",null);a.default=o.exports},"VT+v":function(e,a,t){"use strict";a.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var a=parseInt(e,10);isNaN(a)?this.inputval=1:a<1?this.inputval=1:a>this.pages?this.inputval=this.pages:this.inputval=a},handleBlur:function(e){var a=e.target;this.handleChange(a.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var a=e.keyCode,t=e.target;console.log("page keydown:",a,t),13===a&&this.oldValue&&t.value!==this.oldValue&&(this.handleChange(t.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},ZdV2:function(e,a){},"co/t":function(e,a){},d5WO:function(e,a){},juIs:function(e,a,t){"use strict";var n={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"tms-pagenation"},[t("span",{staticClass:"page-num",class:{disabled:a.pageNum<=1},on:{click:function(e){a.jumpTo(1)}}},[t("span",{staticClass:"first-page"})]),t("span",{staticClass:"page-num",class:{disabled:a.pageNum<=1},on:{click:function(e){a.jumpTo(a.pageNum-1)}}},[t("span",{staticClass:"prev-page"})]),a._v(" "),t("span",{staticClass:"page-jumper"},[a._v("\n    第\n    "),t("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:a.pages,type:"number",disabled:a.pages<=1},on:{change:a.handleChange,focus:a.handleFocus,blur:a.handleBlur},nativeOn:{keydown:function(e){return a.handleKeyup(e)}},model:{value:a.inputval,callback:function(e){a.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),a._v(" 页\n  ")],1),a._v("\n  /共 "+a._s(a.pages)+" 页\n  "),t("span",{staticClass:"page-num",class:{disabled:a.pageNum===a.pages},on:{click:function(e){a.jumpTo(a.pageNum+1)}}},[t("span",{staticClass:"next-page"})]),a._v(" "),t("span",{staticClass:"page-num",class:{disabled:a.pageNum===a.pages},on:{click:function(e){a.jumpTo(a.pages)}}},[t("span",{staticClass:"last-page"})]),a._v(" "),t("span",{staticClass:"tms-pagination__sizes"},[t("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:a.sizesChange},model:{value:a.size,callback:function(e){a.size=e},expression:"size"}},a._l(a.sizes,function(e,a){return t("el-option",{key:a,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};a.a=n},kepQ:function(e,a,t){"use strict";var n={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"identicalStyle tradeAreaServicePrice"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0,model:t.searchInfo}},[n("el-form-item",{attrs:{label:"商圈",prop:"tradeName"}},[n("el-input",{attrs:{clearable:""},model:{value:t.searchInfo.tradeName,callback:function(e){t.$set(t.searchInfo,"tradeName",e)},expression:"searchInfo.tradeName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"商圈所在地",prop:"areaName"}},[n("el-input",{model:{value:t.searchInfo.areaName,callback:function(e){t.$set(t.searchInfo,"areaName",e)},expression:"searchInfo.areaName"}})],1),t._v(" "),n("el-form-item",{staticClass:"btnChoose fr",staticStyle:{"margin-left":"0"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:"",size:t.btnsize},on:{click:function(e){t.handleSearch("search")}}},[t._v("搜索")]),t._v(" "),n("el-button",{attrs:{type:"info",icon:"fontFamily aflc-icon-qingkong",size:t.btnsize,plain:""},on:{click:function(e){t.handleSearch("clear")}}},[t._v("清空")])],1)],1),t._v(" "),n("div",{staticClass:"classify_info"},[n("div",{staticClass:"btns_box"},[n("el-button",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_AREA_ADD_PRICE_ADD",arg:"SERVICE_LTL_AREA_ADD_PRICE_ADD"}],attrs:{type:"primary",icon:"el-icon-circle-plus",plain:"",size:t.btnsize},on:{click:function(e){t.handleClick("new")}}},[t._v("新增")]),t._v(" "),n("el-button",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_AREA_ADD_PRICE_USE",arg:"SERVICE_LTL_AREA_ADD_PRICE_USE"}],attrs:{type:"primary",icon:"el-icon-bell",plain:"",size:t.btnsize},on:{click:function(e){t.handleClick("status")}}},[t._v("启用/禁用")])],1),t._v(" "),n("div",{staticClass:"info_news"},[n("el-table",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_AREA_ADD_PRICE_LIST",arg:"SERVICE_LTL_AREA_ADD_PRICE_LIST"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:"",align:"center",height:"100%","tooltip-effect":"dark"},on:{"selection-change":t.getinfomation,"row-click":t.clickDetails}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{label:"序号",sortable:"",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s((t.page-1)*t.pagesize+e.$index+1)+"\n                        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"tradeName",label:"商圈"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("h4",{staticClass:"moreInfo",on:{click:function(e){t.handleInfo(a.row)}}},[t._v(t._s(a.row.tradeName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"areaName","show-overflow-tooltip":!0,sortable:"",label:"商圈所在地"}}),t._v(" "),n("el-table-column",{attrs:{prop:"updater","show-overflow-tooltip":!0,sortable:"",label:"操作人"}}),t._v(" "),n("el-table-column",{attrs:{prop:"updateTime","show-overflow-tooltip":!0,sortable:"",label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(t._f("parseTime")(e.row.updateTime))+"\n                        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"160",prop:"usingStatus","show-overflow-tooltip":!0,sortable:"",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s("0"==e.row.usingStatus?"禁用":"启用")+"\n                        ")]}}])})],1)],1)]),t._v(" "),n("div",{directives:[{name:"has",rawName:"v-has:SERVICE_LTL_AREA_ADD_PRICE_LIST",arg:"SERVICE_LTL_AREA_ADD_PRICE_LIST"}],staticClass:"info_tab_footer"},[t._v("共计:"+t._s(t.dataTotal)+" "),n("div",{staticClass:"show_pager"},[n("Pager",{ref:"pager",attrs:{total:t.dataTotal,sizes:t.sizes},on:{change:t.handlePageChange}})],1)])],1)},staticRenderFns:[]};a.a=n}});