webpackJsonp([574],{Qg0D:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("V/oe"),l=r("dnFa");var i=function(e){r("gL04")},o=r("VU/8")(a.a,l.a,i,null,null);t.default=o.exports},Tg21:function(e,t,r){"use strict";t.a=function(e,t,r){return Object(a.a)({url:"/"+l+"/usercenter/aflcQuickpackageSettings/v1/list",method:"post",data:{currentPage:e,pageSize:t,vo:r}})},t.b=function(e){return a.a.post("/"+l+"/usercenter/aflcQuickpackageSettings/v1/add",e)},t.d=function(e){return Object(a.a)({url:"/"+l+"/usercenter/aflcQuickpackageSettings/v1/"+e,method:"get"})},t.c=function(e){return a.a.put("/"+l+"/usercenter/aflcQuickpackageSettings/v1/update",e)};var a=r("Vo7i"),l="aflc-uc"},"V/oe":function(e,t,r){"use strict";var a=r("Tg21");t.a={props:{CityCode:{type:[String,Number],default:""},params:{type:[Object,String,Array]},value:{type:String,default:""},btntype:{type:String,default:""},btntext:{type:String,default:""},btntitle:{type:String,default:""},icon:{type:String,default:""},plain:{type:Boolean,default:!1},editType:{type:String}},data:function(){var a=this;return{formLabelWidth:"150px",dialogFormVisible_add:!1,rulesForm:{quilckpackageName:{required:!0,message:"加速包名称不能为空",trigger:"change"},quilckpackageMultiple:{validator:function(e,t,r){t?parseInt(t)<1?r(new Error("输入值需要大于1")):/^[0-9]+(.[0-9]{1,2})?$/.test(t)?r():r(new Error("保留2位小数")):r(new Error("输入不能为空"))},trigger:"change",required:!0},purchasingPrice:{validator:function(e,t,r){0==t?r(new Error("请输入大于零的数")):/^[0-9]+(.[0-9]{1,2})?$/.test(t)?r():r(new Error("最多保留2位小数"))},trigger:"change",required:!0},oriPurchasingPrice:{validator:function(e,t,r){0==t?r(new Error("请输入大于零的数")):/^[0-9]+(.[0-9]{1,2})?$/.test(t)?parseFloat(a.formAll.purchasingPrice)>parseFloat(t)?r(new Error("须大于购买金额")):r():r(new Error("保留2位小数"))},trigger:"change",required:!0},quickDay:{validator:function(e,t,r){0==t?r(new Error("请输入大于零的正整数")):/^[\d]+$/.test(t)?r():r(new Error("请输入大于零的正整数"))},trigger:"change",required:!0},purchasePeriodStart:{required:!0,message:"购买开始日期不能为空",trigger:"change"},purchasePeriodEnd:{validator:function(e,t,r){t?parseInt(t)<parseInt(a.formAll.purchasePeriodStart)?r(new Error("购买结束日期不能小于购买开始日期")):r():r(new Error("购买结束日期不能为空"))},trigger:"change",required:!0}},formAll:{quilckpackageName:null,quilckpackageMultiple:null,purchasingPrice:null,oriPurchasingPrice:null,quickDay:null,purchasePeriodStart:null,purchasePeriodEnd:null,cityCode:null}}},watch:{dialogFormVisible_add:{handler:function(e,t){e||this.$refs.formAll.resetFields()}}},mounted:function(){console.log("data",this.CityCode)},methods:{openDialog:function(){var t=this;if("add"==this.editType)this.dialogFormVisible_add=!0;else if("edit"==this.editType){if(0==this.params.length)return this.$message.warning("请选择您要操作的数据"),!1;if(1<this.params.length)return this.$message({message:"每次只能操作单条数据~",type:"warning"}),this.$emit("getData"),!1;if(null==this.params.length)return this.$message.warning("请选择您要操作的数据"),!1;this.dialogFormVisible_add=!0,Object(a.d)(this.params[0].id).then(function(e){t.formAll=e.data})}},change:function(){this.dialogFormVisible_add=!1},close:function(){this.dialogFormVisible_add=!1},AddFrom:function(){var t=this;this.$refs.formAll.validate(function(e){if(!e)return t.$message({type:"warning",message:"请填写正确的完整数据"});t.formAll.cityCode=t.CityCode,t.formAll.cityCode?Object(a.b)(t.formAll).then(function(e){t.dialogFormVisible_add=!1,t.$message.success("新增成功"),t.$emit("getData")}):t.$message.error("请选择需要新增的所在城市")})},EditFrom:function(){var t=this;this.$refs.formAll.validate(function(e){if(!e)return t.$message({type:"warning",message:"请填写完整数据"});t.formAll.cityCode=t.CityCode,t.formAll.cityCode?Object(a.c)(t.formAll).then(function(e){t.dialogFormVisible_add=!1,t.$message.success("修改成功"),t.$emit("getData")}):t.$message.error("请选择需要修改的所在城市")})}}}},dnFa:function(e,t,r){"use strict";var a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"addAcceleratorPacks commoncss"},[r("el-button",{attrs:{type:t.btntype,value:t.value,plain:t.plain,icon:t.icon,size:"mini"},on:{click:function(e){t.openDialog()}}},[t._v(t._s(t.btntext))]),t._v(" "),r("el-dialog",{attrs:{visible:t.dialogFormVisible_add,"before-close":t.change,title:t.btntitle,closeOnClickModal:!1}},[r("el-form",{ref:"formAll",attrs:{model:t.formAll,rules:t.rulesForm,"label-width":t.formLabelWidth}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"加速包名称：",prop:"quilckpackageName"}},[r("el-input",{attrs:{maxlength:"10"},model:{value:t.formAll.quilckpackageName,callback:function(e){t.$set(t.formAll,"quilckpackageName",e)},expression:"formAll.quilckpackageName"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"加速倍数：",prop:"quilckpackageMultiple"}},[r("el-input",{model:{value:t.formAll.quilckpackageMultiple,callback:function(e){t.$set(t.formAll,"quilckpackageMultiple",e)},expression:"formAll.quilckpackageMultiple"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"购买金额：",prop:"purchasingPrice"}},[r("el-input",{model:{value:t.formAll.purchasingPrice,callback:function(e){t.$set(t.formAll,"purchasingPrice",e)},expression:"formAll.purchasingPrice"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"页面提示原价：",prop:"oriPurchasingPrice"}},[r("el-input",{model:{value:t.formAll.oriPurchasingPrice,callback:function(e){t.$set(t.formAll,"oriPurchasingPrice",e)},expression:"formAll.oriPurchasingPrice"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"加速天数：",prop:"quickDay"}},[r("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],model:{value:t.formAll.quickDay,callback:function(e){t.$set(t.formAll,"quickDay",e)},expression:"formAll.quickDay"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"购买开始日期：",prop:"purchasePeriodStart"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp","default-time":"00:00:00",placeholder:"选择日期"},model:{value:t.formAll.purchasePeriodStart,callback:function(e){t.$set(t.formAll,"purchasePeriodStart",e)},expression:"formAll.purchasePeriodStart"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"购买结束日期：",prop:"purchasePeriodEnd"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp","default-time":"23:59:59",placeholder:"选择日期"},model:{value:t.formAll.purchasePeriodEnd,callback:function(e){t.$set(t.formAll,"purchasePeriodEnd",e)},expression:"formAll.purchasePeriodEnd"}})],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==t.editType?r("el-button",{attrs:{type:"primary"},on:{click:t.AddFrom}},[t._v("确 定")]):r("el-button",{attrs:{type:"primary"},on:{click:t.EditFrom}},[t._v("确 定")]),t._v(" "),r("el-button",{on:{click:function(e){t.close()}}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]};t.a=a},gL04:function(e,t){}});