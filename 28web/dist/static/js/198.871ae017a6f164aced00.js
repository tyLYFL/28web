webpackJsonp([198,328],{"1alW":function(t,e,a){var r=a("kM2E");r(r.S,"Number",{isInteger:a("AKgy")})},"1onU":function(t,e,a){"use strict";var r=a("VT+v"),s=a("juIs");var n=function(t){a("ZdV2"),a("co/t")},i=a("VU/8")(r.a,s.a,n,"data-v-695be8cd",null);e.a=i.exports},"7i8U":function(t,e,a){"use strict";var s=a("K9Ec"),r=a("1onU"),n=a("t5DY"),i=a("iNdP");e.a={name:"RecommendReword",components:{Pager:r.a,add:i.default},data:function(){return{dialogFormVisible:!1,isModify:!1,formtitle:"",btnsize:"mini",loading:!1,totalCount:0,listSystemObj:{currentPage:1,pageSize:20,vo:{rewardCity:"",userTypeCode:"",status:""}},tableData:[],optionsRecommendtype:[],changeForm:{},optionsStatus:[{name:"全部",code:""},{name:"未开始",code:"1"},{name:"进行中",code:"2"},{name:"已结束",code:"3"}]}},watch:{},mounted:function(){this.firstblood(),this.doActions()},beforeDestroy:function(){},methods:{doActions:function(){var e=this;Object(n.I)().then(function(t){e.optionsRecommendtype=t.data})},handlePageChange:function(t){this.listSystemObj.currentPage=t.pageNum,this.listSystemObj.pageSize=t.pageSize,this.firstblood()},handleSearch:function(t){"clear"==t&&(this.listSystemObj.vo={rewardCity:"",userTypeCode:"",status:""}),1!=this.listSystemObj.currentPage&&(this.listSystemObj.currentPage=1,this.$refs.pager.inputval=this.listSystemObj.currentPage,this.$refs.pager.pageNum=this.listSystemObj.currentPage),this.firstblood()},firstblood:function(){var e=this;this.loading=!0,Object(s.j)(this.listSystemObj).then(function(t){e.tableData=t.data.list,e.totalCount=t.data.totalCount,e.loading=!1}).catch(function(t){e.loading=!1,e.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})},handleClick:function(t,e){var a=this;switch(console.log(t,e),t){case"new":this.dialogFormVisible=!0,this.isModify=!1,this.formtitle="新增推荐码奖励配置";break;case"revise":this.dialogFormVisible=!0,this.isModify=!0,this.formtitle="修改推荐码奖励配置",this.changeForm=e;break;case"status":var r="0"==e.flag?"确认启用当前奖励活动吗？":"确认禁用当前奖励活动吗？";this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];t.push(e.id),Object(s.k)(t).then(function(t){a.$message({type:"success",message:"0"==e.flag?"启用成功!":"禁用成功!"}),a.firstblood()}).catch(function(t){a.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})}).catch(function(){a.$message({type:"info",message:"已取消!"})})}}}}},A7NN:function(t,e,a){"use strict";var r={render:function(){var r=this,t=r.$createElement,s=r._self._c||t;return s("div",{staticClass:"RecommendRewordConfigADD commoncss rewordStyle"},[s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:r.formtitle,"close-on-click-modal":!1,top:"5vh",visible:r.dialogFormVisible},on:{close:r.close}},[s("el-form",{ref:"ruleForm",attrs:{model:r.standForm,rules:r.newrules,"label-position":"top","label-width":r.formLabelWidth}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"奖励区域：",prop:"rewardCityCode"}},[r.isModify?s("el-input",{attrs:{value:r.standForm.rewardProvince+r.standForm.rewardCity,"auto-complete":"off",disabled:""}}):s("getCityList",{ref:"area",staticClass:"chooseItem",on:{returnStr:r.getStr},model:{value:r.standForm.rewardCityCode,callback:function(t){r.$set(r.standForm,"rewardCityCode",t)},expression:"standForm.rewardCityCode"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"成功推荐用户类型：",prop:"userTypeCode"}},[r.isModify?s("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:r.standForm.userTypeName,callback:function(t){r.$set(r.standForm,"userTypeName",t)},expression:"standForm.userTypeName"}}):s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:r.standForm.userTypeCode,callback:function(t){r.$set(r.standForm,"userTypeCode",t)},expression:"standForm.userTypeCode"}},r._l(r.optionsRecommendtype,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1)],1)],1),r._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"活动奖励总上限：",prop:"rewardTotalLimit"}},[s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.rewardTotalLimit,callback:function(t){r.$set(r.standForm,"rewardTotalLimit",r._n(t))},expression:"standForm.rewardTotalLimit"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"奖励日期：",prop:"timeVal"}},[s("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","value-format":"timestamp","unlink-panels":"","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:r.standForm.timeVal,callback:function(t){r.$set(r.standForm,"timeVal",t)},expression:"standForm.timeVal"}})],1)],1)],1),r._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("h2",[r._v("推荐新用户注册奖励")])])],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"奖励方案：",prop:"groupName"}},[s("table",{staticClass:"systemTitle"},[s("thead",[s("th",[r._v("推荐人次区间")]),r._v(" "),s("th",[r._v("奖励金额")]),r._v(" "),s("th",{staticClass:"lastOne"},[r._v("操作")])]),r._v(" "),s("tbody",r._l(r.standForm.registerAwardList,function(e,a){return s("tr",{key:a},[s("td",[s("el-input",{attrs:{placeholder:"包含",maxlength:"7",disabled:""},model:{value:e.recomAuthStart,callback:function(t){r.$set(e,"recomAuthStart",t)},expression:"item.recomAuthStart"}}),r._v(" "),s("span",[r._v("----")]),r._v(" "),s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{placeholder:"包含，整数",maxlength:"7"},on:{change:function(t){r.ifWrong(r.standForm.registerAwardList,a,"recommendAwards")}},model:{value:e.recomAuthEnd,callback:function(t){r.$set(e,"recomAuthEnd",t)},expression:"item.recomAuthEnd"}})],1),r._v(" "),s("td",[s("el-input",{attrs:{placeholder:"包含",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.registerAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardStart",a,r.standForm.registerAwardList)}},model:{value:e.awardStart,callback:function(t){r.$set(e,"awardStart",t)},expression:"item.awardStart"}}),r._v(" "),s("span",[r._v("~")]),r._v(" "),s("el-input",{attrs:{placeholder:"包含，整数",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.registerAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardEnd",a,r.standForm.registerAwardList)}},model:{value:e.awardEnd,callback:function(t){r.$set(e,"awardEnd",t)},expression:"item.awardEnd"}})],1),r._v(" "),s("td",{staticClass:"lastOne"},[s("div",{staticClass:"iconItem"},[a==r.standForm.registerAwardList.length-1?s("span",{staticClass:"addItem",on:{click:function(t){r.addItem("recommendAwards",a,e)}}}):r._e(),r._v(" "),a==r.standForm.registerAwardList.length-1&&1!=r.standForm.registerAwardList.length?s("span",{staticClass:"reduceItem",on:{click:function(t){r.reduceItem("recommendAwards",a)}}}):r._e()])])])}))])])],1)],1),r._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"单个用户活动奖励上限：",prop:"recommendAwardsawardUserLimit"}},[s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.registerAwardList[0].awardUserLimit,callback:function(t){r.$set(r.standForm.registerAwardList[0],"awardUserLimit",r._n(t))},expression:"standForm.registerAwardList[0].awardUserLimit"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"单个用户每天奖励次数上限：",prop:"recommendAwardsawardDayLimit"}},[s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"3"},model:{value:r.standForm.registerAwardList[0].awardDayLimit,callback:function(t){r.$set(r.standForm.registerAwardList[0],"awardDayLimit",r._n(t))},expression:"standForm.registerAwardList[0].awardDayLimit"}})],1)],1)],1),r._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("h2",[r._v("推荐新用户认证奖励")])])],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"奖励方案：",prop:"groupName"}},[s("table",{staticClass:"systemTitle"},[s("thead",[s("th",[r._v("认证人次区间")]),r._v(" "),s("th",[r._v("奖励金额")]),r._v(" "),s("th",{staticClass:"lastOne"},[r._v("操作")])]),r._v(" "),s("tbody",r._l(r.standForm.authAwardList,function(e,a){return s("tr",{key:a},[s("td",[s("el-input",{attrs:{placeholder:"包含",maxlength:"7",disabled:""},model:{value:e.recomAuthStart,callback:function(t){r.$set(e,"recomAuthStart",t)},expression:"item.recomAuthStart"}}),r._v(" "),s("span",[r._v("----")]),r._v(" "),s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{placeholder:"包含，整数",maxlength:"7"},on:{change:function(t){r.ifWrong(r.standForm.authAwardList,a,"authAwards")}},model:{value:e.recomAuthEnd,callback:function(t){r.$set(e,"recomAuthEnd",t)},expression:"item.recomAuthEnd"}})],1),r._v(" "),s("td",[s("el-input",{attrs:{placeholder:"包含",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.authAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardStart",a,r.standForm.authAwardList)}},model:{value:e.awardStart,callback:function(t){r.$set(e,"awardStart",t)},expression:"item.awardStart"}}),r._v(" "),s("span",[r._v("~")]),r._v(" "),s("el-input",{attrs:{placeholder:"包含，整数",maxlength:"5"},on:{change:function(t){r.compareValue("awardEnd",a,r.standForm.authAwardList)}},nativeOn:{keyup:function(t){r.handlerChoose("awardEnd",a,r.standForm.authAwardList)}},model:{value:e.awardEnd,callback:function(t){r.$set(e,"awardEnd",t)},expression:"item.awardEnd"}})],1),r._v(" "),s("td",{staticClass:"lastOne"},[s("div",{staticClass:"iconItem"},[a==r.standForm.authAwardList.length-1?s("span",{staticClass:"addItem",on:{click:function(t){r.addItem("authAwards",a,e)}}}):r._e(),r._v(" "),a==r.standForm.authAwardList.length-1&&1!=r.standForm.authAwardList.length?s("span",{staticClass:"reduceItem",on:{click:function(t){r.reduceItem("authAwards",a)}}}):r._e()])])])}))])])],1)],1),r._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"单个用户活动奖励上限：",prop:"authAwardsawardUserLimit"}},[s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"6"},model:{value:r.standForm.authAwardList[0].awardUserLimit,callback:function(t){r.$set(r.standForm.authAwardList[0],"awardUserLimit",r._n(t))},expression:"standForm.authAwardList[0].awardUserLimit"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"单个用户每天奖励次数上限：",prop:"authAwardsawardDayLimit"}},[s("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{"auto-complete":"off",maxlength:"3"},model:{value:r.standForm.authAwardList[0].awardDayLimit,callback:function(t){r.$set(r.standForm.authAwardList[0],"awardDayLimit",r._n(t))},expression:"standForm.authAwardList[0].awardDayLimit"}})],1)],1)],1),r._v(" "),s("el-row",{staticClass:"rewordRemark"},[s("el-col",{attrs:{span:24}},[s("p",[r._v("页面备注：")]),r._v(" "),s("ul",r._l(r.remarkList,function(t,e){return s("li",{key:e},[s("span",[r._v(r._s(e+1+"."))]),s("span",[r._v(r._s(t.label))])])}))])],1)],1),r._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:r.btnShow},on:{click:function(t){r.submitForm("ruleForm")}}},[r._v(r._s(r.isModify?"保 存":"确 定"))]),r._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:r.close}},[r._v("取 消")])],1)],1)],1)},staticRenderFns:[]};e.a=r},AKgy:function(t,e,a){var r=a("EqjI"),s=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&s(t)===t}},CSar:function(t,e,a){"use strict";var r=a("t5DY");e.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(t){t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){var e=this;Object(r._2)().then(function(t){e.cityTree=t.data})},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(t,e,a){"use strict";var r=a("CSar"),s=a("JNZ8");var n=function(t){a("fJqg")},i=a("VU/8")(r.a,s.a,n,null,null);e.a=i.exports},DOtt:function(t,e){},JNZ8:function(t,e,a){"use strict";var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chooseCityList"},[a("el-cascader",{ref:"cityTree",attrs:{options:e.cityTree,disabled:e.disabled,props:e.props},on:{change:e.handleItemMore},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=r},K9Ec:function(t,e,a){"use strict";e.e=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardSetting/v1/list",method:"post",data:t})},e.p=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardSetting/v1/add",method:"post",data:t})},e.f=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardSetting/v1/openOrForbidden",method:"post",data:t})},e.u=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardSetting/v1/update",method:"put",data:t})},e.j=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcRecommendAwardInfo/v1/list",method:"post",data:t})},e.q=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcRecommendAwardInfo/v1/add",method:"post",data:t})},e.v=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcRecommendAwardInfo/v1/update",method:"put",data:t})},e.k=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcRecommendAwardInfo/v1/openOrForbidden",method:"post",data:t})},e.a=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardSetting/v1/list",method:"post",data:t})},e.o=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardSetting/v1/add",method:"post",data:t})},e.t=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardSetting/v1/update",method:"put",data:t})},e.b=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardSetting/v1/openOrForbidden",method:"post",data:t})},e.r=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardDetail/v1/orderCodeList",method:"post",data:t})},e.s=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRewardDetail/v1/receiveCodeList",method:"post",data:t})},e.d=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcRecommendRewardDetail/v1/list",method:"post",data:t})},e.n=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardDetail/v1/shipperList",method:"post",data:t})},e.c=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcBusinessRewardDetail/v1/driverList",method:"post",data:t})},e.h=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderCodeRecommend/v1/orderCodeList",method:"post",data:t})},e.g=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderCodeRecommend/v1/receiveCodeList",method:"post",data:t})},e.l=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcUserRecommendShare/v1/list",method:"post",data:t})},e.i=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcUserRecommender/v1/list",method:"post",data:t})},e.m=function(t){return Object(r.a)({url:"/"+s+"/sm/aflcOrderRecommend/v1/list",method:"post",data:t})};var r=a("Vo7i"),s="aflc-sm"},Ou0f:function(t,e){},"RRo+":function(t,e,a){t.exports={default:a("c45H"),__esModule:!0}},"VT+v":function(t,e,a){"use strict";e.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(t){this.oldValue=t.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(t){this.pageNum=t,this.changeEvent()},handleSizeChange:function(t){this.size=t,this.changeEvent()},handleChange:function(t){var e=parseInt(t,10);isNaN(e)?this.inputval=1:e<1?this.inputval=1:e>this.pages?this.inputval=this.pages:this.inputval=e},handleBlur:function(t){var e=t.target;this.handleChange(e.value),this.jumpTo(this.inputval)},handleKeyup:function(t){var e=t.keyCode,a=t.target;console.log("page keydown:",e,a),13===e&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(t){console.log("d",this.inputval),t<1?this.pageNum=1:t>this.pages?this.pageNum=this.pages:this.pageNum=t,this.changeEvent()}}}},ZdV2:function(t,e){},ault:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7i8U"),s=a("wU03");var n=function(t){a("Ou0f")},i=a("VU/8")(r.a,s.a,n,null,null);e.default=i.exports},c45H:function(t,e,a){a("1alW"),t.exports=a("FeBl").Number.isInteger},"co/t":function(t,e){},fJqg:function(t,e){},iNdP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("y0OO"),s=a("A7NN");var n=function(t){a("jspc")},i=a("VU/8")(r.a,s.a,n,"data-v-83fe7672",null);e.default=i.exports},jspc:function(t,e){},juIs:function(t,e,a){"use strict";var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),e._v(" "),a("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keydown:function(t){return e.handleKeyup(t)}},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),e._v(" "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[a("span",{staticClass:"last-page"})]),e._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizesChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])},staticRenderFns:[]};e.a=r},t5DY:function(t,e,a){"use strict";e._10=function(e){return e=e||"",n.a.get("/"+i+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return n.a.get("/"+i+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(n.a)({url:"/"+i+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(n.a)({url:"/"+i+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(n.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return n.a.get("/"+i+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new s.a(function(t){t(window.UPLOADPOLICYDATA)}):n.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return n.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return n.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(n.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return n.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return n.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(n.a)({url:"/"+i+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return n.a.get("/"+i+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return n.a.get("/"+i+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return n.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return n.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(n.a)({url:"/"+d+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(n.a)({url:"/"+i+"/system/user/v1/operate/staff",method:"post",data:t})};var r=a("//Fk"),s=a.n(r),n=a("Vo7i"),i="aflc-common",o="aflc-sm",d="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},wU03:function(t,e,a){"use strict";var r={render:function(){var r=this,t=r.$createElement,s=r._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticClass:"identicalStyle RecommendReword"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm classify_searchinfo",attrs:{inline:!0,model:r.listSystemObj}},[s("el-form-item",{attrs:{label:"奖励区域",prop:"rewardCity"}},[s("el-input",{attrs:{clearable:""},model:{value:r.listSystemObj.vo.rewardCity,callback:function(t){r.$set(r.listSystemObj.vo,"rewardCity",t)},expression:"listSystemObj.vo.rewardCity"}})],1),r._v(" "),s("el-form-item",{attrs:{label:"成功推荐用户类型",prop:"userTypeCode"}},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:r.listSystemObj.vo.userTypeCode,callback:function(t){r.$set(r.listSystemObj.vo,"userTypeCode",t)},expression:"listSystemObj.vo.userTypeCode"}},r._l(r.optionsRecommendtype,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),r._v(" "),s("el-form-item",{attrs:{label:"活动状态",prop:"status"}},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:r.listSystemObj.vo.status,callback:function(t){r.$set(r.listSystemObj.vo,"status",t)},expression:"listSystemObj.vo.status"}},r._l(r.optionsStatus,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),r._v(" "),s("el-form-item",{staticClass:"btnChoose fr",staticStyle:{"margin-left":"0"}},[s("el-button",{attrs:{type:"primary",size:r.btnsize,icon:"el-icon-search",plain:""},on:{click:function(t){r.handleSearch("search")}}},[r._v("搜索")]),r._v(" "),s("el-button",{attrs:{type:"info",size:r.btnsize,icon:"fontFamily aflc-icon-qingkong",plain:""},on:{click:function(t){r.handleSearch("clear")}}},[r._v("清空")])],1)],1),r._v(" "),s("div",{staticClass:"classify_info"},[s("div",{staticClass:"btns_box"},[s("el-button",{directives:[{name:"has",rawName:"v-has:MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_ADD",arg:"MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_ADD"}],attrs:{type:"primary",icon:"el-icon-circle-plus",plain:"",size:r.btnsize},on:{click:function(t){r.handleClick("new")}}},[r._v("新增")])],1),r._v(" "),s("div",{staticClass:"info_news"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:r.tableData,border:"",stripe:"",align:"center",height:"100%","tooltip-effect":"dark"}},[s("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s((r.listSystemObj.currentPage-1)*r.listSystemObj.pageSize+t.$index+1)+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"rewardCity",label:"奖励区域",width:"150"}}),r._v(" "),s("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"userTypeName",width:"150",label:"成功推荐用户类型"}}),r._v(" "),s("el-table-column",{attrs:{label:"新用户注册奖励"}},[s("el-table-column",{attrs:{label:"奖励方案",width:"200"},scopedSlots:r._u([{key:"default",fn:function(a){return r._l(a.row.registerAwardList,function(t,e){return s("p",{key:t.id,staticClass:"cargo"},[0==e?s("span",[r._v(r._s(t.recomAuthEnd?"前"+t.recomAuthEnd+"人：":""))]):e!=a.row.registerAwardList.length-1||t.recomAuthEnd?s("span",[r._v("第"+r._s(t.recomAuthStart)+"~"+r._s(t.recomAuthEnd)+"人：")]):s("span",[r._v(r._s(t.recomAuthStart)+"人后：")]),r._v(" "),t.awardStart&&t.awardEnd?s("span",[r._v(r._s(t.awardStart)+"~"+r._s(t.awardEnd)+"元/人")]):r._e()])})}}])}),r._v(" "),s("el-table-column",{attrs:{width:"150",label:"单个用户活动奖励上限"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                               "+r._s(0==t.row.registerAwardList.length?"":t.row.registerAwardList[0].awardUserLimit)+"\n                            ")]}}])}),r._v(" "),s("el-table-column",{attrs:{width:"150",label:"单个用户每天奖励次数上限"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                               "+r._s(0==t.row.registerAwardList.length?"":t.row.registerAwardList[0].awardDayLimit)+"\n                            ")]}}])})],1),r._v(" "),s("el-table-column",{attrs:{label:"新用户认证奖励"}},[s("el-table-column",{attrs:{label:"奖励方案",width:"200"},scopedSlots:r._u([{key:"default",fn:function(a){return r._l(a.row.authAwardList,function(t,e){return s("p",{key:t.id,staticClass:"cargo"},[0==e?s("span",[r._v(r._s(t.recomAuthEnd?"前"+t.recomAuthEnd+"人：":""))]):e!=a.row.authAwardList.length-1||t.recomAuthEnd?s("span",[r._v("第"+r._s(t.recomAuthStart)+"~"+r._s(t.recomAuthEnd)+"人：")]):s("span",[r._v(r._s(t.recomAuthStart)+"人后：")]),r._v(" "),t.awardStart&&t.awardEnd?s("span",[r._v(r._s(t.awardStart)+"~"+r._s(t.awardEnd)+"元/人")]):r._e()])})}}])}),r._v(" "),s("el-table-column",{attrs:{width:"150",label:"单个用户活动奖励上限"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                               "+r._s(0==t.row.authAwardList.length?"":t.row.authAwardList[0].awardUserLimit)+"\n                            ")]}}])}),r._v(" "),s("el-table-column",{attrs:{width:"150",label:"单个用户每天奖励次数上限"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                               "+r._s(0==t.row.authAwardList.length?"":t.row.authAwardList[0].awardDayLimit)+"\n                            ")]}}])})],1),r._v(" "),s("el-table-column",{attrs:{prop:"rewardTotalLimit",label:"活动奖励总上限",width:"150"}}),r._v(" "),s("el-table-column",{attrs:{prop:"rewardedTotal",label:"已奖励金额",width:"150"}}),r._v(" "),s("el-table-column",{attrs:{prop:"rewardStartDate",label:"奖励开始日期",width:"150"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s(r._f("parseTime")(t.row.rewardStartDate,"{y}-{m}-{d}"))+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{prop:"rewardEndDate",label:"奖励结束日期",width:"150"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s(r._f("parseTime")(t.row.rewardEndDate,"{y}-{m}-{d}"))+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{prop:"status",label:"活动状态",width:"150"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s("1"==t.row.status?"未开始":"2"==t.row.status?"进行中":"3"==t.row.status?"已结束":"")+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{prop:"flag",label:"状态",width:"150"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s("1"==t.row.flag?"启用":"禁用")+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{prop:"updater",label:"操作人",width:"150"}}),r._v(" "),s("el-table-column",{attrs:{prop:"updateTime",label:"操作时间",width:"160"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s(r._f("parseTime")(t.row.updateTime))+"\n                        ")]}}])}),r._v(" "),s("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:r._u([{key:"default",fn:function(e){return[s("el-button",{directives:[{name:"has",rawName:"v-has:MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_UPDATE",arg:"MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_UPDATE"}],attrs:{size:r.btnsize,type:"primary",plain:""},on:{click:function(t){r.handleClick("revise",e.row)}}},[r._v("修改")]),r._v(" "),s("el-button",{directives:[{name:"has",rawName:"v-has:MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_USE",arg:"MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_USE"}],attrs:{size:r.btnsize,type:"0"==e.row.flag?"primary":"info",disabled:!e.row.id,plain:""},on:{click:function(t){r.handleClick("status",e.row)}}},[r._v(r._s(0==e.row.flag?"启用":"禁用"))])]}}])})],1)],1)]),r._v(" "),s("div",{directives:[{name:"has",rawName:"v-has:MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_LIST",arg:"MARKETING_DISTRIBUTION_REWARD_RECOMMENDED_REWARD_LIST"}],staticClass:"info_tab_footer"},[r._v("共计:"+r._s(r.totalCount)+" "),s("div",{staticClass:"show_pager"},[s("Pager",{ref:"pager",attrs:{total:r.totalCount},on:{change:r.handlePageChange}})],1)]),r._v(" "),s("add",{attrs:{dialogFormVisible:r.dialogFormVisible,changeForm:r.changeForm,isModify:r.isModify,formtitle:r.formtitle},on:{"update:dialogFormVisible":function(t){r.dialogFormVisible=t},renovate:r.firstblood}})],1)},staticRenderFns:[]};e.a=r},y0OO:function(t,e,a){"use strict";var r=a("RRo+"),s=a.n(r),n=a("DOtt"),i=(a.n(n),a("t5DY")),d=a("K9Ec"),c=a("0xDb"),o=a("Cae1");e.a={name:"RecommendRewordConfigADD",props:{dialogFormVisible:{type:Boolean,required:!0},formtitle:{type:String,required:!0,default:"新增业务组"},isModify:{type:Boolean,default:!1},changeForm:{type:Object}},components:{getCityList:o.a},data:function(){return{btnShow:!1,formLabelWidth:"150px",standForm:{rewardCityCode:"",rewardCity:"",rewardProvince:"",userTypeName:"",userTypeCode:"",rewardTotalLimit:"",rewardStartDate:"",rewardEndDate:"",timeVal:[],registerAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}],authAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}]},optionsRecommendtype:[],newrules:{rewardCityCode:{required:!0,message:"请选择奖励区域",trigger:"change"},userTypeCode:{required:!0,message:"请选择成功推荐用户类型",trigger:"change"},rewardTotalLimit:{required:!0,validator:function(t,e,a){if(!e)return a(new Error("活动奖励总上限不能为空"));s()(e)?a():a(new Error("请输入数字值"))},trigger:"change"},timeVal:{type:"array",required:!0,message:"请选择奖励日期",trigger:"change"}},remarkList:[{label:"推荐奖励鼓励所有用户分发；在活动期间内，用户推荐新用户进入平台，新用户注册、认证可根据配置，奖励推荐人；"},{label:"活动奖励总上限：当前配置的活动，所有用户获取的总奖励金额不能大于该数值；超出该数值时，活动奖励自动熔断，不再发放奖励；"},{label:"新用户注册、认证奖励推荐人时，每项配置单个用户奖励最多可获取的上限；"},{label:"新用户注册、认证奖励推荐人时，每项配置单个用户每天可获得奖励次数的上限。"}]}},watch:{dialogFormVisible:{handler:function(t,e){t&&this.reviseForms()},deep:!0}},mounted:function(){this.init()},methods:{ifWrong:function(t,e,a){var r="authAwards"==a?"认证人次区间":"推荐人次区间",s=t[e].recomAuthEnd<=t[e].recomAuthStart;if(t.length==e+1&&this.addItem(a,e,t),s)return this.$message({type:"info",message:r+"终止值应不小于起始值"}),t.length>e+1&&t.splice(e+1),t[e].recomAuthEnd="";t.length>e+1&&(t[e+1].recomAuthStart=t[e].recomAuthEnd,t[e+1].recomAuthEnd&&t[e+1].recomAuthEnd<=t[e+1].recomAuthStart&&(this.$message({type:"info",message:r+"终止值应不小于起始值"}),t.splice(e+1),this.addItem(a,e)))},compareValue:function(t,e,a){switch(t){case"awardStart":a[e].awardEnd&&parseInt(a[e].awardEnd)<parseInt(a[e].awardStart)&&(this.$message({type:"info",message:"奖励金额区间起始值不小于终止值"}),a[e].awardStart="");break;case"awardEnd":a[e].awardStart&&parseInt(a[e].awardEnd)<parseInt(a[e].awardStart)&&(this.$message({type:"info",message:"奖励金额区间起始值不小于终止值"}),a[e].awardEnd="")}},handlerChoose:function(t,e,a){var r="awardStart"==t?a[e].awardStart:a[e].awardEnd;r=(r=(r=(r=(r=r.replace(/[^\d.]/g,"")).replace(/^\./g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),"awardStart"==t?a[e].awardStart=r:a[e].awardEnd=r},getStr:function(t){this.standForm.rewardProvince=t.province?t.province.name:"",this.standForm.rewardCity=t.city?t.city.name:"",this.standForm.rewardCityCode=t.city?t.city.code:""},getValue:function(t){return t?t.value:""},close:function(){this.$emit("update:dialogFormVisible",!1),this.$refs.ruleForm.resetFields(),this.clearForms(),this.$emit("renovate"),this.btnShow=!1,this.isModify||this.$refs.area.clearData()},init:function(){var e=this;Object(i.I)().then(function(t){e.optionsRecommendtype=t.data})},reviseForms:function(){this.isModify?(this.standForm=Object(c.i)(this.changeForm),0==this.standForm.authAwardList.length?this.standForm.authAwardList.push({recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}):0==this.standForm.registerAwardList.length&&this.standForm.registerAwardList.push({recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}),this.$set(this.standForm,"timeVal",[this.changeForm.rewardStartDate,this.changeForm.rewardEndDate])):this.clearForms()},submitForm:function(t){var o=this;this.$refs[t].validate(function(t){if(!t)return o.$message({type:"warning",message:"请填写完整数据!"}),!1;o.completeName();var e=!1,a=void 0,r=!1,s=!1,n=!1;if(1==o.standForm.registerAwardList.length?o.standForm.registerAwardList[0].awardStart||o.standForm.registerAwardList[0].awardEnd||o.standForm.registerAwardList[0].awardUserLimit||o.standForm.registerAwardList[0].awardDayLimit?o.standForm.registerAwardList[0].awardStart&&o.standForm.registerAwardList[0].awardEnd?o.standForm.registerAwardList[0].awardUserLimit?o.standForm.registerAwardList[0].awardDayLimit?s=!1:(e=!0,a="请填写推荐新用户注册奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户注册奖励单个用户活动奖励上限!"):(e=!0,a="请填写推荐新用户注册奖励完整奖励金额!"):s=!0:o.standForm.registerAwardList.forEach(function(t){t.awardStart&&t.awardEnd?t.recomAuthStart+""?t.awardUserLimit?t.awardDayLimit||(e=!0,a="请填写推荐新用户注册奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户注册奖励单个用户活动奖励上限!"):(e=!0,a="请完善推荐新用户注册奖励推荐人次区间!"):(e=!0,a="请填写推荐新用户注册奖励完整奖励金额!")}),1==o.standForm.authAwardList.length?o.standForm.authAwardList[0].awardStart||o.standForm.authAwardList[0].awardEnd||o.standForm.authAwardList[0].awardUserLimit||o.standForm.authAwardList[0].awardDayLimit?o.standForm.authAwardList[0].awardStart&&o.standForm.authAwardList[0].awardEnd?o.standForm.authAwardList[0].awardUserLimit?o.standForm.authAwardList[0].awardDayLimit?n=!1:(e=!0,a="请填写推荐新用户认证奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户认证奖励单个用户活动奖励上限!"):(e=!0,a="请填写推荐新用户认证奖励完整奖励金额!"):n=!0:o.standForm.authAwardList.forEach(function(t){t.awardStart&&t.awardEnd?t.recomAuthStart+""?t.awardUserLimit?t.awardDayLimit||(e=!0,a="请填写推荐新用户认证奖励单个用户每天奖励次数上限!"):(e=!0,a="请填写推荐新用户认证奖励单个用户活动奖励上限!"):(e=!0,a="请完善推荐新用户认证奖励推荐人次区间!"):(e=!0,a="请填写推荐新用户认证奖励完整奖励金额!")}),n&&s&&(a="请至少维护一种推荐奖励方案!",r=!0),e||r)o.$message({type:"info",message:a});else{o.btnShow=!0;var i=Object(c.i)(o.standForm);(o.isModify?Object(d.v)(i):Object(d.q)(i)).then(function(t){o.$message({type:"success",message:o.isModify?"修改成功！":"新增成功！"}),o.close()}).catch(function(t){o.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),o.btnShow=!1})}})},clearForms:function(){this.standForm={rewardCityCode:"",rewardCity:"",rewardProvince:"",userTypeName:"",userTypeCode:"",rewardTotalLimit:"",rewardStartDate:"",rewardEndDate:"",timeVal:[],registerAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}],authAwardList:[{recomAuthStart:"0",recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""}]}},addItem:function(t,e,a){switch(t){case"recommendAwards":this.standForm.registerAwardList.push({recomAuthStart:this.standForm.registerAwardList[e].recomAuthEnd,recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""});break;case"authAwards":this.standForm.authAwardList.push({recomAuthStart:this.standForm.authAwardList[e].recomAuthEnd,recomAuthEnd:"",awardStart:"",awardEnd:"",awardUserLimit:"",awardDayLimit:""})}},reduceItem:function(t,e){switch(t){case"recommendAwards":this.standForm.registerAwardList.splice(e,1);break;case"authAwards":this.standForm.authAwardList.splice(e,1)}},completeName:function(){var e=this;this.isModify||(this.standForm.userTypeName=this.optionsRecommendtype.find(function(t){return t.code===e.standForm.userTypeCode}).name),this.standForm.rewardStartDate=this.standForm.timeVal[0]?this.standForm.timeVal[0]:"",this.standForm.rewardEndDate=this.standForm.timeVal[1]?this.standForm.timeVal[1]:"",this.loopTask(this.standForm.registerAwardList),this.loopTask(this.standForm.authAwardList)},loopTask:function(t){var e=t[0].awardUserLimit,a=t[0].awardDayLimit;t.forEach(function(t){t.awardUserLimit=e,t.awardDayLimit=a})}}}}});