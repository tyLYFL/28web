webpackJsonp([283],{"4WKi":function(t,e,i){"use strict";e.b=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponGetActivity/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:i}})},e.c=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponGetActivity/v1/"+t,method:"get"})},e.a=function(t){return n.a.post("/"+r+"/sm/aflcCouponGetActivity/v1/add",t)},e.d=function(t){return n.a.put("/"+r+"/sm/aflcCouponGetActivity/v1/update",t)},e.f=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponGetActivity/v1/openOrForbidden",method:"post",data:t})},e.e=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponGetDetail/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:i}})};var n=i("Vo7i"),r="aflc-sm"},"6/gz":function(t,e,i){"use strict";var n=i("eJ/K"),r=(i("O6e2"),i("F6AQ")),a=i("t5DY"),s=i("0xDb"),o=i("c1tP"),c=i("4WKi");e.a={components:{Upload:n.a,GetCityList:r.a},props:{params:{type:[Object,Array]},typetitle:{type:String,default:""},editType:{type:String},dialogFormVisible_add:{type:Boolean,default:!1}},data:function(){var n=this;return{defaultImg:"/static/test.jpg",formLabelWidth:"150px",showPopupPic:!1,signImages:"",pickerOptions2:{shortcuts:s.l},btnStatus:!0,areaStatus:null,btnsize:"mini",optionsCoupon:[],optionsTime:[],tableDataAll:[],areaName:null,formAll:{activityName:null,startTime:null,endTime:null,activityDes:null,bannerUrl:null,shareIconUrl:null,getIntervalTimeCode:"",intervalTimeLimit:null,getTypeCode:"",perUserTimeLimit:null,couponActivityIds:null,activityRuleDes:null},couponActivityIds:[{id:null}],created:[],rulesForm:{activityName:{required:!0,message:"领券活动名称不能为空",trigger:"change"},startTime:{validator:function(t,e,i){n.formAll.startTime?i():i(new Error("活动时间不能为空"))},trigger:"change",required:!0},activityDes:{required:!0,message:"分享说明内容不能为空",trigger:"change"},bannerUrl:{required:!0,message:"Banner图片不能为空",trigger:"change"},shareIconUrl:{required:!0,message:"链接分享图标不能为空",trigger:"change"},getIntervalTimeCode:{required:!0,message:"分享说明内容不能为空",trigger:"change"},intervalTimeLimit:{required:!0,message:"领取间隔时间内可领取次数，请输入大于0以上的数",trigger:"change"},getTypeCode:{required:!0,message:"领取类型不能为空",trigger:"change"},perUserTimeLimit:{required:!0,message:"用户最多领取次数，请输入大于0以上的数",trigger:"change"},activityRuleDes:{required:!0,message:"领取类型不能为空",trigger:"change"}}}},watch:{dialogFormVisible_add:{handler:function(t,e){t?("add"!=this.editType&&this.openDialog(),this.getMoreInformation(),this.btnStatus=!0):(this.couponActivityIds=[{id:null}],this.created=[],this.$refs.formAll.resetFields(),this.$emit("getData"))}}},mounted:function(){},methods:{cTime:function(t){t?(this.formAll.startTime=t[0],this.formAll.endTime=t[1]):(this.formAll.startTime="",this.formAll.endTime="")},showCurrenPic:function(t){var e=document.querySelector(".viewer-container");switch(e.style.width="100%",e.style.height="100%",t){case"bannerUrl":this.signImages=this.formAll.bannerUrl;break;case"shareIconUrl":this.signImages=this.formAll.shareIconUrl}this.showPopupPic=!0},closePopPic:function(){this.showPopupPic=!1},addItem:function(){"view"!==this.editType&&this.couponActivityIds.push({id:null})},reduceItem:function(t){if("view"!==this.editType){if(!(1<this.couponActivityIds.length))return;this.couponActivityIds.splice(t,1)}},openDialog:function(){var n=this;Object(c.c)(this.params[0].id).then(function(t){n.formAll=t.data,n.created=[n.formAll.createTime,n.formAll.endTime];for(var e=n.formAll.couponActivityIds.split(","),i=0;i<e.length;i++)0==i?n.couponActivityIds=[{id:e[i]}]:n.couponActivityIds.push({id:e[i]});n.formAll.activityRuleDes=n.formAll.activityRuleDes.replace(new RegExp("[|]","g"),"\n")})},close:function(){this.$emit("update:dialogFormVisible_add",!1)},getMoreInformation:function(){var e=this;Object(a._12)("AF0465").then(function(t){e.optionsCoupon=t.data}),Object(a._12)("AF0466").then(function(t){e.optionsTime=t.data}),Object(o.o)(1,1e6,{usingStatus:"1"}).then(function(t){e.tableDataAll=t.data.list})},completeData:function(){for(var t=0;t<this.couponActivityIds.length;t++)if(!this.couponActivityIds[t].id)return this.$message.warning("第"+(t+1)+"条优惠券活动名称不能为空"),!1},add_data:function(){var i=this;this.completeData(),0!=this.completeData()&&this.$refs.formAll.validate(function(t){i.formAll.activityRuleDes=i.formAll.activityRuleDes.replace(new RegExp("\n","g"),"|"),i.couponActivityIds.forEach(function(t,e){0==e?i.formAll.couponActivityIds=t.id:i.formAll.couponActivityIds+=","+t.id}),i.btnStatus=!1,i.$message.info("新增中..."),Object(c.a)(i.formAll).then(function(t){i.$message.success("新增成功"),i.$emit("update:dialogFormVisible_add",!1)}).catch(function(t){i.$message.error("新增失败"),i.$emit("update:dialogFormVisible_add",!1)})})},updata_data:function(){var i=this;this.completeData(),0!=this.completeData()&&this.$refs.formAll.validate(function(t){i.formAll.activityRuleDes=i.formAll.activityRuleDes.replace(new RegExp("\n","g"),"|"),i.couponActivityIds.forEach(function(t,e){0==e?i.formAll.couponActivityIds=t.id:i.formAll.couponActivityIds+=","+t.id}),i.btnStatus=!1,i.$message.info("修改中..."),Object(c.d)(i.formAll).then(function(t){i.$message.success("修改成功"),i.$emit("update:dialogFormVisible_add",!1)}).catch(function(t){i.$message.error("修改失败"),i.$emit("update:dialogFormVisible_add",!1)})})}}}},"8YN0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("6/gz"),r=i("WPD3");var a=function(t){i("uzwY")},s=i("VU/8")(n.a,r.a,a,null,null);e.default=s.exports},A3bd:function(t,e,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"chooseCityList"},[i("el-cascader",{ref:"cityTree",attrs:{options:e.cityTree,disabled:e.disabled,props:e.props},on:{change:e.handleItemMore},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=n},Br8R:function(t,e){},F6AQ:function(t,e,i){"use strict";var n=i("dMM8"),r=i("A3bd");var a=function(t){i("TpPc")},s=i("VU/8")(n.a,r.a,a,null,null);e.a=s.exports},LwIq:function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container",class:{uploadlist:t.showFileList}},[t.uploadUrl?i("el-upload",{staticClass:"image-uploader",attrs:{data:t.upload,action:t.uploadUrl,multiple:!1,drag:!t.showFileList,"show-file-list":t.showFileList,"file-list":t.filelist,limit:t.limit,"before-upload":t.beforeUpload,"list-type":t.listtype,"on-exceed":t.onexceed,disabled:t.disabled,"on-remove":t.handleRemove,"on-error":t.handleError,"on-success":t.handleImageScucess}},[t._t("content",[t.title&&!t.showFileList?i("div",{staticClass:"upload__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("el-button",{attrs:{size:t.size,type:"primary"}},[t._v("点击上传")]),t._v(" "),t.showFileList?t._e():i("div",{staticClass:"el-upload__text"},[t._v("将文件拖拽到此区域")]),t._v(" "),t.tip?i("div",{staticClass:"upload__tip"},[t._v(t._s(t.tip))]):t._e()])],2):t._e(),t._v(" "),t.imageUrl&&!t.showFileList?i("div",{staticClass:"image-preview"},[i("div",{staticClass:"image-preview-wrapper"},[i("img",{attrs:{src:t.imageUrl}}),t._v(" "),i("div",{staticClass:"image-preview-action"},[i("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])]):t._e()],1)},staticRenderFns:[]};e.a=n},TpPc:function(t,e){},WPD3:function(t,e,i){"use strict";var n={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"increase StyleNewinfoComponent commoncss"},[n("el-dialog",{ref:"dialog",attrs:{title:i.typetitle,visible:i.dialogFormVisible_add,"modal-append-to-body":!1,"before-close":i.close,top:"5vh","close-on-click-modal":!1}},[n("el-form",{ref:"formAll",attrs:{model:i.formAll,rules:i.rulesForm,"label-position":"top"}},[n("el-row",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:"领券活动名称(分享标题)：",prop:"activityName"}},[n("el-input",{attrs:{maxlength:"20",disabled:"view"==i.editType},model:{value:i.formAll.activityName,callback:function(t){i.$set(i.formAll,"activityName",t)},expression:"formAll.activityName"}})],1)],1),i._v(" "),n("el-col",{staticClass:"top_input",attrs:{span:11}},[n("el-form-item",{attrs:{label:"活动时间：",prop:"startTime"}},[n("el-date-picker",{attrs:{type:"daterange","unlink-panels":"",clearable:"","picker-options":i.pickerOptions2,"range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],disabled:"view"==i.editType},on:{change:i.cTime},model:{value:i.created,callback:function(t){i.created=t},expression:"created"}})],1)],1)],1),i._v(" "),n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"分享说明内容：",prop:"activityDes"}},[n("el-input",{attrs:{type:"textarea",maxlength:"20",rows:3,disabled:"view"==i.editType},model:{value:i.formAll.activityDes,callback:function(t){i.$set(i.formAll,"activityDes",t)},expression:"formAll.activityDes"}})],1)],1)],1),i._v(" "),n("el-row",[n("el-col",{staticClass:"CheckPass",attrs:{span:11}},[n("el-form-item",{attrs:{labelPosition:"top",prop:"bannerUrl"}},[n("div",{staticClass:"uploadPicture"},[n("h3",{staticClass:"uploadH3"},[i._v("\n                Banner图片：\n                "),"view"!=i.editType&&i.formAll.bannerUrl?n("el-button",{staticClass:"showPictureBtn",attrs:{type:"primary",plain:""},on:{click:function(t){i.showCurrenPic("bannerUrl")}}},[i._v("查看")]):i._e()],1),i._v(" "),"view"==i.editType?n("span",[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"uploadImgBox"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"双击图片查看原图",placement:"top"}},[n("img",{attrs:{src:i.formAll.bannerUrl?i.formAll.bannerUrl:i.defaultImg}})])],1)]):n("div",{staticClass:"upload_True"},[n("upload",{staticClass:"licensePicture",attrs:{tip:"（必须为jpg/png并且小于5M）",pictureStatus:"true"},model:{value:i.formAll.bannerUrl,callback:function(t){i.$set(i.formAll,"bannerUrl",t)},expression:"formAll.bannerUrl"}})],1)])])],1),i._v(" "),n("el-col",{staticClass:"top_input",attrs:{span:11}},[n("el-form-item",{attrs:{labelPosition:"top",prop:"shareIconUrl"}},[n("div",{staticClass:"uploadPicture"},[n("h3",{staticClass:"uploadH3"},[i._v("\n                链接分享图标：\n                "),"view"!=i.editType&&i.formAll.shareIconUrl?n("el-button",{staticClass:"showPictureBtn",attrs:{type:"primary",plain:""},on:{click:function(t){i.showCurrenPic("shareIconUrl")}}},[i._v("查看")]):i._e()],1),i._v(" "),"view"==i.editType?n("span",[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"uploadImgBox"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"双击图片查看原图",placement:"top"}},[n("img",{attrs:{src:i.formAll.shareIconUrl?i.formAll.shareIconUrl:i.defaultImg}})])],1)]):n("div",{staticClass:"upload_True"},[n("upload",{staticClass:"licensePicture",attrs:{tip:"（必须为jpg/png并且小于5M）",pictureStatus:"true"},model:{value:i.formAll.shareIconUrl,callback:function(t){i.$set(i.formAll,"shareIconUrl",t)},expression:"formAll.shareIconUrl"}})],1)])])],1)],1),i._v(" "),n("el-row",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:"领取间隔时间：",prop:"getIntervalTimeCode"}},i._l(i.optionsTime,function(t){return n("el-radio-group",{key:t.code,attrs:{size:"medium",disabled:"view"==i.editType},model:{value:i.formAll.getIntervalTimeCode,callback:function(t){i.$set(i.formAll,"getIntervalTimeCode",t)},expression:"formAll.getIntervalTimeCode"}},[n("el-radio-button",{attrs:{label:t.code}},[i._v(i._s(t.name))])],1)}))],1),i._v(" "),n("el-col",{staticClass:"top_input",attrs:{span:11}},[n("el-form-item",{attrs:{label:"领取间隔时间内，可领取次数：",prop:"intervalTimeLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"2",disabled:"view"==i.editType},model:{value:i.formAll.intervalTimeLimit,callback:function(t){i.$set(i.formAll,"intervalTimeLimit",t)},expression:"formAll.intervalTimeLimit"}})],1)],1)],1),i._v(" "),n("el-row",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:"领取类型：",prop:"getTypeCode"}},i._l(i.optionsCoupon,function(t){return n("el-radio-group",{key:t.code,attrs:{size:"medium",disabled:"view"==i.editType},model:{value:i.formAll.getTypeCode,callback:function(t){i.$set(i.formAll,"getTypeCode",t)},expression:"formAll.getTypeCode"}},[n("el-radio-button",{attrs:{label:t.code}},[i._v(i._s(t.name))])],1)}))],1),i._v(" "),n("el-col",{staticClass:"top_input",attrs:{span:11}},[n("el-form-item",{attrs:{label:"用户最多领取次数：",prop:"perUserTimeLimit"}},[n("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:"2",disabled:"view"==i.editType},model:{value:i.formAll.perUserTimeLimit,callback:function(t){i.$set(i.formAll,"perUserTimeLimit",t)},expression:"formAll.perUserTimeLimit"}})],1)],1)],1),i._v(" "),n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",[n("div",[n("span",{staticStyle:{color:"red",padding:"0px 2px"}},[i._v("*")]),i._v("优惠券活动名称：")]),i._v(" "),i._l(i.couponActivityIds,function(t,e){return n("div",{key:e,staticClass:"getTypeList"},[n("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:"view"==i.editType},model:{value:i.couponActivityIds[e].id,callback:function(t){i.$set(i.couponActivityIds[e],"id",t)},expression:"couponActivityIds[keys].id"}},i._l(i.tableDataAll,function(t){return n("el-option",{key:t.id,attrs:{label:t.activityName,value:t.id}})})),i._v(" "),n("span",0==e?{staticClass:"addItem PositionCancle",on:{click:i.addItem}}:{staticClass:"reduceItem PositionCancle",on:{click:function(t){i.reduceItem(e)}}})],1)})],2)],1)],1),i._v(" "),n("el-row",[n("el-col",{attrs:{span:23}},[n("el-form-item",{attrs:{label:"活动规则(回车换行)：",prop:"activityRuleDes"}},[n("el-input",{attrs:{type:"textarea",rows:3,disabled:"view"==i.editType},model:{value:i.formAll.activityRuleDes,callback:function(t){i.$set(i.formAll,"activityRuleDes",t)},expression:"formAll.activityRuleDes"}})],1)],1)],1)],1),i._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"==i.editType&&"view"!==i.editType?n("el-button",{attrs:{type:"primary"},on:{click:i.add_data}},[i._v("确 定")]):i._e(),i._v(" "),"edit"==i.editType&&"view"!==i.editType?n("el-button",{attrs:{type:"primary"},on:{click:i.updata_data}},[i._v("确 定")]):i._e(),i._v(" "),n("el-button",{on:{click:function(t){i.close()}}},[i._v("取 消")])],1)],1),i._v(" "),n("transition",{attrs:{name:"el-zoom-in-top"}},[n("div",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"},{name:"show",rawName:"v-show",value:i.showPopupPic,expression:"showPopupPic"}],staticClass:"PopupPic"},[n("div",{staticClass:"el-dialog"},[n("div",{staticStyle:{height:"700px"}},[n("div",{staticClass:"el-dialog__header"},[n("i",{staticClass:"el-icon-close",on:{click:i.closePopPic}})]),i._v(" "),n("div",{staticClass:"showPictureBox"},[n("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{fullscreen:!1,inline:!0,navbar:!1},expression:"{fullscreen: false,inline:true,navbar:false}"}],staticClass:"PopupPicImg"},[n("img",{attrs:{src:i.signImages?i.signImages:i.defaultImg}})])])])])])])],1)},staticRenderFns:[]};e.a=n},Xi4N:function(t,e,i){"use strict";e.h=function(t){return n.a.post("/"+r+"/usercenter/aflcDriver/v1/addNew",t)},e.e=function(t){return n.a.get("/"+r+"/usercenter/aflcDriver/v1/detailByMainDriver/"+t)},e.c=function(t){return n.a.post("/"+r+"/usercenter/aflcUserIdcard/v1/identificationUserId?pathFile="+escape(t))},e.a=function(t){return n.a.post("/"+r+"/usercenter/aflcDriverLicence/v1/identificationDriverPermit?filePath="+escape(t))},e.b=function(t){return n.a.post("/"+r+"/usercenter/aflcDriverPermit/v1/identificationDriverPermit?filePath="+escape(t))},e.k=function(t){return n.a.put("/"+a+"/common/aflcCommonUser/v1/updateUserMobile",t)},e.f=function(t){return n.a.put("/"+r+"/usercenter/aflcDriver/v1/updateDriverComprehensive",t)},e.g=function(t){return n.a.post("/"+r+"/usercenter/aflcDriver/v1/checkDriverCarNum",t)},e.i=function(t){return n.a.get("/"+r+"/usercenter/aflcDriver/v1/checkDriverMobile/"+t,t)},e.j=function(t){return n.a.get("/"+s+"/im/driver/v1/pullTrack/"+t)},e.d=function(t){return n.a.post("/"+r+"/usercenter/aflcDriver/v1/batchUpdateBusiness",t)};var n=i("Vo7i"),r="aflc-uc",a="aflc-common",s="aflcsocketioservice"},c1tP:function(t,e,i){"use strict";e.o=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponActivity/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:i}})},e.n=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponActivity/v1/listAuto",method:"post",data:{currentPage:t,pageSize:e,vo:i}})},e.l=function(t){return n.a.post("/"+r+"/sm/aflcCouponActivity/v1/add",t)},e.b=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponActivity/v1/delete/"+t,method:"delete"})},e.a=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponActivity/v1/enableOrDisable",method:"post",data:t})},e.c=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF0461",method:"get"})},e.d=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF0462",method:"get"})},e.e=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF0463",method:"get"})},e.f=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF0464",method:"get"})},e.i=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCoupon/v1/query/"+t,method:"get"})},e.j=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCoupon/v1/queryTrans/"+t,method:"get"})},e.k=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponActivity/v1/"+t,method:"get"})},e.h=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponUse/v1/listDetail",method:"post",data:{currentPage:t,pageSize:e,vo:i}})},e.q=function(t,e,i){return Object(n.a)({url:"/"+r+"/sm/aflcCouponUse/v1/listDetailExcel",method:"post",responseType:"blob",data:{currentPage:t,pageSize:e,vo:i}})},e.m=function(t){return n.a.put("/"+r+"/sm/aflcCouponActivity/v1/update",t)},e.p=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponUse/v1/salesmanGrantCoupon",method:"post",data:t})},e.g=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponUse/v1/BatchDistribution",method:"post",data:t})},e.r=function(t){return Object(n.a)({url:"/"+r+"/sm/aflcCouponUse/v1/salesmanProduceCouponExcel",method:"post",data:t,responseType:"blob"})};var n=i("Vo7i"),r="aflc-sm",a="aflc-common"},dMM8:function(t,e,i){"use strict";var n=i("t5DY");e.a={name:"getAreaList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(t){this.nowData={province:null,city:null,area:null},t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){var e=this;Object(n.Z)().then(function(t){e.cityTree=t.data})},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},"eJ/K":function(t,e,i){"use strict";var n=i("sLaE"),r=i("LwIq");var a=function(t){i("Br8R"),i("uus1")},s=i("VU/8")(n.a,r.a,a,"data-v-58cb1e30",null);e.a=s.exports},nco7:function(t,e,i){"use strict";e.m=function(t){return Object(n.a)({url:"/"+r+"/usercenter/aflcShipper/v1/enableOrDisable",method:"post",data:t})},e.j=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF00104",method:"get"})},e.i=function(t){return n.a.post("/"+r+"/usercenter/aflcShipper/v1/add",t)},e.k=function(){return Object(n.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF00101",method:"get"})},e.l=function(t){return n.a.get("/"+r+"/usercenter/aflcShipper/v1/ifFindByMobile/"+t)},e.h=function(t){return n.a.put("/"+r+"/usercenter/aflcShipper/v1/update",t)},e.g=function(){return n.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00105")},e.q=function(t){return n.a.post("/"+s+"/sm/aflcCouponUse/v1/reissueCoupon",t)},e.s=function(t,e,i){return Object(n.a)({url:"/"+r+"/usercenter/aflcShipper/v1/listNew",method:"post",data:{currentPage:t,pageSize:e,vo:i}})},e.p=function(t){return n.a.post("/"+r+"/usercenter/aflcShipper/v1/addShipperNew",t)},e.c=function(t){return n.a.get("/"+r+"/usercenter/aflcShipper/v1/findAflcShipperManageByShipperId/"+t)},e.r=function(t){return n.a.put("/"+r+"/usercenter/aflcShipper/v1/updateShipperNew",t)},e.n=function(t){return n.a.put("/"+r+"/usercenter/aflcShipper/v1/substituteAuthUpdateShipper",t)},e.e=function(t){return Object(n.a)({url:"/"+r+"/usercenter/aflcShipper/v1/auditShipperPassNew",method:"post",data:t})},e.d=function(t){return Object(n.a)({url:"/"+r+"/usercenter/aflcShipper/v1/auditShipperNoPassNew",method:"post",data:t})},e.b=function(t){return n.a.post("/"+r+"/usercenter/aflcShipper/v1/aflcShipperFreeze",t)},e.a=function(t){return n.a.put("/"+r+"/usercenter/aflcShipper/v1/aflcShipperBlack",t)},e.o=function(t){return Object(n.a)({url:"/"+r+"/usercenter/aflcShipperBusinessLicence/v1/identificationShipperBusiness?pathFile="+escape(t),method:"post"})},e.f=function(t){return n.a.post("/"+r+"/usercenter/aflcShipper/v1/batchUpdateBusinessShipper",t)},e.t=function(){return Object(n.a)({url:"/"+r+"/usercenter/aflcTradeArea/v1/treeAllList?flag=1",method:"get"})};var n=i("Vo7i"),r="aflc-uc",a="aflc-common",s="aflc-sm"},sLaE:function(t,e,i){"use strict";var n=i("mvHQ"),s=i.n(n),r=i("//Fk"),o=i.n(r),a=i("t5DY"),c=i("0xDb"),l=i("Xi4N"),u=i("nco7");e.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:10},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1},uploadType:{type:String,default:""},pictureStatus:{type:[String,Boolean],default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[],bucket:null}},watch:{value:{handler:function(t){if(this.showFileList){var e=Array.isArray(t)?t:t?t.split(","):[];e=e.filter(function(t){return t}),this.filelist=e.map(function(t){var e={};return e.url=t,e})}else this.filelist=[{url:t}]},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return this.pictureStatus?(this.bucket="aflc",this.uploadUrl="http://aflc.oss-cn-shenzhen.aliyuncs.com"):(this.bucket="aflcprivate",this.uploadUrl="http://aflcprivate.oss-cn-shenzhen.aliyuncs.com"),Object(a._15)(this.bucket).then(function(t){e.upload.OSSAccessKeyId=t.accessid,e.upload.policy=t.policy,e.upload.signature=t.signature,e.dir=t.dir}).catch(function(t){console.log("get Policy ERror:",t)})},rmImage:function(){this.emitInput(""),this.$message.success("图片删除成功")},onexceed:function(t,e){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(t,e){console.log("handleRemove:",t,e),this.filelist=e,this.emitInput()},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),r=t.getHours(),a=t.getMinutes(),s=t.getSeconds();return e+"_"+i+"_"+n+"_"+(r=r<10?"0"+r:r)+(a=a<10?"0"+a:a)+(s=s<10?"0"+s:s)},random_string:function(t){var e="IMG_WEB_",i=this.getNowFormatDate();return console.log("timestamp",i),e+=i+"_"+Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,4))},emitInput:function(t){t&&(this.filelist=[],this.filelist.push({url:t})),0<this.filelist.length&&t&&this.pictureTransfer(this.filelist[0].url),this.$emit("input",this.showFileList?this.filelist.map(function(t){return t.url}).join(","):t)},handleImageScucess:function(t){var e=this,i="";this.pictureStatus?-1!==t.indexOf("Location")&&(i=(i=t.match(/<Location>([^<]+)<\/Location>/m))?i[1].replace("//"+this.dir,"/"+this.dir):"",this.emitInput(i)):Object(a._9)(t.match(/<Key>([^<]+)<\/Key>/m)[1]).then(function(t){i=t.data,e.emitInput(i)})},handleError:function(t){console.log("upload err:",t),this.$emit("error",t)},beforeUpload:function(t){var i=this,n=/image\/\w+/.test(t.type)&&/(jpe?g|png)/i.test(t.type),r=t.size/1024/1024<5,a=t.name.match(/([^\.]+)$/);return a=a?"."+a[1]:"",new o.a(function(e,t){n?r?i.init().then(function(t){i.upload.key=i.dir+Object(c.k)(new Date,"{y}{m}{d}")+"/"+i.random_string()+a,e(!0)}).catch(function(t){i.$message.error("未知错误："+s()(t)),e(!1)}):(i.$message.error("上传图片大小不能超过 5MB!"),t(!1)):(i.$message.error("上传图片只能是 JPG/PNG 格式!"),t(!1))})},pictureTransfer:function(t){var e=this;switch(this.uploadType){case"idCardFile":Object(l.c)(t).then(function(t){e.$emit("getInformation",t.data),e.$message.success("身份证识别成功")}).catch(function(t){e.$message.error(t.text)});break;case"drivingLicenceFile":Object(l.a)(t).then(function(t){e.$emit("getInformation",t.data),e.$message.success("驾驶证识别成功")}).catch(function(t){e.$message.error(t.text)});break;case"drivingPermitFile":Object(l.b)(t).then(function(t){e.$emit("getInformation",t.data),e.$message.success("行驶证识别成功")}).catch(function(t){e.$message.error(t.text)});break;case"businessLicenceFile":Object(u.o)(t).then(function(t){e.$emit("getInformation",t.data),e.$message.success("营业执照识别成功")}).catch(function(t){e.$message({type:"error",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})}}}}},t5DY:function(t,e,i){"use strict";e._10=function(e){return e=e||"",a.a.get("/"+s+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return a.a.get("/"+s+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(a.a)({url:"/"+s+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(a.a)({url:"/"+s+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(a.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return a.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new r.a(function(t){t(window.UPLOADPOLICYDATA)}):a.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return a.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return a.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(a.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return a.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return a.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(a.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return a.a.get("/"+s+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return a.a.get("/"+s+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return a.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return a.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(a.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(a.a)({url:"/"+s+"/system/user/v1/operate/staff",method:"post",data:t})};var n=i("//Fk"),r=i.n(n),a=i("Vo7i"),s="aflc-common",o="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},uus1:function(t,e){},uzwY:function(t,e){}});