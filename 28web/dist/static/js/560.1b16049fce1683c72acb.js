webpackJsonp([560],{"+2je":function(e,t,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modifyCarMolib commoncss"},[a("el-button",{attrs:{type:t.btntype,value:t.value,plain:t.plain,icon:t.icon,size:"mini"},on:{click:function(e){t.openDialog()}}},[a("span",[t._v(t._s(t.btntext))])]),t._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.btntitle,visible:t.driverTemplateDialogFlag,top:"5vh","before-close":t.change,"modal-append-to-body":"",closeOnClickModal:!1}},[a("div",[a("el-form",{ref:"templateModel",attrs:{model:t.templateModel,inline:"",rules:t.rulesForm}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"旧手机号:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"旧密码",disabled:""},model:{value:t.templateModel.oldMobile,callback:function(e){t.$set(t.templateModel,"oldMobile",e)},expression:"templateModel.oldMobile"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"新手机号:","label-width":t.formLabelWidth,prop:"newMobile"}},[a("el-input",{attrs:{placeholder:"新手机号",maxlength:"11"},model:{value:t.templateModel.newMobile,callback:function(e){t.$set(t.templateModel,"newMobile",e)},expression:"templateModel.newMobile"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.updata}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.driverTemplateDialogFlag=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};t.a=r},"6w/N":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Z9Qc"),i=a("+2je");var l=function(e){a("uakw")},n=a("VU/8")(r.a,i.a,l,null,null);t.default=n.exports},Xi4N:function(e,t,a){"use strict";t.h=function(e){return r.a.post("/"+i+"/usercenter/aflcDriver/v1/addNew",e)},t.e=function(e){return r.a.get("/"+i+"/usercenter/aflcDriver/v1/detailByMainDriver/"+e)},t.c=function(e){return r.a.post("/"+i+"/usercenter/aflcUserIdcard/v1/identificationUserId?pathFile="+escape(e))},t.a=function(e){return r.a.post("/"+i+"/usercenter/aflcDriverLicence/v1/identificationDriverPermit?filePath="+escape(e))},t.b=function(e){return r.a.post("/"+i+"/usercenter/aflcDriverPermit/v1/identificationDriverPermit?filePath="+escape(e))},t.k=function(e){return r.a.put("/"+l+"/common/aflcCommonUser/v1/updateUserMobile",e)},t.f=function(e){return r.a.put("/"+i+"/usercenter/aflcDriver/v1/updateDriverComprehensive",e)},t.g=function(e){return r.a.post("/"+i+"/usercenter/aflcDriver/v1/checkDriverCarNum",e)},t.i=function(e){return r.a.get("/"+i+"/usercenter/aflcDriver/v1/checkDriverMobile/"+e,e)},t.j=function(e){return r.a.get("/"+n+"/im/driver/v1/pullTrack/"+e)},t.d=function(e){return r.a.post("/"+i+"/usercenter/aflcDriver/v1/batchUpdateBusiness",e)};var r=a("Vo7i"),i="aflc-uc",l="aflc-common",n="aflcsocketioservice"},Z9Qc:function(e,t,a){"use strict";var r=a("Xi4N");t.a={name:"template-create-view-change",props:{templateItem:{type:[Object,Array]},params:{type:[Object,Array]},value:{type:String,default:""},btntype:{type:String,default:""},btntext:{type:String,default:""},btntitle:{type:String,default:""},icon:{type:String,default:""},plain:{type:Boolean,default:!1}},data:function(){return{driverTemplateDialogFlag:!1,formLabelWidth:"120px",templateModel:{newMobile:null,oldMobile:null,updateType:"1"},rulesForm:{newMobile:{validator:function(e,t,a){!t&&a(new Error("手机号码不能为空")),/(^1[1|2|3|4|5|6|7|8|9]\d{9}$)|(^09\d{8}$)/.test(t)?a():a(new Error("请输入正确的手机号码格式"))},trigger:"change",required:!0}}}},watch:{driverTemplateDialogFlag:{handler:function(e,t){}}},methods:{openDialog:function(){return this.params?0!=this.params.length?1<this.params.length?(this.$message({message:"每次只能操作单条数据~",type:"warning"}),void this.$emit("getData")):(this.templateModel.oldMobile=this.params[0].driverMobile,void(this.driverTemplateDialogFlag=!0)):void this.$message.warning("请选择您要操作的用户"):(this.$message.warning("请选择您要操作的用户"),!1)},change:function(){this.driverTemplateDialogFlag=!1},updata:function(){var t=this;this.$refs.templateModel.validate(function(e){e&&(t.driverTemplateDialogFlag=!1,Object(r.k)(t.templateModel).then(function(e){t.$message.success("修改成功"),t.$emit("getData")}).catch(function(e){t.$message.error("修改失败")}))})}},mounted:function(){}}},uakw:function(e,t){}});