webpackJsonp([103],{"/OH/":function(t,e,a){"use strict";var i=a("xoQy"),n=a("PqbL");var o=function(t){a("M6dL")},s=a("VU/8")(i.a,n.a,o,"data-v-168d2074",null);e.a=s.exports},"1onU":function(t,e,a){"use strict";var i=a("VT+v"),n=a("juIs");var o=function(t){a("ZdV2"),a("co/t")},s=a("VU/8")(i.a,n.a,o,"data-v-695be8cd",null);e.a=s.exports},"8sHD":function(t,e,a){var i=a("kM2E"),n=a("KpO7");i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},BjNd:function(t,e){},CSar:function(t,e,a){"use strict";var i=a("t5DY");e.a={name:"getCityList",props:{disabled:{type:Boolean},value:[String,Array]},data:function(){return{selectedOptions:[],areaList:null,cityTree:[],props:{label:"name",value:"code",children:"children"},nowData:{province:null,city:null,area:null}}},methods:{handleItemMore:function(t){t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.cityTree.currentLabels[0],value:this.$refs.cityTree.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.cityTree.currentLabels[1],value:this.$refs.cityTree.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.cityTree.currentLabels[2],value:this.$refs.cityTree.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){var e=this;Object(i._2)().then(function(t){e.cityTree=t.data})},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},Cae1:function(t,e,a){"use strict";var i=a("CSar"),n=a("JNZ8");var o=function(t){a("fJqg")},s=a("VU/8")(i.a,n.a,o,null,null);e.a=s.exports},EPeO:function(t,e,a){"use strict";var i=a("mvHQ"),s=a.n(i),n=a("//Fk"),l=a.n(n),o=a("t5DY"),r=a("0xDb");e.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:10},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[],videoUploadPercent:0,videoFlag:!1}},watch:{value:{handler:function(t){if(this.showFileList){var e=Array.isArray(t)?t:t?t.split(","):[];e=e.filter(function(t){return t}),this.filelist=e.map(function(t){var e={};return e.url=t,e})}else this.filelist=[{url:t}]},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this;return Object(o._15)("aflc").then(function(t){e.upload.OSSAccessKeyId=t.accessid,e.upload.policy=t.policy,e.upload.signature=t.signature,e.uploadUrl=t.host,e.dir=t.dir}).catch(function(t){console.log("get Policy ERror:",t)})},uploadVideoProcess:function(t,e,a){this.videoFlag=!0,this.videoUploadPercent=parseInt(t.percent)},rmImage:function(){this.emitInput("")},onexceed:function(t,e){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(t,e){console.log("handleRemove:",t,e),this.filelist=e,this.emitInput()},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),n=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return e+"_"+a+"_"+i+"_"+(n=n<10?"0"+n:n)+(o=o<10?"0"+o:o)+(s=s<10?"0"+s:s)},random_string:function(t){var e="IMG_WEB_",a=this.getNowFormatDate();return console.log("timestamp",a),e+=a+"_"+Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,4))},emitInput:function(t){t&&this.filelist.push({url:t}),this.$emit("input",this.showFileList?this.filelist.map(function(t){return t.url}).join(","):t)},handleImageScucess:function(t){this.videoFlag=!1;var e="";-1!==t.indexOf("Location")&&(e=(e=t.match(/<Location>([^<]+)<\/Location>/m))?e[1].replace("//"+this.dir,"/"+this.dir):""),this.emitInput(e)},handleError:function(t){console.log("upload err:",t),this.$emit("error",t)},beforeUpload:function(t){var a=this;console.log("beforeUpload:",t);var i=/image\/\w+/.test(t.type)&&/(jpe?g|png)/i.test(t.type),n=t.size/1024/1024<5,o=t.name.match(/([^\.]+)$/);return o=o?"."+o[1]:"",new l.a(function(e,t){i?n?(console.log("loooo1"),a.init().then(function(t){console.log("loooo2"),a.upload.key=a.dir+Object(r.k)(new Date,"{y}{m}{d}")+"/"+a.random_string()+o,e(!0)}).catch(function(t){console.log("loooo3"),a.$message.error("未知错误："+s()(t)),e(!1)})):(a.$message.error("上传图片大小不能超过 5MB!"),t(!1)):(a.$message.error("上传图片只能是 JPG/PNG 格式!"),t(!1))})}}}},FOaG:function(t,e){},JNZ8:function(t,e,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chooseCityList"},[a("el-cascader",{ref:"cityTree",attrs:{options:e.cityTree,disabled:e.disabled,props:e.props},on:{change:e.handleItemMore},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=i},KpO7:function(t,e,a){var i=a("7KvD").parseInt,n=a("mnVu").trim,o=a("hyta"),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var a=n(String(t),3);return i(a,e>>>0||(s.test(a)?16:10))}:i},M6dL:function(t,e){},PqbL:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"v-dropdown-container",style:[t.styleSheet]},[t._t("default")],2)},staticRenderFns:[]};e.a=i},QbVN:function(t,e,a){"use strict";var i=a("EPeO"),n=a("jrcS");var o=function(t){a("BjNd"),a("yDTW")},s=a("VU/8")(i.a,n.a,o,"data-v-a8a0f0d6",null);e.a=s.exports},SoLT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("WxWG"),n=a("faoM");var o=function(t){a("FOaG")},s=a("VU/8")(i.a,n.a,o,null,null);e.default=s.exports},UZPH:function(t,e,a){"use strict";e.a={cn:{pleaseSelect:"请选择"},en:{pleaseSelect:"Please select"}}},VMRp:function(t,e){},"VT+v":function(t,e,a){"use strict";e.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(t){this.oldValue=t.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(t){this.pageNum=t,this.changeEvent()},handleSizeChange:function(t){this.size=t,this.changeEvent()},handleChange:function(t){var e=parseInt(t,10);isNaN(e)?this.inputval=1:e<1?this.inputval=1:e>this.pages?this.inputval=this.pages:this.inputval=e},handleBlur:function(t){var e=t.target;this.handleChange(e.value),this.jumpTo(this.inputval)},handleKeyup:function(t){var e=t.keyCode,a=t.target;console.log("page keydown:",e,a),13===e&&this.oldValue&&a.value!==this.oldValue&&(this.handleChange(a.value),this.oldValue="")},jumpTo:function(t){console.log("d",this.inputval),t<1?this.pageNum=1:t>this.pages?this.pageNum=this.pages:this.pageNum=t,this.changeEvent()}}}},WxWG:function(t,e,a){"use strict";var i=a("rC0a"),o=a("c1tP"),n=(a("QbVN"),a("mcg1")),s=(a("O6e2"),a("Cae1")),l=a("1onU"),r=a("0xDb");e.a={props:{params:{type:[Object,Array]},paramsId:{type:String,default:""},typetitle:{type:String,default:""},editType:{type:String},dialogFormVisible_add:{type:Boolean,default:!1},typedialog:{type:Boolean,default:!1}},components:{GetCityList:s.a,vregion:n.a,Pager:l.a},watch:{autocheck:function(t,e){this.autocheck=t||e},dialogFormVisible_add:{handler:function(t,e){if(t)this.openDialog(),this.btnStatus=!0,this.$route.query.activityId&&this.typedialog&&(this.autocheck="second");else{for(var a in this.$emit("getData"),this.autocheck="first",this.searchData)this.searchData[a]="";this.grantTimeAll=[]}}}},data:function(){return{btnsize:"mini",pickerOptions2:{shortcuts:r.l},sizes:[10,50,100],pagesize:10,page:1,tableDataAll:[],dataTotal:null,autocheck:"first",createTime:[],inputKey:null,formLabelWidth:"120px",formLabelWidth2:"120px",vouchersuperpositionList:[{code:0,name:"不能"},{code:1,name:"能"}],optionsCar:[],MaidLevel:[],serviceCard:[],couponList:[],couponTimeList:[],formAllData:{activityDes:null,activityName:null,activityType:null,usingStatus:null,areaCode:null,startTime:null,endTime:null,areaName1:null,aflcCouponList:[{couponNum:null,couponName:null,couponType:null,remissionDiscount:null,timeType:null,conditionDeduction:null,startTime:null,overTime:null,endTime:null,serivceCode:null,carType:null,areaCode:null,areaName1:null,ifvouchersuperposition:null}]},grantTimeAll:[],searchData:{mobile:"",startTime:null,endTime:null,couponStatus:"",activityId:null,belongSalesmanName:null},optionsCarList:[],serviceCardList:[],couponLists:[],couponTimeLists:[],couponStatusList:[],href:""}},methods:{cTime:function(t){null!==t?(this.formAllData.startTime=t[0],this.formAllData.endTime=t[1]):(this.formAllData.startTime=null,this.formAllData.endTime=null)},cTime2:function(t){null!==t?(this.searchData.startTime=t[0],this.searchData.endTime=t[1]):(this.searchData.startTime=null,this.searchData.endTime=null)},getData_query:function(){this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page,this.firstblood()},importExcel:function(){var i=this;Object(o.q)(this.page,this.pagesize,this.searchData).then(function(t){var e=new Blob([t]);i.href=window.URL.createObjectURL(e);var a=document.createElement("a");a.setAttribute("href",i.href),a.setAttribute("target","_blank"),a.setAttribute("download","优惠卷.xls"),document.body.appendChild(a),a.click(),document.body.removeChild(a)})},clearSearch:function(){this.searchData={mobile:"",startTime:null,endTime:null,couponStatus:"",belongSalesmanName:null},"view"==this.editType?this.searchData.activityId=this.paramsId:this.searchData.activityId=this.params[0].id,this.grantTimeAll=[],1!=this.page&&(this.page=1,this.$refs.pager.inputval=this.page,this.$refs.pager.pageNum=this.page),this.firstblood()},openDialog:function(){"view"==this.editType?this.getMethods(this.paramsId):this.getMethods(this.params[0].id)},getMethods:function(t){var n=this;this.searchData.activityId=t,Object(o.k)(t).then(function(t){var e=new Date(t.data.startTime),a=new Date(t.data.endTime),i=[];n.formAllData.activityName=t.data.activityName,n.formAllData.activityDes=t.data.activityDes,n.formAllData.areaCode=t.data.areaCode,n.formAllData.activityType=t.data.activityType,i.push(e.getTime(),a.getTime()),n.createTime=i,null==t.data.area?n.formAllData.areaName1=t.data.province+t.data.city:n.formAllData.areaName1=t.data.province+t.data.city+t.data.area}),Object(o.i)(t).then(function(t){n.formAllData.aflcCouponList=t.data;for(var e=0;e<n.formAllData.aflcCouponList.length;e++)n.formAllData.aflcCouponList[e].startTime=new Date(n.formAllData.aflcCouponList[e].startTime).getTime(),n.formAllData.aflcCouponList[e].endTime=new Date(n.formAllData.aflcCouponList[e].endTime).getTime(),"0"==n.formAllData.aflcCouponList[e].ifvouchersuperposition?n.formAllData.aflcCouponList[e].ifvouchersuperposition="不能":n.formAllData.aflcCouponList[e].ifvouchersuperposition="能",null==n.formAllData.aflcCouponList[e].area?n.formAllData.aflcCouponList[e].areaName1=n.formAllData.aflcCouponList[e].province+n.formAllData.aflcCouponList[e].city:n.formAllData.aflcCouponList[e].areaName1=n.formAllData.aflcCouponList[e].province+n.formAllData.aflcCouponList[e].city+n.formAllData.aflcCouponList[e].area,"null"==n.formAllData.aflcCouponList[e].carTypeName&&(n.formAllData.aflcCouponList[e].carTypeName="")}),this.firstblood()},change:function(){this.$emit("update:dialogFormVisible_add",!1)},radioGroup:function(t){this.formAllData.activityType=t},firstblood:function(){var e=this;Object(o.h)(this.page,this.pagesize,this.searchData).then(function(t){e.dataTotal=t.data.totalCount,e.tableDataAll=t.data.list})},handlePageChange:function(t){this.page=t.pageNum,this.pagesize=t.pageSize,this.firstblood()},getMoreInformation:function(){var e=this;Object(i.a)().then(function(t){t.data.map(function(t){e.optionsCarList.push(t)})}),Object(i.h)().then(function(t){t.data.map(function(t){e.serviceCardList.push(t)})}),Object(o.d)().then(function(t){t.data.map(function(t){e.couponLists.push(t)})}),Object(o.e)().then(function(t){t.data.map(function(t){e.couponTimeLists.push(t)})}),Object(o.f)().then(function(t){t.data.map(function(t){e.couponStatusList.push(t)})})}},mounted:function(){this.getMoreInformation()}}},ZdV2:function(t,e){},bxQ9:function(t,e,a){"use strict";var i={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[!a.ui&&a.text?i("span",[a._v("\n        "+a._s(a.itemProvince&&a.itemProvince.value)+a._s(a.itemCity&&a.itemCity.value)+a._s(a.itemArea&&a.itemArea.value)+a._s(a.itemTown&&a.itemTown.value)+"\n    ")]):a._e(),a._v(" "),a.text||a.ui||!a.province?a._e():i("select",{directives:[{name:"model",rawName:"v-model",value:a.nowProvince,expression:"nowProvince"}],class:a.className,on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});a.nowProvince=t.target.multiple?e:e[0]}}},[a.blank?i("option",{attrs:{value:""}},[a._v(a._s(a.lang.pleaseSelect))]):a._e(),a._v(" "),a._l(a.listProvince,function(t){return i("option",{domProps:{value:t.key}},[a._v(a._s(t.value))])})],2),a._v(" "),!a.text&&!a.ui&&a.city&&a.haveCity?i("select",{directives:[{name:"model",rawName:"v-model",value:a.nowCity,expression:"nowCity"}],class:a.className,on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});a.nowCity=t.target.multiple?e:e[0]}}},[a.blank?i("option",{attrs:{value:""}},[a._v(a._s(a.lang.pleaseSelect))]):a._e(),a._v(" "),a._l(a.listCity,function(t){return i("option",{domProps:{value:t.key}},[a._v(a._s(t.value))])})],2):a._e(),a._v(" "),!a.text&&!a.ui&&(a.area&&a.city||!a.haveCity)&&a.listArea.length?i("select",{directives:[{name:"model",rawName:"v-model",value:a.nowArea,expression:"nowArea"}],class:a.className,on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});a.nowArea=t.target.multiple?e:e[0]}}},[a.blank?i("option",{attrs:{value:""}},[a._v(a._s(a.lang.pleaseSelect))]):a._e(),a._v(" "),a._l(a.listArea,function(t){return i("option",{domProps:{value:t.key}},[a._v(a._s(t.value))])})],2):a._e(),a._v(" "),!a.text&&!a.ui&&a.town&&a.area&&a.city?i("select",{directives:[{name:"model",rawName:"v-model",value:a.nowTown,expression:"nowTown"}],class:a.className,on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});a.nowTown=t.target.multiple?e:e[0]}}},[a.blank?i("option",{attrs:{value:""}},[a._v(a._s(a.lang.pleaseSelect))]):a._e(),a._v(" "),a._l(a.listTown,function(t){return i("option",{domProps:{value:t.key}},[a._v(a._s(t.value))])})],2):a._e(),a._v(" "),a.ui?i("div",{ref:"caller",staticClass:"caller-container",on:{click:function(t){t.stopPropagation(),t.preventDefault(),a.showDropdown(!0)}}},[a._t("default")],2):a._e(),a._v(" "),a.ui?i("v-dropdown",{ref:"dropdown"},[i("div",{staticClass:"rg-header"},[i("h3",[i("span",{directives:[{name:"show",rawName:"v-show",value:!(a.itemProvince||a.itemCity||a.itemArea||a.itemTown),expression:"!itemProvince&&!itemCity&&!itemArea&&!itemTown"}]},[a._v("行政区划选择器")]),a._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:a.itemProvince||a.itemCity||a.itemArea||a.itemTown,expression:"itemProvince||itemCity||itemArea||itemTown"}],staticClass:"rg-header-selected"},[a._v("\n                    "+a._s(a.itemProvince&&a.itemProvince.value)+a._s(a.itemCity&&a.itemCity.value)+a._s(a.itemArea&&a.itemArea.value)+a._s(a.itemTown&&a.itemTown.value)+"\n                ")])]),a._v(" "),i("button",{staticClass:"rg-removeall-button",attrs:{type:"button",title:"清除选择"},on:{click:a.clear}},[i("i",{staticClass:"iconfont icon-removeall"})]),a._v(" "),i("button",{staticClass:"rg-done-button",attrs:{type:"button",title:"完成"},on:{click:function(t){a.showDropdown(!1)}}},[i("i",{staticClass:"iconfont icon-selected"})])]),a._v(" "),a.search?i("div",{staticClass:"rg-search"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.query,expression:"query",modifiers:{trim:!0}}],ref:"input",staticClass:"rg-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:a.query},on:{input:function(t){t.target.composing||(a.query=t.target.value.trim())},blur:function(t){a.$forceUpdate()}}})]):a._e(),a._v(" "),i("div",{staticClass:"rg-level-tabs"},[i("ul",a._l(a.levels,function(t,e){return a.checkAvailable(e)?i("li",[i("a",{class:{active:e===a.levelIndex},attrs:{href:"javascript:void(0);",tab_id:"selectmenu_tab_"+(e+1),data_index:e},on:{click:function(t){a.levelIndex=e}}},[a._v(a._s(t.title))])]):a._e()}))]),a._v(" "),i("div",{staticClass:"rg-results-container"},[i("ul",{staticClass:"rg-results"},[a._l(a.list,function(e,t){return i("li",{class:{"rg-item":!0,active:a.matchItem(e)},on:{click:function(t){a.itemSelect(e)}}},[a._v(a._s(e.value))])}),a._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:0===a.list.length,expression:"list.length === 0"}],staticClass:"rg-message-box"},[a._v("无匹配项目")])],2)])]):a._e()],1)},staticRenderFns:[]};e.a=i},c1tP:function(t,e,a){"use strict";e.o=function(t,e,a){return Object(i.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:a}})},e.n=function(t,e,a){return Object(i.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/listAuto",method:"post",data:{currentPage:t,pageSize:e,vo:a}})},e.l=function(t){return i.a.post("/"+n+"/sm/aflcCouponActivity/v1/add",t)},e.b=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/delete/"+t,method:"delete"})},e.a=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/enableOrDisable",method:"post",data:t})},e.c=function(){return Object(i.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF0461",method:"get"})},e.d=function(){return Object(i.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF0462",method:"get"})},e.e=function(){return Object(i.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF0463",method:"get"})},e.f=function(){return Object(i.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF0464",method:"get"})},e.i=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCoupon/v1/query/"+t,method:"get"})},e.j=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCoupon/v1/queryTrans/"+t,method:"get"})},e.k=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponActivity/v1/"+t,method:"get"})},e.h=function(t,e,a){return Object(i.a)({url:"/"+n+"/sm/aflcCouponUse/v1/listDetail",method:"post",data:{currentPage:t,pageSize:e,vo:a}})},e.q=function(t,e,a){return Object(i.a)({url:"/"+n+"/sm/aflcCouponUse/v1/listDetailExcel",method:"post",responseType:"blob",data:{currentPage:t,pageSize:e,vo:a}})},e.m=function(t){return i.a.put("/"+n+"/sm/aflcCouponActivity/v1/update",t)},e.p=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponUse/v1/salesmanGrantCoupon",method:"post",data:t})},e.g=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponUse/v1/BatchDistribution",method:"post",data:t})},e.r=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcCouponUse/v1/salesmanProduceCouponExcel",method:"post",data:t,responseType:"blob"})};var i=a("Vo7i"),n="aflc-sm",o="aflc-common"},"co/t":function(t,e){},fJqg:function(t,e){},faoM:function(t,e,a){"use strict";var i={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"automationcheck commoncss"},[i("div",{staticClass:"newcoupon1"},[i("el-dialog",{ref:"dialog",attrs:{title:a.typetitle,visible:a.dialogFormVisible_add,"modal-append-to-body":!1,"before-close":a.change,"close-on-click-modal":!1}},[i("el-tabs",{attrs:{type:"card"},model:{value:a.autocheck,callback:function(t){a.autocheck=t},expression:"autocheck"}},[i("el-tab-pane",{attrs:{label:"活动配置",name:"first"}},[i("div",{staticClass:"automationcheckTab"},[i("el-form",{ref:"formAllData",attrs:{model:a.formAllData,inline:!0}},["one"==a.editType?i("el-row",[i("el-col",[i("el-form-item",{attrs:{label:"触发条件：","label-width":a.formLabelWidth}},[i("el-radio-group",{attrs:{size:"small",disabled:""},model:{value:a.formAllData.activityType,callback:function(t){a.$set(a.formAllData,"activityType",t)},expression:"formAllData.activityType"}},[i("el-radio",{attrs:{label:"AF046102",border:""}},[a._v("新用户注册")]),a._v(" "),i("el-radio",{attrs:{label:"AF046103",border:""}},[a._v("认证通过")])],1)],1)],1)],1):a._e(),a._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"活动名称：","label-width":a.formLabelWidth}},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.activityName,callback:function(t){a.$set(a.formAllData,"activityName",t)},expression:"formAllData.activityName"}})],1)],1),a._v(" "),i("el-col",{attrs:{span:16}},[i("el-form-item",{attrs:{label:"活动时效：","label-width":a.formLabelWidth}},[i("el-date-picker",{attrs:{disabled:"","is-range":"",type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围","value-format":"timestamp"},on:{change:a.cTime},model:{value:a.createTime,callback:function(t){a.createTime=t},expression:"createTime"}})],1)],1)],1),a._v(" "),i("el-row",[i("el-col",{attrs:{span:20}},[i("el-form-item",{attrs:{label:"活动说明：","label-width":a.formLabelWidth}},[i("div",{staticClass:"textareaBox"},[i("el-input",{ref:"infofocus",attrs:{disabled:"",type:"textarea",rows:2,placeholder:"1-100间的字符",maxlength:"100",clearable:""},model:{value:a.formAllData.activityDes,callback:function(t){a.$set(a.formAllData,"activityDes",t)},expression:"formAllData.activityDes"}})],1)])],1)],1),a._v(" "),i("el-row",[i("el-col",{attrs:{span:10}},[i("el-form-item",{attrs:{label:"发放区域：","label-width":a.formLabelWidth}},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.areaName1,callback:function(t){a.$set(a.formAllData,"areaName1",t)},expression:"formAllData.areaName1"}})],1)],1)],1),a._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"table_box"},a._l(a.formAllData.aflcCouponList,function(t,e){return i("div",{key:e,staticClass:"ht_table"},[0==e?i("div",{staticClass:"ht_table_tr"},[i("div",{staticClass:"ht_table_th1"}),a._v(" "),i("div",{staticClass:"ht_table_th table_th1"},[a._v("派发数量")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th2"},[a._v("优惠券名称")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th3"},[a._v("优惠券类型")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th4"},[a._v("满减/折扣")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th5"},[a._v("满减条件/最高抵扣")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th6"},[a._v("支付方式")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th7"},[a._v("时效类型")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th8"},[a._v("开始时间")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th9"},[a._v("过期时间")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th10"},[a._v("适用服务类型")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th11"},[a._v("适用车辆类型")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th12"},[a._v("适用区域")]),a._v(" "),i("div",{staticClass:"ht_table_th table_th13"},[a._v("能否与大户券叠加")])]):a._e(),a._v(" "),i("div",{staticClass:"ht_table_tr1"},[i("div",{staticClass:"ht_table_td1"}),a._v(" "),i("div",{staticClass:"ht_table_td table_th1"},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.aflcCouponList[e].couponNum,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"couponNum",t)},expression:"formAllData.aflcCouponList[keys].couponNum"}})],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th2"},[i("el-tooltip",{attrs:{content:a.formAllData.aflcCouponList[e].couponName,placement:"top"}},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.aflcCouponList[e].couponName,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"couponName",t)},expression:"formAllData.aflcCouponList[keys].couponName"}})],1)],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th3"},[i("el-select",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:a.formAllData.aflcCouponList[e].couponType,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"couponType",t)},expression:"formAllData.aflcCouponList[keys].couponType"}},a._l(a.couponLists,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th4"},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.aflcCouponList[e].remissionDiscount,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"remissionDiscount",t)},expression:"formAllData.aflcCouponList[keys].remissionDiscount"}})],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th5"},[i("el-input",{attrs:{disabled:""},model:{value:a.formAllData.aflcCouponList[e].conditionDeduction,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"conditionDeduction",a._n(t))},expression:"formAllData.aflcCouponList[keys].conditionDeduction"}})],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th6"},[i("el-input",{attrs:{placeholder:"在线支付",disabled:""}})],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th7"},[i("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:""},on:{change:function(t){a.TimeType(e)}},model:{value:a.formAllData.aflcCouponList[e].timeType,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"timeType",t)},expression:"formAllData.aflcCouponList[keys].timeType"}},a._l(a.couponTimeLists,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th8"},["AF046301"==a.formAllData.aflcCouponList[e].timeType?i("span",[a._v("/")]):i("span",[i("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp","default-time":"00:00:00",placeholder:"选择日期",disabled:""},model:{value:a.formAllData.aflcCouponList[e].startTime,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"startTime",t)},expression:"formAllData.aflcCouponList[keys].startTime"}})],1)]),a._v(" "),i("div",{staticClass:"ht_table_td table_th9"},["AF046301"==a.formAllData.aflcCouponList[e].timeType?i("span",[i("el-input",{attrs:{placeholder:"过期天数",max:"3",disabled:""},model:{value:a.formAllData.aflcCouponList[e].overTime,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"overTime",t)},expression:"formAllData.aflcCouponList[keys].overTime"}})],1):i("span",[i("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期","default-time":"23:59:59",disabled:""},model:{value:a.formAllData.aflcCouponList[e].endTime,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"endTime",t)},expression:"formAllData.aflcCouponList[keys].endTime"}})],1)]),a._v(" "),i("div",{staticClass:"ht_table_td table_th10"},[i("el-select",{attrs:{clearable:"",placeholder:"",disabled:""},model:{value:a.formAllData.aflcCouponList[e].serivceCode,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"serivceCode",t)},expression:"formAllData.aflcCouponList[keys].serivceCode"}},a._l(a.serviceCardList,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th11"},[i("el-tooltip",{attrs:{content:a.formAllData.aflcCouponList[e].carTypeName,placement:"top",disabled:!a.formAllData.aflcCouponList[e].carTypeName}},[i("el-input",{attrs:{placeholder:"",disabled:""},model:{value:a.formAllData.aflcCouponList[e].carTypeName,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"carTypeName",t)},expression:"formAllData.aflcCouponList[keys].carTypeName"}})],1)],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th12"},[i("el-tooltip",{attrs:{content:a.formAllData.aflcCouponList[e].areaName1,placement:"top"}},[i("el-input",{attrs:{placeholder:"",disabled:""},model:{value:a.formAllData.aflcCouponList[e].areaName1,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"areaName1",t)},expression:"formAllData.aflcCouponList[keys].areaName1"}})],1)],1),a._v(" "),i("div",{staticClass:"ht_table_td table_th13"},[i("el-input",{attrs:{placeholder:"",disabled:""},model:{value:a.formAllData.aflcCouponList[e].ifvouchersuperposition,callback:function(t){a.$set(a.formAllData.aflcCouponList[e],"ifvouchersuperposition",t)},expression:"formAllData.aflcCouponList[keys].ifvouchersuperposition"}})],1)])])}))])],1)],1),a._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:a.btnsize},on:{click:a.change}},[a._v("关 闭")])],1)],1)]),a._v(" "),i("el-tab-pane",{attrs:{label:"生成/发放 使用记录",name:"second"}},[i("div",{staticClass:"automationcheckTabTwo"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form",{staticStyle:{"text-align":"left"},attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"手机号码：","label-width":a.formLabelWidth2}},[i("el-input",{attrs:{maxlength:"11"},model:{value:a.searchData.mobile,callback:function(t){a.$set(a.searchData,"mobile",t)},expression:"searchData.mobile"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"派发时间：","label-width":a.formLabelWidth2}},[i("el-date-picker",{staticClass:"automationTime",attrs:{type:"daterange","unlink-panels":"","picker-options":a.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:a.cTime2},model:{value:a.grantTimeAll,callback:function(t){a.grantTimeAll=t},expression:"grantTimeAll"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"券码状态：","label-width":a.formLabelWidth2}},[i("el-select",{attrs:{clearable:"",placeholder:""},model:{value:a.searchData.couponStatus,callback:function(t){a.$set(a.searchData,"couponStatus",t)},expression:"searchData.couponStatus"}},a._l(a.couponStatusList,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code,disabled:t.disabled}})}))],1),a._v(" "),"AF046102"!==a.formAllData.activityType&&"AF046103"!==a.formAllData.activityType?i("el-form-item",{attrs:{label:"优惠券领取人：","label-width":a.formLabelWidth2}},[i("el-input",{model:{value:a.searchData.belongSalesmanName,callback:function(t){a.$set(a.searchData,"belongSalesmanName",t)},expression:"searchData.belongSalesmanName"}})],1):a._e(),a._v(" "),i("el-form-item",{staticClass:"fr"},[i("el-button",{attrs:{type:"primary",size:a.btnsize,plain:"",icon:"el-icon-download"},on:{click:a.importExcel}},[a._v("导出Excel")]),a._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:a.btnsize,icon:"el-icon-search"},on:{click:a.getData_query}},[a._v("搜索")]),a._v(" "),i("el-button",{attrs:{type:"info",plain:"",size:a.btnsize,icon:"fontFamily aflc-icon-qingkong"},on:{click:a.clearSearch}},[a._v("清空")])],1)],1)],1)],1),a._v(" "),i("div",{staticClass:"tableDataAllBox"},[i("el-table",{staticStyle:{width:"100%"},attrs:{border:"",height:"80%",data:a.tableDataAll}},[i("el-table-column",{attrs:{label:"序号",width:"80px",type:"index"}}),a._v(" "),i("el-table-column",{attrs:{label:"优惠券名称",prop:"couponName","show-overflow-tooltip":"",width:"120px"}}),a._v(" "),i("el-table-column",{attrs:{label:"优惠券类型",prop:"couponTypeName","show-overflow-tooltip":"",width:"110px"}},[a._v("\n1           ")]),a._v(" "),i("el-table-column",{attrs:{label:"优惠券码",prop:"couponNum","show-overflow-tooltip":"",width:"120px"}}),a._v(" "),"AF046102"!==a.formAllData.activityType&&"AF046103"!==a.formAllData.activityType?i("el-table-column",{attrs:{label:"联系人",prop:"belongSalesmanName","show-overflow-tooltip":"",width:"110px"}}):a._e(),a._v(" "),i("el-table-column",{attrs:{label:"手机号码",prop:"mobile","show-overflow-tooltip":"",width:"110px"}}),a._v(" "),i("el-table-column",{attrs:{label:"派发时间",prop:"grantTime","show-overflow-tooltip":"",width:"160px"}}),a._v(" "),i("el-table-column",{attrs:{label:"过期时间",prop:"endTime","show-overflow-tooltip":"",width:"160px"}}),a._v(" "),i("el-table-column",{attrs:{label:"使用时间",prop:"tradeTime","show-overflow-tooltip":"",width:"160px"}}),a._v(" "),i("el-table-column",{attrs:{label:"券码状态",prop:"couponStatusName","show-overflow-tooltip":"",width:"90px"}}),a._v(" "),i("el-table-column",{attrs:{label:"订单优惠金额",prop:"orderDiscountAmount","show-overflow-tooltip":"",width:"130px"}}),a._v(" "),i("el-table-column",{attrs:{label:"操作人",prop:"creater","show-overflow-tooltip":"",width:"130px"}}),a._v(" "),i("el-table-column",{attrs:{label:"操作时间",prop:"createTime","show-overflow-tooltip":"",width:"160px"}}),a._v(" "),i("el-table-column",{attrs:{label:"订单号",prop:"orderSerial","show-overflow-tooltip":"",width:"250px"}})],1)],1),a._v(" "),i("div",{staticClass:"info_tab_footer"},[a._v("共计:"+a._s(a.dataTotal)+" "),i("div",{staticClass:"show_pager"},[i("Pager",{ref:"pager",attrs:{total:a.dataTotal,sizes:a.sizes},on:{change:a.handlePageChange}})],1)])],1)])],1)],1)],1)])},staticRenderFns:[]};e.a=i},gBtx:function(t,e,a){t.exports={default:a("qrpI"),__esModule:!0}},hyta:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},jrcS:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-container",class:{uploadlist:t.showFileList}},[t.uploadUrl?a("el-upload",{staticClass:"image-uploader",attrs:{data:t.upload,action:t.uploadUrl,multiple:!1,drag:!t.showFileList,"show-file-list":t.showFileList,"file-list":t.filelist,limit:t.limit,"before-upload":t.beforeUpload,"list-type":t.listtype,"on-exceed":t.onexceed,disabled:t.disabled,"on-remove":t.handleRemove,"on-progress":t.uploadVideoProcess,"on-error":t.handleError,"on-success":t.handleImageScucess}},[t._t("content",[t.title&&!t.showFileList?a("div",{staticClass:"upload__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"}},[t._v("点击上传")]),t._v(" "),t.showFileList?t._e():a("div",{staticClass:"el-upload__text"},[t._v("将文件拖拽到此区域")]),t._v(" "),t.tip?a("div",{staticClass:"upload__tip"},[t._v(t._s(t.tip))]):t._e()])],2):t._e(),t._v(" "),t.imageUrl&&!t.showFileList?a("div",{staticClass:"image-preview"},[a("div",{staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:t.imageUrl}}),t._v(" "),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])]):t._e(),t._v(" "),1==t.videoFlag?a("div",{staticClass:"progressShow"},[a("el-progress",{attrs:{type:"circle",percentage:t.videoUploadPercent}})],1):t._e()],1)},staticRenderFns:[]};e.a=i},juIs:function(t,e,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tms-pagenation"},[a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[a("span",{staticClass:"first-page"})]),a("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[a("span",{staticClass:"prev-page"})]),e._v(" "),a("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),a("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keydown:function(t){return e.handleKeyup(t)}},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[a("span",{staticClass:"next-page"})]),e._v(" "),a("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[a("span",{staticClass:"last-page"})]),e._v(" "),a("span",{staticClass:"tms-pagination__sizes"},[a("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizesChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])},staticRenderFns:[]};e.a=i},mcg1:function(t,e,a){"use strict";var i=a("oCPT"),n=a("bxQ9");var o=function(t){a("VMRp")},s=a("VU/8")(i.a,n.a,o,null,null);e.a=s.exports},mnVu:function(t,e,a){var s=a("kM2E"),i=a("52gC"),l=a("S82l"),r=a("hyta"),n="["+r+"]",o=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),u=function(t,e,a){var i={},n=l(function(){return!!r[t]()||"​"!="​"[t]()}),o=i[t]=n?e(d):r[t];a&&(i[a]=o),s(s.P+s.F*n,"String",i)},d=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},oCPT:function(t,e,a){"use strict";var i=a("//Fk"),n=a.n(i),o=a("gBtx"),s=a.n(o),l=a("fZjL"),r=a.n(l),c=a("t5DY"),u=a("/OH/"),d=a("UZPH");e.a={name:"vregion",components:{"v-dropdown":u.a},props:{blank:{type:Boolean,default:!0},province:{type:Boolean,default:!0},city:{type:Boolean,default:!0},area:{type:Boolean,default:!0},town:{type:Boolean,default:!1},i18n:{type:String,default:"cn"},selected:Object,ui:{type:Boolean,default:!1},search:{type:Boolean,default:!0},text:{type:Boolean,default:!1},ifAera:{type:Boolean,default:!1}},data:function(){return{listProvince:[],listCity:[],listArea:[],listTown:[],nowProvince:"",nowCity:"",nowArea:"",nowTown:"",haveCity:!0,className:"",lang:{},init:this.selected,pauseWatch:!1,query:"",levels:[{index:0,title:"省/直辖市"},{index:1,title:"市"},{index:2,title:"区/县"},{index:3,title:"乡/镇/街道"}],levelIndex:-1,list:[],itemProvince:null,itemCity:null,itemArea:null,itemTown:null}},watch:{query:function(e){var t=this.getList(this.levelIndex),a=[];0===(a=t.filter(function(t){return t.value.toLowerCase().includes(e.toLowerCase())})).length&&(a=t.filter(function(t){return t.key.includes(e)})),this.list=a},nowProvince:function(a){var i=this;this.pauseWatch||this.city&&this.fetchCity(a).then(function(t){if(t.code===i.nowProvince){var e=t.data;i.listArea.length&&i.listArea.splice(0,i.listArea.length),i.listCity=e,i.nowCity="",i.haveCity||(i.nowArea=""),i.itemProvince=i.listProvince.find(function(t){return t.key===a}),i.haveCity=!!i.listCity.length,i.$nextTick(function(){!i.haveCity&&i.area?i.changeCity():i.initSelected(2),i.ui&&(i.levelIndex=i.haveCity?1:2)}),i.changeValues()}})},nowCity:function(e){this.pauseWatch||(this.changeCity(),this.itemCity=this.listCity.find(function(t){return t.key===e}),this.ui&&(this.levelIndex=2),this.changeValues())},nowArea:function(e){if(!this.pauseWatch){if(e&&this.town){var t=[];this.listTown=t}else this.listTown=[];this.town&&(this.nowTown=""),console.log("nowArea:",e,this.listArea),this.itemArea=this.listArea.find(function(t){return t.key===e}),this.initSelected(4),this.ui&&this.town&&(this.levelIndex=3),this.changeValues()}},nowTown:function(e){this.pauseWatch||(this.itemTown=this.listTown.find(function(t){return t.key===e}),this.changeValues())},selected:{handler:function(t){t&&r()(t).length&&(this.init=t,this.initSelected(1))},deep:!0},levelIndex:function(t){this.list=this.getList(t)}},methods:{changeCity:function(){var a=this;if(this.area||!this.haveCity&&this.province){if(this.haveCity&&!this.nowCity||!this.haveCity&&!this.nowProvince)console.log("2222222222:",this.haveCity,this.nowProvince,this.nowCity),this.listArea=[];else{var t=s()(this.haveCity?this.nowCity:this.nowProvince),i=this.haveCity;this.fetchCity(t).then(function(t){var e=t.data;if(i){if(a.nowCity!==t.code)return}else if(a.nowProvince!==t.code)return;(a.listArea=e).length&&(a.list=a.getList(2),a.initSelected(3))})}this.nowArea=""}else this.initSelected(3)},changeValues:function(){var t=this;this.$nextTick(function(){t.$emit("values",{province:t.itemProvince,city:t.itemCity,area:t.itemArea,town:t.itemTown})})},initSelected:function(t){var e=this,a=this.init,i=0;if(a&&r()(a).length){switch(t){case 1:e.province&&a.province&&(e.nowProvince=a.province);break;case 2:e.city&&a.city&&(e.nowCity=a.city);break;case 3:e.area&&a.area&&(e.nowArea=a.area);break;case 4:e.town&&a.town&&(e.nowTown=a.town)}e.province&&a.province&&i++,e.city&&(a.city||!a.city&&!e.haveCity&&e.area&&init.area)&&i++,e.area&&a.area&&i++,e.town&&a.town&&i++,t===i&&(this.init=null)}},getList:function(t){var e=[];switch(t){case 0:e=this.listProvince;break;case 1:e=this.listCity;break;case 2:e=this.listArea;break;case 3:e=this.listTown}return e},checkAvailable:function(t){var e=!1;switch(t){case 0:this.province&&(e=!0);break;case 1:this.city&&this.haveCity&&(e=!0);break;case 2:this.area&&(e=!0);break;case 3:this.town&&(e=!0)}return e},matchItem:function(t){return t.key===this.nowProvince||t.key===this.nowCity||t.key===this.nowArea||t.key===this.nowTown},itemSelect:function(t){switch(this.levelIndex){case 0:this.nowProvince=t.key,this.itemProvince=t;break;case 1:this.nowCity=t.key,this.itemCity=t;break;case 2:this.nowArea=t.key,this.itemArea=t;break;case 3:this.nowTown=t.key,this.itemTown=t}},showDropdown:function(t){if("boolean"==typeof t){var e=this;this.$refs.dropdown.$emit("show",t,this.$refs.caller),t&&(this.query="",this.$nextTick(function(){return e.$refs.input.focus({preventScroll:!0})}))}},clear:function(){var t=this;this.pauseWatch=!0,this.nowProvince="",this.nowCity="",this.nowArea="",this.nowTown="",this.itemProvince=null,this.itemCity=null,this.itemArea=null,this.itemTown=null,this.listCity=[],this.listArea=[],this.listTown=[],this.levelIndex=0,this.$nextTick(function(){t.pauseWatch=!1,t.changeValues()})},fetchCity:function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new n.a(function(e){return Object(c._10)(i).then(function(t){return t.data=a.formatCity(t.data),e(t),t}).catch(function(t){e({code:i,data:[]})})})},formatCity:function(t){return t.map(function(t){return t.key=t.code,t.value=t.name,t})}},beforeMount:function(){this.lang=d.a[this.i18n]},mounted:function(){var a=this;this.fetchCity().then(function(t){var e=t.data;a.listProvince=a.ui?e.concat().sort(function(t,e){var a=t.value.length-e.value.length;return 0===a?Number(t.key)-Number(e.key):a}):e.concat(),a.className=a.$el.className,a.$el.className="v-region",a.selected&&a.selected.province&&(a.nowProvince=a.selected.province),a.ui&&(a.levelIndex=0)})}}},qrpI:function(t,e,a){a("8sHD"),t.exports=a("FeBl").Number.parseInt},rC0a:function(t,e,a){"use strict";e.d=function(t,e,a){return Object(i.a)({url:"/"+n+"/sm/aflcAreaPrice/v1/list",method:"post",data:{currentPage:t,pageSize:e,vo:a}})},e.a=function(){return i.a.get("/"+n+"/sm/aflcSysDict/v1/getCarTypeList")},e.h=function(){return i.a.get("/"+n+"/sm/aflcSysDict/v1/getServiceClassList")},e.b=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcAreaPrice/v1/openOrForbidden",method:"post",data:t})},e.c=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcAreaPrice/v1/delete/",method:"post",data:t})},e.f=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcAreaPrice/v1/addList",method:"post",data:t})},e.g=function(t){return Object(i.a)({url:"/"+n+"/sm/aflcAreaPrice/v1/update",method:"post",data:t})},e.e=function(){return Object(i.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00206",method:"get"})};var i=a("Vo7i"),n="aflc-sm",o="aflc-common"},t5DY:function(t,e,a){"use strict";e._10=function(e){return e=e||"",o.a.get("/"+s+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return o.a.get("/"+s+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(o.a)({url:"/"+s+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(o.a)({url:"/"+s+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(o.a)({url:"/"+l+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return o.a.get("/"+s+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new n.a(function(t){t(window.UPLOADPOLICYDATA)}):o.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return o.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return o.a.get("/"+l+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(o.a)({url:"/"+l+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return o.a.get("/"+l+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return o.a.get("/"+l+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(o.a)({url:"/"+s+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return o.a.get("/"+s+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return o.a.get("/"+s+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return o.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return o.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(o.a)({url:"/"+r+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(o.a)({url:"/"+s+"/system/user/v1/operate/staff",method:"post",data:t})};var i=a("//Fk"),n=a.n(i),o=a("Vo7i"),s="aflc-common",l="aflc-sm",r="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},xoQy:function(t,e,a){"use strict";e.a={name:"v-dropdown",props:{position:{type:String,default:"left"}},data:function(){return{show:!1,styleSheet:{top:"",left:""}}},watch:{},methods:{visible:function(t,e){if("boolean"==typeof t){this.show=t;var a=this;this.$nextTick(function(){a.show&&a.adjust(e)})}},adjust:function(t){var e=t.getBoundingClientRect(),a=0,i=0,n=this.$el.getBoundingClientRect(),o=window.scrollY,s=document.body.clientHeight;if(this.rightClick){var l=this.y;this.y+n.height>o+s&&(l=this.y-n.height),i=this.x,a=l}else switch(a=e.top+e.height+5+o,this.position){case"left":i=e.left;break;case"center":i=e.left+e.width/2-n.width/2;break;case"right":i=e.left+e.width-n.width}this.styleSheet.top=a+"px",this.styleSheet.left=i+"px"},whole:function(t){this.show&&(-1===t.path.findIndex(function(t){return t.className&&t.className.includes("v-dropdown-container")})&&(this.show=!1))}},mounted:function(){this.$on("show",this.visible),document.addEventListener("mousedown",this.whole)},destroyed:function(){this.$off("show",this.visible),document.removeEventListener("mousedown",this.whole)}}},yDTW:function(t,e){}});