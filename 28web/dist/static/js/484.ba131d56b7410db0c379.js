webpackJsonp([484],{"06K9":function(t,e){},"33qD":function(t,e){},"6nnw":function(t,e,n){"use strict";var i=n("zUTR"),r=n("0xDb"),c=(n("t5DY"),n("Flqv"));e.a={name:"batchLine",props:{dialogFormVisibleBatchLine:{type:Boolean,required:!0},formtitle:{type:String,required:!1,default:"批量增加运作路线"},lineId:{type:String}},components:{getCityList:c.a},computed:{openGroups:function(){return function e(t,n){var i=[];return t.map(function(t){t.index=n,t.disabled=n<3,i.push(t),t.children&&(i=i.concat(e(t.children,n+1)))}),i}(this.optionsLineArr,1)}},data:function(){return{btnShow:!1,formLabelWidth:"100px",standForm:{province:"",city:"",area:"",areaCode:"",agencyAndLine:[],ids:[]},checkList:[],areaAgentList:[],optionsLineArr:[],checkedinformation:[],reFreash:"",newrules:{}}},watch:{dialogFormVisibleBatchLine:{handler:function(t,e){},deep:!0}},mounted:function(){this.init()},methods:{getinfomation:function(t){this.checkedinformation=t},change:function(t){var e=this;this.standForm.agencyAndLine=[],t.forEach(function(t){e.standForm.agencyAndLine.push({lineId:t})})},getStrStart:function(t){this.standForm.province=t.province?t.province.name:"",this.standForm.city=t.city?t.city.name:"",this.standForm.area=t.area?t.area.name:"",this.standForm.areaCode=t.area?t.area.code:"",this.getTableList()},getTableList:function(){var e=this;Object(i.g)(this.standForm.areaCode,this.standForm.city).then(function(t){e.areaAgentList=t.data}).catch(function(t){e.areaAgentList=[],e.$message({type:"info",message:"网络失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})},getStartAreaList:function(){var e=this;if(""==this.standForm.areaCode)return this.optionsLineArr=[],this.$message({type:"warning",message:"请先选择出发地！"});this.reFreash==this.standForm.areaCode&&0!=this.optionsLineArr.length||(this.reFreash=this.standForm.areaCode,this.checkList=[],Object(i.h)(this.standForm.areaCode,this.standForm.city).then(function(t){t.data&&0!=t.data.length?e.optionsLineArr=t.data:(e.optionsLineArr=[],e.$message({type:"info",message:"当前区代所在地没有线路信息，请先添加干线费定价!"}))}).catch(function(t){e.$message({type:"info",message:"网络失败，原因："+(t.errorInfo?t.errorInfo:t.text)})}))},reviseForms:function(){},close:function(){this.dialogFormVisibleBatchLine&&(this.$emit("update:dialogFormVisibleBatchLine",!1),this.$refs.ruleForm.resetFields(),this.clearForms(),this.$emit("renovate"),this.btnShow=!1)},init:function(){},submitForm:function(t){var n=this;this.$refs[t].validate(function(t){if(!t)return n.$message({type:"warning",message:"请填写完整数据!"}),!1;n.complateInfo(),n.btnShow=!0;var e=Object(r.i)(n.standForm);Object(i.f)(e).then(function(t){n.$message({type:"success",message:"批量增加运作路线成功!"}),n.close()}).catch(function(t){n.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),n.btnShow=!1})})},clearForms:function(){for(var t in this.standForm)"agencyStreets"!=t&&"agencyAndLine"!=t||(this.standForm[t]=[]),this.standForm[t]="";this.$refs.startArea.clearData(),this.areaAgentList=[],this.checkList=[]},complateInfo:function(){var e=this;this.standForm.ids=[],this.checkedinformation.forEach(function(t){e.standForm.ids.push(t.id)})}}}},Flqv:function(t,e,n){"use strict";var i=n("zLJG"),r=n("U0PT");var c=function(t){n("33qD")},a=n("VU/8")(i.a,r.a,c,null,null);e.a=a.exports},JVvi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6nnw"),r=n("x8A5");var c=function(t){n("06K9")},a=n("VU/8")(i.a,r.a,c,null,null);e.default=a.exports},U0PT:function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chooseCityList"},[n("el-cascader",{ref:"chinaData",attrs:{placeholder:e.placeholderTxt,options:e.cascaderData,separator:"-","change-on-select":e.ifChange,props:e.props},on:{change:e.handleItemMore,"active-item-change":e.handleItemChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)},staticRenderFns:[]};e.a=i},t5DY:function(t,e,n){"use strict";e._10=function(e){return e=e||"",c.a.get("/"+a+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return c.a.get("/"+a+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(c.a)({url:"/"+a+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(c.a)({url:"/"+a+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(c.a)({url:"/"+o+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return c.a.get("/"+a+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new r.a(function(t){t(window.UPLOADPOLICYDATA)}):c.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return c.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return c.a.get("/"+o+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(c.a)({url:"/"+o+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return c.a.get("/"+o+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return c.a.get("/"+o+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(c.a)({url:"/"+a+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return c.a.get("/"+a+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return c.a.get("/"+a+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return c.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return c.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(c.a)({url:"/"+s+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(c.a)({url:"/"+a+"/system/user/v1/operate/staff",method:"post",data:t})};var i=n("//Fk"),r=n.n(i),c=n("Vo7i"),a="aflc-common",o="aflc-sm",s="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},x8A5:function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"batchLine commoncss"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.formtitle,"close-on-click-modal":!1,top:"5vh",visible:e.dialogFormVisibleBatchLine},on:{close:e.close}},[n("el-form",{ref:"ruleForm",attrs:{model:e.standForm,rules:e.newrules,"label-position":"right","label-width":e.formLabelWidth}},[n("el-row",{attrs:{gutter:20}},[n("h6",{staticStyle:{"line-height":"40px","font-size":"16px","margin-bottom":"10px"}},[e._v("请选择运作路线：")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"is-required",attrs:{label:"出发地：",prop:"agencyName"}},[n("getCityList",{ref:"startArea",attrs:{isArea:!0},on:{returnStr:e.getStrStart},model:{value:e.standForm.companyName,callback:function(t){e.$set(e.standForm,"companyName",t)},expression:"standForm.companyName"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"is-required",attrs:{label:"到达地：",prop:"companyName"}},[n("el-cascader-multi",{ref:"cascadermulti",attrs:{data:e.optionsLineArr,"only-last":!0,"collapse-tags":!0,"is-two-dimension-value":!1},on:{focus:e.getStartAreaList,change:e.change},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"tableStyle"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.areaAgentList,stripe:"",border:"",align:"center",height:"100%","tooltip-effect":"dark"},on:{"selection-change":e.getinfomation}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),n("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.$index+1)+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"区代名称",sortable:"","show-overflow-tooltip":!0,prop:"agencyName","min-width":"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"companyName","show-overflow-tooltip":!0,sortable:"",label:"区代公司名称","min-width":"150"}}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,sortable:"",prop:"agencyArea",label:"区代所在地","min-width":"150"}}),e._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,sortable:"",prop:"detailAddress","min-width":"150",label:"详细地址"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-success",disabled:e.btnShow||e.checkedinformation.length<=0},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保 存")]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-error"},on:{click:e.close}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};e.a=i},zLJG:function(t,e,n){"use strict";var c=n("t5DY");e.a={name:"getAreaList",props:{disabled:{type:Boolean},value:[String,Array,Number],isArea:{type:Boolean,default:!1},ifChange:{type:Boolean,default:!1},placeholderTxt:{type:String,default:"请选择"}},data:function(){return{departmentOptions:[],cascaderData:[],selectedOptions:[],props:{label:"name",value:"code",children:"cities"},nowData:{province:null,city:null,area:null}}},methods:{getNodes:function(i){var r=this,t=void 0,e=void 0;i?1===i.length?(t=i[0],e=i.length):2===i.length&&this.isArea&&(t=i[1],e=i.length):(t=null,e=0),Object(c._10)(t).then(function(t){if(t.data){var n=t.data;0===e?r.cascaderData=n.map(function(t,e){return{code:t.code,name:t.name,cities:[]}}):1===e?r.cascaderData.map(function(t,e){t.code===i[0]&&(r.isArea?t.cities=n.map(function(t,e){return{code:t.code,name:t.name,cities:[]}}):t.cities=n.map(function(t,e){return{code:t.code,name:t.name}}))}):2===e&&r.isArea&&r.cascaderData.map(function(t,e){t.code===i[0]&&t.cities.map(function(t,e){t.code===i[1]&&(t.cities.length||(t.cities=n.map(function(t,e){return{code:t.code,name:t.name}})))})})}}).catch(function(t){return r.$message({type:"info",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})})},handleItemChange:function(t){this.getNodes(t)},handleItemMore:function(t){this.ifChange&&this.getNodes(t),t[0]&&(this.nowData.province={code:t[0],key:t[0],name:this.$refs.chinaData.currentLabels[0],value:this.$refs.chinaData.currentLabels[0],parentCode:null}),t[1]&&(this.nowData.city={code:t[1],key:t[1],name:this.$refs.chinaData.currentLabels[1],value:this.$refs.chinaData.currentLabels[1],parentCode:t[0]}),t[2]&&(this.nowData.area={code:t[2],key:t[2],name:this.$refs.chinaData.currentLabels[2],value:this.$refs.chinaData.currentLabels[2],parentCode:t[1]}),this.returnArr(this.nowData)},init:function(){this.getNodes()},returnArr:function(t){this.$emit("returnStr",t)},clearData:function(){this.selectedOptions=[]}},mounted:function(){this.init()},beforeDestroy:function(){this.selectedOptions=[]}}},zUTR:function(t,e,n){"use strict";e.j=function(t){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/add",method:"post",data:t})},e.h=function(t,e){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/agencyLine?areaCode="+t+"&cityName="+e,method:"get"})},e.l=function(t){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/update",method:"put",data:t})},e.c=function(t,e){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/streetOrLine/"+t+"?streetOrLine="+e,method:"get"})},e.b=function(t){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/update/street",method:"put",data:t})},e.a=function(t){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/update/line",method:"put",data:t})},e.g=function(t,e){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/getEntity/"+t+"?city="+e,method:"put"})},e.f=function(t){return Object(i.a)({url:"/"+r+"/usercenter/aflcLclScheduleAreaAgency/v1/batchUpdate/line",method:"put",data:t})},e.e=function(t){return Object(i.a)({url:"/"+c+"/lclserver/aflcLclScheduleAreaAgencyNewV2/v1/list",method:"post",data:t})},e.k=function(t){return Object(i.a)({url:"/"+c+"/lclserver/aflcLclScheduleAreaAgencyNewV2/v1/add",method:"post",data:t})},e.d=function(t){return Object(i.a)({url:"/"+c+"/lclserver/aflcLclScheduleAreaAgencyNewV2/v1/"+t,method:"get"})},e.m=function(t){return Object(i.a)({url:"/"+c+"/lclserver/aflcLclScheduleAreaAgencyNewV2/v1/update",method:"put",data:t})},e.i=function(t){return Object(i.a)({url:"/"+c+"/lclserver/aflcLclScheduleAreaAgencyNewV2/v1/getAgencyNew?areaCode="+t,method:"get"})};var i=n("Vo7i"),r="aflc-uc",c="aflc-lcl"}});