webpackJsonp([68,134,352,493],{"/18W":function(e,t){},"0LO3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("0zDI"),o=i("jlkz");var s=function(e){i("m/bU")},r=i("VU/8")(a.a,o.a,s,null,null);t.default=r.exports},"0zDI":function(e,t,i){"use strict";var a=i("mvHQ"),o=i.n(a),s=i("//Fk"),r=i.n(s),n=i("Dd8w"),l=i.n(n),c=i("T8y6"),d=i("P5Di"),u=i("o9X6"),m=i("66wn"),f=i("pAQG"),h=i("E4LH"),p=(i("0xDb"),i("NYxO")),g=i("9UCZ"),y=i("eJ4C");i.n(y);t.a={components:{popRight:d.a,SelectTree:u.a,SelectCity:m.a,querySelect:f.a,SelectType:g.a},computed:l()({},Object(p.b)(["otherinfo"]),{isShow:{get:function(){return this.popVisible},set:function(){}}}),props:{popVisible:{type:Boolean,default:!1},isModify:{type:Boolean,default:!1},dotInfo:Object,orgid:{type:Number},companyId:{type:Number,default:""},getCheckedKeyId:{type:[Number,String]}},watch:{"form.accountStatus":{handler:function(){this.form.accountName=""}},popVisible:function(e){e&&(this.formKey=Math.random(),this.fetchData()),this.watchDate(this.doInfo)},getCheckedKeyId:function(e){this.watchDate()},doInfo:{handler:function(){this.checkShowMessage=!1,this.watchDate(this.doInfo)},immediate:!0,deep:!0},isModify:{handler:function(){this.watchDate()},immediate:!0}},data:function(){var e=function(e,t,i){i()};return{tooltip:!1,formKey:"",popTitle:"新增机构",checked:!0,loading:!1,checkShowMessage:!1,netWorkType:[],newnNetWorkType:[],manageType:[],netWorkStatus:[],isChecked:!1,isCheckedShow:!1,form:{orgName:"",orgType:1,status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:!0,parentId:0,createTime:"",id:"",accountName:""},rules:{orgName:[{required:!0,message:"请输入机构名称"}],servicePhone:[{required:!0,pattern:h.a.TELANDPHONE,message:"客服号码格式不正确"}],responsibleName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],responsibleTelephone:[{pattern:h.a.MOBILE,message:"请输入正确的电话号码",trigger:["blur","change"]}],serviceName:[{validator:e,trigger:"blur"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],networkCode:[{required:!0,message:"请输入机构代码"},{min:2,message:"最少2个字符",trigger:"blur"},{max:10,message:"不可超过10个字符",trigger:"blur"}],city:[{required:!0,message:"请选择城市"}],accountName:[{required:!0,message:"请输入有效的登录账号",pattern:h.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}]},dialogVisible:!1,formLabelWidth:"120px"}},mounted:function(){},methods:{fetchData:function(){var t=this;this.loading=!0,this.form.parentId=this.orgid||this.companyId,r.a.all([Object(c.c)(this.form.parentId),Object(c.b)(this.form.parentId),Object(c.d)(this.form.parentId)]).then(function(e){t.manageType=e[1],t.netWorkStatus=e[2],t.netWorkType=e[0],t.loading=!1}).catch(function(e){t.$message.error("错误："+(e.text||e.errInfo||e.data||o()(e))),t.loading=!1})},canadd:function(e,t){t&&t.index&&5<=t.index&&(this.$message.info("添加的层级数不能超过5层，请重新选择~"),this.form.parentId=this.otherinfo.companyId)},watchDate:function(){for(var e in this.form)this.form[e]="";this.isModify?(this.popTitle="修改机构",this.changeDate(this.dotInfo),this.form.id=this.dotInfo.id,console.log("this.form.id",this.form.id),this.form.parentId=this.dotInfo.parentId||this.companyId):(this.popTitle="新增机构",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid)},getCity:function(e){this.form.city=e?e.longAddr:e},getOrgid:function(e){this.form.parentId=e},newDate:function(){},reset:function(){for(var e in this.$refs.ruleForm.resetFields(),this.form)this.form[e]="",this.form.id&&delete this.form.id,delete this.form.createTime,this.form.orgType=1,this.form.status=32,this.form.manageType=3,this.form.parentId=this.getCheckedKeyId||this.otherinfo.orgid},closeMe:function(e){this.$emit("close"),this.reset(),"function"==typeof e&&e()},submitForm:function(e,t){var i=this;this.$refs[e].validate(function(e){if(i.isChecked=!1,i.isCheckedShow=!1,!e)return i.$message({type:"error",message:"保存失败"}),!1;i.loading=!0;var t=void 0;i.isModify?(i.form.id===i.form.parentId&&i.form.parentId===i.otherinfo.companyId&&(i.form.parentId=0),i.form.id=i.dotInfo.id,i.form.createTime=+new Date(i.form.createTime),"总公司"===i.form.orgType&&(i.form.orgType=5),t=Object(c.j)(i.form)):(!0===i.form.accountStatus?i.form.accountStatus=0:i.form.accountStatus=1,t=Object(c.h)(i.form)),t.then(function(e){i.$emit("success",i.isModify),i.$message.success("保存成功"),i.formKey=Math.random(),i.reset(),i.closeMe(),i.loading=!1}).catch(function(e){i.$message.error("错误："+(e.text||e.errInfo||e.data||o()(e))),i.loading=!1})})},changeDate:function(e){this.form.orgName=e.orgName,this.form.responsibleTelephone=e.responsibleTelephone,this.form.responsibleName=e.responsibleName,this.form.city=e.city,this.form.serviceName=e.serviceName,this.form.parentName=e.parentName,this.form.servicePhone=e.servicePhone,this.form.detailedAddr=e.detailedAddr,this.form.networkCode=e.networkCode,this.form.collectionFee=e.collectionFee,this.form.benchmark=e.benchmark,this.form.warningQuota=e.warningQuota,this.form.lockMachineQuota=e.lockMachineQuota,this.form.remarks=e.remarks,this.form.status=e.status,this.form.accountStatus=e.accountStatus,this.form.manageType=e.manageType,this.form.createTime=e.createTime,5===e.orgType?this.form.orgType="总公司":this.form.orgType=e.orgType}}}},"1onU":function(e,t,i){"use strict";var a=i("VT+v"),o=i("juIs");var s=function(e){i("ZdV2"),i("co/t")},r=i("VU/8")(a.a,o.a,s,"data-v-695be8cd",null);t.a=r.exports},"24Or":function(e,t,i){"use strict";var a={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("span",{staticClass:"autocomplete-input"},["input"===i.show?a("el-autocomplete",i._b({ref:"myautocomplete",attrs:{"popper-class":"query-input-autocomplete "+i.customCss,"fetch-suggestions":i.querySearch,"value-key":i.showkey,placeholder:i.place,"select-when-unmatched":""},on:{focus:i.initData,select:i.handleSelect},scopedSlots:i._u([{key:"default",fn:function(e){var t=e.item;return[i._t("default",["sender"===i.type||"receiver"===i.type?[a("span",{staticClass:"query-input-customer-org",domProps:{innerHTML:i._s(i.highLight(t,"customerUnit"))}}),a("span",{staticClass:"query-input-customer-name",domProps:{innerHTML:i._s(i.highLight(t,"customerName"))}}),a("span",{staticClass:"query-input-customer-mobile",domProps:{innerHTML:i._s(i.highLight(t,"customerMobile"))}}),a("span",{staticClass:"query-input-customer-addr",domProps:{innerHTML:i._s(i.highLight(t,"detailedAddress"))}})]:"city"===i.type?[a("div",{staticClass:"query-input-city-info"},[a("span",{staticClass:"query-input-city-query",domProps:{innerHTML:i._s(i.highLightCity(t,!0))}}),a("span",{staticClass:"query-input-city-name",domProps:{innerHTML:i._s(i.highLightCity(t))}})])]:[i._v("\r\n        "+i._s(t[i.showkey])+"\r\n      ")]],{item:t})]}}]),model:{value:i.handlevalue,callback:function(e){i.handlevalue=e},expression:"handlevalue"}},"el-autocomplete",i.$attrs,!1)):i._e(),i._v(" "),"select"===i.show&&i.remote?a("el-select",i._b({ref:"myautocomplete",attrs:{"popper-class":"query-select-autocomplete",filterable:i.filterable,"value-key":i.showkey,remote:"",placeholder:i.place,"remote-method":i.querySearch,loading:i.loading},on:{change:i.handleSelect,focus:i.initData},model:{value:i.handlevalue,callback:function(e){i.handlevalue=e},expression:"handlevalue"}},"el-select",i.$attrs,!1),i._l(i.searchData,function(e){return a("el-option",{key:e[i.valuekey],attrs:{label:e[i.showkey],value:e[i.valuekey]}},[i._t("select-remote",[i._v("\r\n          "+i._s(e[i.showkey])+"\r\n        ")],{item:e})],2)})):i._e(),i._v(" "),"select"!==i.show||i.remote?i._e():a("el-select",i._b({ref:"myautocomplete",attrs:{"value-key":i.showkey,"popper-class":"query-select-autocomplete",filterable:i.filterable,placeholder:i.place},on:{change:i.handleSelect,focus:i.initData},model:{value:i.handlevalue,callback:function(e){i.handlevalue=e},expression:"handlevalue"}},"el-select",i.$attrs,!1),i._l(i.allData,function(e){return a("el-option",{key:e[i.valuekey],attrs:{label:e[i.showkey],value:e[i.valuekey]}},[i._t("select",[i._v("\r\n          "+i._s(e[i.showkey])+"\r\n        ")],{item:e})],2)}))],1)},staticRenderFns:[]};t.a=a},"28Un":function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pop-right",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[i("template",{staticClass:"addEmployeerPop-content",slot:"content"},[i("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"用户姓名","label-width":t.formLabelWidth,prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号码","label-width":t.formLabelWidth,prop:"mobilephone"}},[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{maxlength:11,"auto-complete":"off"},model:{value:t.form.mobilephone,callback:function(e){t.$set(t.form,"mobilephone",e)},expression:"form.mobilephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"登录账号","label-width":t.formLabelWidth,prop:"username"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),i("br"),t._v("长度范围2~15个字符")]),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",disabled:t.isModify},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username","string"==typeof e?e.trim():e)},expression:"form.username"}})],1)],1),t._v(" "),t.isModify?t._e():i("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth,prop:"password"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"==typeof e?e.trim():e)},expression:"form.password"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"position"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"员工号","label-width":t.formLabelWidth,prop:"jobNumber"}},[i("el-input",{attrs:{"auto-complete":"off",maxlength:20},model:{value:t.form.jobNumber,callback:function(e){t.$set(t.form,"jobNumber",e)},expression:"form.jobNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"性别",prop:"sexFlag","label-width":t.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.sexFlag,callback:function(e){t.$set(t.form,"sexFlag",e)},expression:"form.sexFlag"}},[i("el-option",{attrs:{label:"男",value:"0"}}),t._v(" "),i("el-option",{attrs:{label:"女",value:"1"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"入职时间","label-width":t.formLabelWidth,prop:"hireTime"}},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.form.hireTime,callback:function(e){t.$set(t.form,"hireTime",e)},expression:"form.hireTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"归属机构","label-width":t.formLabelWidth,prop:"orgid"}},[i("SelectTree",{attrs:{filterable:"",orgid:t.otherinfo.orgid},model:{value:t.form.orgid,callback:function(e){t.$set(t.form,"orgid",e)},expression:"form.orgid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"归属部门","label-width":t.formLabelWidth,prop:"departmentId"}},[i("el-select",{attrs:{placeholder:"请选择部门"},model:{value:t.form.departmentId,callback:function(e){t.$set(t.form,"departmentId",e)},expression:"form.departmentId"}},t._l(t.departments,function(e){return i("el-option",{key:e.id,attrs:{label:e.dictName,value:e.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"企业微信","label-width":t.formLabelWidth,prop:"qywxUserId"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.qywxUserId,callback:function(e){t.$set(t.form,"qywxUserId",e)},expression:"form.qywxUserId"}})],1)],1),t._v(" "),t.isModify?t._e():i("div",{staticClass:"info"},[t._v("注：密码默认为：123456")])],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),i("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)},staticRenderFns:[]};t.a=a},"2tpq":function(e,t){},"397J":function(e,t){},"3EPC":function(e,t,i){"use strict";var a=i("qYK6"),o=i("4byv");var s=function(e){i("dcg1")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},"4byv":function(e,t,i){"use strict";var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"popRight-center",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[i("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),i("div",{staticClass:"popRight-content"},[e._t("content",[e._v("内容")])],2),e._v(" "),i("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=a},"4zgh":function(e,t){},"66wn":function(e,t,i){"use strict";var a=i("RlEG"),o=i("OPz2");var s=function(e){i("397J")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},"9Ff8":function(e,t,i){"use strict";var a=i("woOf"),o=i.n(a),s=i("pFYg"),r=i.n(s),n=i("O6e2"),l=i("t5DY"),c=i("u8ra");t.a={props:{label:{type:String,default:""},value:{type:[String,Number,Object]},placeholder:{type:String,default:"请输入"},type:{type:String,default:"user"},search:{type:[String,Array]},count:{type:Number,default:100},valuekey:{type:String,default:"id"},show:{type:String,default:"input"},remote:{type:Boolean,default:!1},name:{type:[String,Number],default:""},orgid:{type:[String,Number],default:""},param:{type:Object,default:function(){}},searchFn:{type:Function},nochangeparam:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0}},watch:{name:{handler:function(e){this.handlevalue=e?e+"":""},immediate:!0},value:{handler:function(e){e=e?e+"":"",this.search!==this.valuekey&&e||(this.handlevalue=e,console.log("handkler: value"))},immediate:!0},handlevalue:function(e){this.search===this.valuekey&&this.$emit("input",this.handlevalue),this.$emit("change","",this.handlevalue)}},computed:{place:function(){return"select"===this.show?"请选择":this.placeholder},getOrgid:function(){return this.orgid||this.otherinfo.orgid},showkey:function(){return this.showlabel||this.label||this.search},queryFn:function(){var e=void 0;switch(this.type){case"user":this.queryParam.vo.orgid=this.getOrgid,this.queryParam.vo.mobilephone="",this.queryParam.vo.name="",e=c.c;break;case"city":this.queryParam="",e=l._10,this.customCss="query-input-city",this.showlabel=this.label||"last";break;case"carrier":e=getAllCarrier;break;case"sender":this.queryParam.vo.customerType=1,this.queryParam.vo.orgid=this.getOrgid,e=getAllCustomer,this.customCss="query-input-customer";break;case"receiver":this.queryParam.vo.customerType=2,this.queryParam.vo.orgid=this.getOrgid,e=getAllCustomer,this.customCss="query-input-customer";break;case"driver":this.queryParam.vo.orgid=this.getOrgid,e=getAllDriver;break;case"trunk":this.queryParam.vo.orgid=this.getOrgid,e=getAllTrunk;break;case"abnormal":e=PostGetAbnormalList;break;case"controlgoods":e=PostControlgoods;break;case"preorder":e=getPostlist;break;case"order":e=orderManageApi.getAllShip;break;case"pickup":e=fetchPostlist;break;case"receipt":this.queryParam.vo.pageType=1,e=postReceipt;break;case"repertory":e=postAllOrderRepertory;break;case"batch":this.canchangeparam=!1,this.lastQuery="",this.queryParam=this.getOrgid,e=orderManageApi.getBatchList;break;case"cargoName":this.canchangeparam=!1,this.lastQuery="",this.queryParam="1",e=orderManageApi.getRecently;break;case"cargoPack":this.canchangeparam=!1,this.lastQuery="",this.queryParam="2",e=orderManageApi.getRecently;break;case"remark":this.canchangeparam=!1,this.lastQuery="",this.queryParam="",e=orderManageApi.getRemarkList}return"object"===r()(this.queryParam)&&(this.queryParam.pageSize=this.count,"object"===r()(this.queryParam.vo)?(this.queryParam.vo=o()(this.queryParam.vo,this.param),""!==this.orgid&&(this.queryParam.vo.orgid=this.orgid)):(this.queryParam=o()(this.queryParam,this.param),""!==this.orgid&&(this.queryParam.orgid=this.orgid))),e}},data:function(){return{showlabel:"",customCss:"",handlevalue:"",allData:[],searchData:[],loading:!1,queryParam:{pageSize:100,pageNum:1,vo:{}},canchangeparam:!0,lastQuery:"*",lastRequest:[]}},mounted:function(){this.canchangeparam=!this.nochangeparam,this.remoteFn=this.queryFn,this.initEvent()},methods:{initEvent:function(){var e=this;n.a.$on("closepopbox",function(){console.log("closepopbox querySelect:"),e.$refs.myautocomplete.close?e.$refs.myautocomplete.close():e.$refs.myautocomplete.handleClose()})},initData:function(){var t=this;this.inited||(this.inited=!0,this.remote||this.fetchFn().then(function(e){t.allData=e,t.searchData=e}))},highLightCity:function(e,t){return e.area?t?this.setHightLight(e.longAddr.split(",")[2],this.lastQuery):e.province+e.city:e.city?t?this.setHightLight(e.city,this.lastQuery):e.province:t?this.setHightLight(e.province,this.lastQuery):""},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},highLight:function(e,t){return t===this.search&&""!==this.lastQuery?this.setHightLight(e[t],this.lastQuery):e[t]},formatList:function(e){return"city"===this.type&&(e=e.map(function(e){var t=e.longAddr.split(",");return e.last=t[2]||t[1]||t[0],e})),e},fetchFn:function(){var a=this;return this.remoteFn(this.queryParam).then(function(e){var t=e.data?e.data:e,i=(t.list?t.list:t)||[];return a.formatList(i)})},querySearch:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if(i===this.lastQuery&&this.canchangeparam)a(this.lastRequest);else{this.canchangeparam&&(this.queryParam.vo?this.queryParam.vo[this.search]=i:"object"===r()(this.queryParam)?this.queryParam[this.search]=i:this.queryParam=i);var o=function(e){return"function"==typeof t.searchFn?t.searchFn(e,i):!!e[t.search]&&-1!==e[t.search].toString().indexOf(i)};this.remote?this.fetchFn().then(function(e){t.lastQuery=i,t.lastRequest=e,!t.canchangeparam&&e.length&&(e=e.filter(o)),t.searchData=e,t.allData=e,a(e)}):(this.lastQuery=i,this.canchangeparam?this.lastRequest=this.allData.filter(o):this.lastRequest=this.allData,console.log("this.allData, this.lastRequest:",this.allData,this.lastRequest),a(this.lastRequest))}},handleSelect:function(t){var i=this,e=t;"select"===this.show&&(t=(t=this.allData.filter(function(e){return e[i.valuekey]===t}))[0]||e),this.$emit("input",t[this.valuekey]||t||""),this.$emit("change",t)}}}},"9UCZ":function(e,t,i){"use strict";var a=i("TuGF"),o=i("P39G");var s=function(e){i("Ti5/")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},BN8K:function(e,t){},"BTi/":function(e,t,i){"use strict";var a=i("Dd8w"),o=i.n(a),s=i("O6e2"),r=i("u8ra"),n=i("NYxO");t.a={props:{value:{type:[Number,String]},disabled:{type:Boolean,default:!1}},watch:{value:function(e){this.aid=e,this.init()}},mounted:function(){var e=this;this.aid=this.value,this.init(),s.a.$on("closepopbox",function(){console.log("closepopbox selectTree:"),e.$refs.myautocomplete.handleClose()})},computed:o()({},Object(n.b)(["otherinfo"]),{openGroups:function(){return function t(e,i){var a=[];return e.map(function(e){e.index=i,a.push(e),e.children&&(a=a.concat(t(e.children,i+1)))}),a}(this.groups,1)}}),data:function(){return{groups:[],aid:""}},methods:{init:function(){var t=this;this.inited||(this.inited=!0,Object(r.b)(this.otherinfo.companyId).then(function(e){t.groups=e}).catch(function(e){t.inited=!1}))},change:function(e){this.$emit("change",e),this.$emit("input",e)}}}},BeJv:function(e,t,i){"use strict";var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"popRight",class:{showPopRight:e.isShow},style:{zIndex:e.zIndex}},[i("div",{staticClass:"popRight-header"},[e._t("title",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"el-icon-close",attrs:{title:"关闭"},on:{click:e.close}})],2),e._v(" "),i("div",{staticClass:"popRight-content arteryDelivery_lrl"},[e._t("content",[e._v("内容")])],2),e._v(" "),i("div",{staticClass:"popRight-footer"},[e._t("footer",[e._v("底部")])],2)])},staticRenderFns:[]};t.a=a},DyFr:function(e,t,i){"use strict";var a=i("Dd8w"),o=i.n(a),s=i("nofg"),r=i("0LO3"),n=i("Yt3t"),l=i("T8y6"),c=i("u8ra"),d=i("NYxO"),u=i("1onU"),m=i("TIfe"),f=i("0xDb");t.a={name:"groupManage",components:{AddDot:r.default,AddPeople:s.default,Pager:u.a,DepMaintain:n.default},computed:o()({},Object(d.b)(["otherinfo"]),{getDataTree:function(){return this.checkedInput?this.dataTreeFn(Object(f.i)([],this.dataTree)):this.dataTree}}),data:function(){return{checkedInput:!1,getCheckedKeyId:"",btnsize:"mini",loading:!0,addDoTotVisible:!1,addPeopleVisible:!1,addDepMaintainisible:!1,hiddenDep:!1,isDepMain:!1,usersArr:[],total:0,orgName:"",isModify:!1,ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",selected:[],dataTree:[],defaultProps:{children:"children",label:"name"},getOrgId:"",form:{orgName:"",orgTypeName:"",status:32,responsibleTelephone:"",responsibleName:"",city:"",serviceName:"",parentName:"",servicePhone:"",detailedAddr:"",networkCode:"",collectionFee:"",benchmark:"",warningQuota:"",lockMachineQuota:"",manageType:3,remarks:"",accountStatus:"0",parentId:0},orgInfoCache:{},userinfo:{},pageSize:"",pageNum:"",getform:{}}},mounted:function(){this.loading=!0,this.fetchOrg(),this.userinfo=Object(m.b)(),this.userinfo.companyId===this.userinfo.orgid&&(this.hiddenDep=!0)},methods:{dataTreeFn:function(e){var i=this;return e.filter(function(e,t){return 31!==e.status&&(e.children&&(e.children=i.dataTreeFn(e.children)),!0)})},updateSuccess:function(e){this.fetchOrg(this.getOrgId),e&&this.getOrgInfo(this.getOrgId)},fetchOrg:function(){var t=this;this.loading=!0,Object(c.f)(this.otherinfo.orgid).then(function(e){t.dataTree=e,t.fetchOrgId(t.dataTree[0].id),t.loading=!1}).catch(function(e){t.loading=!1,t.$message.error(e.errorInfo||e.text||"未知错误，请重试~")})},handleOrgInfo:function(e){this.form=e,this.getform=Object(f.i)({},this.form)},fetchOrgId:function(e){this.loading=!0,this.getOrgId=parseInt(e,10),this.fetchAllUsers(e),this.orgInfoCache[e]?(this.handleOrgInfo(this.orgInfoCache[e]),this.loading=!1):(this.loading=!0,this.getOrgInfo(e)),this.loading=!1},getOrgInfo:function(t){var i=this;this.loading=!0,Object(l.e)(t).then(function(e){i.orgInfoCache[t]=e.data,i.handleOrgInfo(e.data),i.loading=!1})},fetchAllUsers:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=this,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;this.loading=!0,Object(c.c)(e,t,i,o,s).then(function(e){a.usersArr=e.list,a.total=e.total,a.loading=!1})},seleClick:function(e){this.selected=e},doAction:function(e){var t=this;if(!this.selected.length&&"deletePeople"===e)return this.$message({message:"请选择要操作的员工~",type:"warning"}),!1;switch(e){case"addPeople":this.addPeopleVisible=!0,this.addDoTotVisible=!1,this.addDepMaintainisible=!1,this.isModify=!1,this.isDepMain=!1;break;case"addNot":this.isModify=!1,this.isDepMain=!1,this.addDoTotVisible=!0,this.addPeopleVisible=!1,this.addDepMaintainisible=!1;break;case"modifyNot":this.isModify=!0,this.isDepMain=!1,this.addDoTotVisible=!0;break;case"depMain":this.isModify=!1,this.isDepMain=!0,this.addDepMaintainisible=!0,this.addDoTotVisible=!1,this.addPeopleVisible=!1;break;case"deletePeople":this.addDepMaintainisible=!1,this.addDoTotVisible=!1,this.addPeopleVisible=!1;var i=1<this.selected.length?this.selected.length+"名":this.selected[0].name,a="";this.selected.map(function(e){a+=e.id+","}),a=a.slice(0,a.length-1),this.$confirm("确定要删除 "+i+" 员工吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(c.a)(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.fetchOrgId(t.getOrgId),t.loading=!1})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}this.$refs.multipleTable.clearSelection()},filterTag:function(e,t){return t.tag===e},getCheckedKeys:function(){this.loading=!0,this.getCheckedKeyId=this.$refs.tree._data.currentNode.node.data.id,this.fetchOrgId(this.$refs.tree._data.currentNode.node.data.id),this.addDoTotVisible=!1,this.loading=!1},closeAddDot:function(){this.addDoTotVisible=!1},closeAddPeople:function(){this.addPeopleVisible=!1},closeDep:function(){this.addDepMaintainisible=!1},handlePageChange:function(e){this.fetchAllUsers(this.getOrgId,"","",e.pageSize,e.pageNum)},doLayout:function(){this.$refs.multipleTable.doLayout()},clickDetails:function(e,t,i){this.$refs.multipleTable.toggleRowSelection(e)}}}},E4LH:function(e,t,i){"use strict";t.b=function(e){return/^([0-9a-zA-Z\|\-\_]|[\u0391-\uFFE5]){2,}$/.test(e.trim())},t.c=function(e){return/^(13[0-9]|14[57]|15[01-37-9]|18[0235-9])\d{8}$/.test(e)},i.d(t,"a",function(){return a});var a={ONLY_CHINESE:/^[\u4E00-\u9FA5]+$/,CHINESE_AND_ENGLISH:/^[\u4E00-\u9FA5a-zA-Z]+$/,MOBILE:/^[1][3-9]\d{9}$/,ID_CARD:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,ENGLISH_AND_NUMBER:/^[a-zA-Z0-9]+$/,SPECIAL_CHARACTER:/([^0-9a-zA-Z\u4E00-\u9FA5])+/,FLOAT2ING:/^\d+(\.\d{0,2})?$/,EMAIL:/^[\w!#$%&\'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&\'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,ONLY_NUMBER:/^[0-9]+$/,ONLY_LETTER:/^[a-zA-Z]+$/,ONLY_PUNCTUATION:/^[~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_LETTER:/^[0-9a-zA-Z]+$/,PWD_NUMBER_AND_LETTER:/^[0-9a-zA-Z_#]{6,32}$/,ONLY_LETTER_AND_PUNCTUATION:/^[a-zA-Z~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_PUNCTUATION:/^[0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,LETTER_AND_NUMBER_AND_PUNCTUATION:/^[a-zA-Z0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_GT:/^[1-9]\d*$/,ONLY_NUMBER_POINT:/^\d*\.{0,1}\d{0,1}$/,ONLY_ONE_NUMBER:/^[1-9]\d{0,2}\.\d$|^0\.\d$/,ONLY_ENGLISH_NUMBER:/^[A-Za-z0-9_]+$/,TELEPHONE:/(^\d{3}-\d{8}$)|(^\d{4}-\d{7,8}$)/,TEL:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,ZIPCODE:/^[1-9]\d{5}(?!\d)$/,strlen:function(e){for(var t=0,i=0;i<e.length;i++)e.charAt(i).match(/[\u0391-\uFFE5]/)?t+=2:t++;return t}}},"G/H5":function(e,t){},G6Qc:function(e,t){},MXjg:function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{staticClass:"dep-maintain"},[o("PopFrame",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"addpopDepMain",attrs:{title:a.popTitle,isShow:a.popVisible},on:{close:a.closeMe}},[o("template",{staticClass:"addRelationPop-content",slot:"content"},[o("div",{ref:"ruleForm",staticClass:"depmain-div"},[a.showDate?o("div",{staticClass:"depmain-content"},[o("ul",a._l(a.getMentInfo,function(e){return o("li",{key:e.dictName},[o("span",[a._v(a._s(e.dictName))])])}))]):a._e(),a._v(" "),a.hiddenAdd?o("div",{staticClass:"depmain-add"},[o("div",{staticClass:"add-fixed"},[o("el-input",{ref:"svginput",model:{value:a.dictName,callback:function(e){a.dictName=e},expression:"dictName"}}),a._v(" "),o("div",{staticClass:"addSvg fr"},[o("span",{staticClass:"svgSpan",on:{click:a.addDep}},[o("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),a._v(" "),o("span",{staticClass:"svgSpan",on:{click:a.closeMe}},[o("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1),a._v(" "),o("div",{staticClass:"depmain-list"},[o("ul",a._l(a.getMentInfo,function(e){return o("li",{key:e.dictName},[o("span",[a._v(a._s(e.dictName))])])}))])]):a._e(),a._v(" "),a.hiddenEdit?o("div",{staticClass:"depmain-edit"},[o("div",{staticClass:"depmain-list"},[o("ul",{key:a.theulkey},a._l(a.getMentInfo,function(t,i){return o("li",{key:i,class:{showcurrent:i===a.currentIndex},on:{click:function(e){a.currentIndex=i}}},[a._o(o("span",{staticClass:"firstName"},[a._v(a._s(t.dictName))]),0,i),a._v(" "),o("div",{staticClass:"edit-hidden"},[o("el-input",{ref:"svginputEdit",refInFor:!0,model:{value:t.dictName,callback:function(e){a.$set(t,"dictName",e)},expression:"item.dictName"}}),a._v(" "),o("div",{staticClass:"addSvg"},[o("span",{staticClass:"svgSpan1",on:{click:function(e){a.editDep(t)}}},[o("icon-svg",{staticClass:"lll-dot-true",attrs:{"icon-class":"lll-dot-true"}})],1),a._v(" "),o("span",{staticClass:"svgSpan2",on:{click:function(e){a.delDep(t)}}},[o("icon-svg",{staticClass:"lll-dot-false",attrs:{"icon-class":"lll-dot-false"}})],1)])],1)])}))])]):a._e()])]),a._v(" "),a.showBotton?o("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){a.submitForm("ruleForm")}}},[a._v(a._s(a.addText))]),a._v(" "),o("el-button",{on:{click:a.editMe}},[a._v(a._s(a.editText))])],1):a._e(),a._v(" "),a.remBotton?o("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:a.closeMe}},[a._v(a._s(a.remText))])],1):a._e(),a._v(" "),o("div",{staticClass:"dialog-footer-frame",attrs:{slot:"footer"},slot:"footer"},[o("span")])],2)],1)},staticRenderFns:[]};t.a=a},OPz2:function(e,t,i){"use strict";var a={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("el-autocomplete",{ref:"myautocomplete",attrs:{"popper-class":"city-autocomplete","fetch-suggestions":i.querySearch,"value-key":"longAddr",placeholder:"请输入内容"},on:{select:i.handleSelect},scopedSlots:i._u([{key:"default",fn:function(e){var t=e.item;return[t.area?a("span",{staticClass:"city-area"},[i._v(i._s(t.area+","))]):i._e(),i._v(" "),t.city?a("span",{staticClass:"city-city"},[i._v(i._s(t.city+","))]):i._e(),i._v(" "),t.province?a("span",{staticClass:"city-province"},[i._v(i._s(t.province))]):i._e()]}}]),model:{value:i.cityName,callback:function(e){i.cityName=e},expression:"cityName"}})},staticRenderFns:[]};t.a=a},P39G:function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",t._b({ref:"myautocomplete",attrs:{placeholder:t.placeholder,filterable:t.filterable,"filter-method":t.makefilter},on:{change:t.change,focus:t.focus,blur:t.blur},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},"el-select",t.$attrs,!1),[t._t("head"),t._v(" "),t._l(t.listdata,function(e){return[t._t("default",[i("el-option",{key:e.id,attrs:{label:e.dictName,value:e.id}},[i("span",{staticClass:"query-input-myautocomplete",domProps:{innerHTML:t._s(t.highLight(e,"dictName"))}})])],{item:e})]}),t._v(" "),t._t("foot")],2)},staticRenderFns:[]};t.a=a},P5Di:function(e,t,i){"use strict";var a=i("R5Qd"),o=i("BeJv");var s=function(e){i("4zgh")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},R5Qd:function(e,t,i){"use strict";t.a={props:{width:{type:String,default:"546"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex)}},methods:{close:function(){this.$emit("close")}}}},RlEG:function(e,t,i){"use strict";var a=i("O6e2"),o=i("t5DY");t.a={props:{city:{type:String,default:""},value:{type:[String,Number,Object]}},watch:{city:{handler:function(e){this.cityName=e},immediate:!0},value:function(e){this.cityName=e}},computed:{},data:function(){return{cityName:"",lastQuery:"*",lastRequest:[]}},mounted:function(){var e=this;a.a.$on("closepopbox",function(){console.log("closepopbox selectCity:"),e.$refs.myautocomplete.close()})},methods:{querySearch:function(t,i){var a=this;t===this.lastQuery?i(this.lastRequest):Object(o._10)(t).then(function(e){a.lastQuery=t,a.lastRequest=e,i(e)})},handleSelect:function(e){this.$emit("input",e.id||0),this.$emit("change",e)}}}},"Ruw/":function(e,t,i){"use strict";var a={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"company clearfix"},[o("div",{staticClass:"company-box"},[o("div",{staticClass:"side_left"},[o("el-tree",{ref:"tree",attrs:{data:a.getDataTree,"node-key":"id","default-expanded-keys":[1],props:a.defaultProps,"default-expand-all":""},on:{"node-click":a.getCheckedKeys},scopedSlots:a._u([{key:"default",fn:function(e){var t=e.node,i=e.data;return o("span",{staticClass:"custom-tree-node"},[o("span",{class:[31===i.status?"treeClass":"treeAct"]},[a._v(a._s(t.label))])])}}])})],1),a._v(" "),o("div",{staticClass:"side_right"},[o("el-collapse",{attrs:{accordion:"",change:"doLayout"}},[0===a.form.parentId?o("el-collapse-item",{attrs:{title:"公司信息:"}},[o("div",{staticClass:"side_right_top",class:{currActive:31===a.form.status}},[o("el-form",{staticClass:"demo-ruleForm",attrs:{model:a.form,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"公司名称","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.orgName,callback:function(e){a.$set(a.form,"orgName",e)},expression:"form.orgName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"机构类型","label-width":a.formLabelWidth}},[o("el-input",{attrs:{value:a.form.orgTypeName,disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"公司状态","label-width":a.formLabelWidth,disabled:"disabled"}},[o("el-input",{attrs:{value:32===a.form.status?"有效":"无效",disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.serviceName,callback:function(e){a.$set(a.form,"serviceName",e)},expression:"form.serviceName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.servicePhone,callback:function(e){a.$set(a.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"公司代码","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.networkCode,callback:function(e){a.$set(a.form,"networkCode",e)},expression:"form.networkCode"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.responsibleName,callback:function(e){a.$set(a.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.responsibleTelephone,callback:function(e){a.$set(a.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.city,callback:function(e){a.$set(a.form,"city",e)},expression:"form.city"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"详情地址","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.detailedAddr,callback:function(e){a.$set(a.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1)],1)]):o("el-collapse-item",{attrs:{title:"机构信息:"}},[o("div",{staticClass:"side_right_top",class:{currActive:31===a.form.status}},[o("el-form",{staticClass:"demo-ruleForm",attrs:{model:a.form,inline:!0,"label-position":"right",size:"mini"}},[o("el-form-item",{attrs:{label:"机构名称","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.orgName,callback:function(e){a.$set(a.form,"orgName",e)},expression:"form.orgName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"机构类型","label-width":a.formLabelWidth}},[o("el-input",{attrs:{value:a.form.orgTypeName,disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"机构状态","label-width":a.formLabelWidth,disabled:"disabled"}},[o("el-input",{attrs:{value:32===a.form.status?"有效":"无效",disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"客服人员","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.serviceName,callback:function(e){a.$set(a.form,"serviceName",e)},expression:"form.serviceName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"客服电话","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.servicePhone,callback:function(e){a.$set(a.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"上级机构","label-width":a.formLabelWidth}},[o("el-input",{attrs:{value:a.form.parentName||a.form.orgName,disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"经营类型","label-width":a.formLabelWidth}},[o("el-input",{attrs:{value:4===a.form.manageType?"加盟":"自营",disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"创建时间","label-width":a.formLabelWidth}},[o("el-input",{attrs:{value:a._f("parseTime")(a.form.createTime,"{y}/{m}/{d}"),disabled:""}})],1),a._v(" "),o("el-form-item",{attrs:{label:"机构代码","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.networkCode,callback:function(e){a.$set(a.form,"networkCode",e)},expression:"form.networkCode"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"负责人","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.responsibleName,callback:function(e){a.$set(a.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"负责人电话","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.responsibleTelephone,callback:function(e){a.$set(a.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),a._v(" "),o("el-form-item",{attrs:{label:"所在城市","label-width":a.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:a.form.city,callback:function(e){a.$set(a.form,"city",e)},expression:"form.city"}})],1)],1)],1)])],1),a._v(" "),o("div",{staticClass:"side_right_bottom clearfix"},[o("div",{staticClass:"btns_box_lrl clearfix"},[32===a.form.status?o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_ORG_ADD_EMP",arg:"SYSTEM_ORG_ADD_EMP"}],attrs:{type:"primary",size:a.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){a.doAction("addPeople")}}},[a._v("              新增员工\n          ")]):a._e(),a._v(" "),o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_ORG_DELETE_EMP",arg:"SYSTEM_ORG_DELETE_EMP"}],attrs:{type:"primary",size:a.btnsize,icon:"el-icon-delete",plain:""},on:{click:function(e){a.doAction("deletePeople")}}},[a._v("\n            删除员工\n          ")]),a._v(" "),o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_ORG_UPDATE_NETWORK",arg:"SYSTEM_ORG_UPDATE_NETWORK"}],attrs:{type:"primary",size:a.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){a.doAction("modifyNot")}}},[a._v("修改机构\n          ")]),a._v(" "),32===a.form.status?o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_ORG_ADD_NETWORK",arg:"SYSTEM_ORG_ADD_NETWORK"}],attrs:{type:"primary",size:a.btnsize,icon:"el-icon-circle-plus",plain:""},on:{click:function(e){a.doAction("addNot")}}},[a._v("\n            新增机构\n          ")]):a._e(),a._v(" "),o("el-button",{directives:[{name:"has",rawName:"v-has:SYSTEM_ORG_DEPT_MAINTAIN",arg:"SYSTEM_ORG_DEPT_MAINTAIN"}],attrs:{type:"primary",size:a.btnsize,icon:"el-icon-edit",plain:""},on:{click:function(e){a.doAction("depMain")}}},[a._v("部门维护\n          ")]),a._v(" "),o("el-col",{staticClass:"org-name"},[o("h4",[a._v(a._s(a.form.orgName))])])],1),a._v(" "),o("div",{staticClass:"info_news"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:a.usersArr,stripe:"",border:"","tooltip-effect":"dark",height:"100%"},on:{"row-click":a.clickDetails,"selection-change":a.seleClick}},[o("el-table-column",{attrs:{type:"selection",width:"50"}}),a._v(" "),o("el-table-column",{attrs:{width:"60",label:"序号"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v(a._s((a.pageNum-1)*a.pageSize+e.$index+1))]}}])}),a._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"name",width:"150",label:"姓名"}}),a._v(" "),o("el-table-column",{attrs:{prop:"orgName",sortable:"",width:"230",label:"归属机构"}}),a._v(" "),o("el-table-column",{attrs:{prop:"departmentName",sortable:"",width:"150",label:"归属部门"}}),a._v(" "),o("el-table-column",{attrs:{prop:"position",sortable:"",width:"150",label:"职务"}}),a._v(" "),o("el-table-column",{attrs:{prop:"username",sortable:"",width:"200",label:"登录账号"}}),a._v(" "),o("el-table-column",{attrs:{sortable:"",width:"220",prpo:"rolesId",label:"权限角色"},scopedSlots:a._u([{key:"default",fn:function(e){return["0"!==e.row.rolesId?o("span",[a._v(a._s(e.row.rolesName))]):o("span",{staticClass:"unauth"},[a._v("未授权")])]}}])}),a._v(" "),o("el-table-column",{attrs:{label:"性别",sortable:"",prpo:"sexFlag",width:"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                "+a._s("0"===e.row.sexFlag?"男":"女")+"\n              ")]}}])}),a._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"mobilephone",label:"联系手机"}})],1)],1)])],1),a._v(" "),o("AddDot",{attrs:{dotInfo:a.getform,orgid:a.getOrgId||a.otherinfo.orgid,companyId:a.otherinfo.companyId,isModify:a.isModify,getCheckedKeyId:a.getCheckedKeyId,popVisible:a.addDoTotVisible},on:{success:a.updateSuccess,close:a.closeAddDot}}),a._v(" "),o("AddPeople",{attrs:{popVisible:a.addPeopleVisible,orgid:a.getOrgId||a.otherinfo.orgid},on:{"update:popVisible":function(e){a.addPeopleVisible=e},close:a.closeAddPeople,success:function(e){a.fetchOrgId(a.getOrgId)}}}),a._v(" "),o("DepMaintain",{attrs:{popVisible:a.addDepMaintainisible,isDepMain:a.isDepMain,dotInfo:a.usersArr,createrId:a.otherinfo.orgid},on:{"update:popVisible":function(e){a.addDepMaintainisible=e},close:a.closeDep}})],1),a._v(" "),o("div",{staticClass:"info_news_footer"},[o("div",{staticClass:"checked_footer"},[o("el-checkbox",{attrs:{value:"checkbox",checked:"checked"},model:{value:a.checkedInput,callback:function(e){a.checkedInput=e},expression:"checkedInput"}},[a._v("过滤失效机构")])],1),a._v(" "),o("div",{staticClass:"total_footer"},[a._v("共计:"+a._s(a.total))]),a._v(" "),o("div",{staticClass:"show_pager"},[o("Pager",{attrs:{total:a.total},on:{change:a.handlePageChange}})],1)])])},staticRenderFns:[]};t.a=a},T8y6:function(e,t,i){"use strict";t.e=function(e){return a.a.get("/"+o+"/system/org/v1/"+e)},t.h=function(e){return a.a.post("/"+o+"/system/org/v1/save/",e)},t.j=function(e){return a.a.put("/"+o+"/system/org/v1/edit/",e)},t.f=function(e){return a.a.get("/"+o+"/system/dict/v1/selectDictInfo",{params:{dictType:"department_type",orgId:e}}).then(function(e){return e.data||[]})},t.g=function(e,t){return a.a.post("/"+o+"/system/dict/v1/",{dictType:"department_type",dictRemark:"部门类型",dict_value:"",orgid:e,dictName:t}).then(function(e){return e.data||[]})},t.a=function(e){return a.a.delete("/"+o+"/system/dict/v1/"+e)},t.i=function(e,t,i){return a.a.put("/"+o+"/system/dict/v1/",{dictType:"department_type",dictRemark:"部门类型",id:i,orgid:e,dictName:t}).then(function(e){return e.data||[]})},t.c=function(e){return a.a.get("/"+o+"/system/dict/v1/selectDictInfo",{params:{dictType:"network_type",orgId:e}}).then(function(e){return e.data||[]})},t.b=function(e){return a.a.get("/"+o+"/system/dict/v1/selectDictInfo",{params:{dictType:"manage_type",orgId:e}}).then(function(e){return e.data||[]})},t.d=function(e){return a.a.get("/"+o+"/system/dict/v1/selectDictInfo",{params:{dictType:"network_status",orgId:e}}).then(function(e){return e.data||[]})};var a=i("Vo7i"),o="aflc-common"},"Ti5/":function(e,t){},TuGF:function(e,t,i){"use strict";var a=i("pFYg"),o=i.n(a),s=i("Dd8w"),r=i.n(s),n=i("O6e2"),l=(i("t5DY"),i("NYxO")),c=i("TuU3");t.a={name:"selectType",props:{focus:{type:Function,default:function(){}},blur:{type:Function,default:function(){}},orgid:{type:[Number,String],default:""},type:{type:String,default:"",required:!0},placeholder:{type:String,default:"请选择"},value:{type:[Number,String,Array]},remote:{type:Boolean,default:!1},arterDelivery:{type:Boolean,default:!1},filterfn:{type:Function},filterable:{type:Boolean,default:!0}},data:function(){return{val:"",queryFn:function(e){return e},types:[],dataCache:{},query:""}},watch:{value:{handler:function(e){/\d+/.test(e)?this.val=parseInt(e,10)||"":this.val=e||""},immediate:!0}},mounted:function(){var e=this;if(this.remote)this.fetchData();else{var t=c.a.get(this.type);""===t?this.fetchData():this.types=t}"function"==typeof this.filterfn&&(this.queryFn=this.filterfn),n.a.$on("closepopbox",function(){e.$refs.myautocomplete&&e.$refs.myautocomplete.handleClose&&e.$refs.myautocomplete.handleClose()})},computed:r()({listdata:function(){return this.types.filter(this.queryFn)}},Object(l.b)(["otherinfo"])),methods:{makefilter:function(e){this.query=e;var t=new RegExp(e,"i"),i=function(e){return console.log(e.dictName,t,t.test(e.dictName)),t.test(e.dictName)};""===e&&(i=function(e){return e}),console.log("typeof this.filterfn",o()(this.filterfn)),"function"==typeof this.filterfn&&(i=this.filterfn),this.queryFn=i},fetchData:function(){},highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},change:function(e){this.$emit("input",this.val),this.$emit("change",e)}}}},TuU3:function(e,t,i){"use strict";window.TMS_DATA_CACHE={};var a={get:function(e){return""},set:function(e,t){return window.TMS_DATA_CACHE[e]=t}};t.a=a},UFdi:function(e,t,i){"use strict";var a=i("3EPC"),o=i("T8y6");t.a={components:{PopFrame:a.a},props:{popVisible:{type:Boolean,default:!1},dotInfo:[Object,Array],isDepMain:{type:Boolean,default:!1},createrId:[Number,String]},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{theulkey:"theulkey",currentIndex:0,checked1:!0,popTitle:"部门",loading:!1,getMentInfo:[{dictName:"",id:""}],checked:!0,checked2:!0,hiddenAdd:!1,hiddenEdit:!1,showDate:!1,dictName:"",orderId:"",resInfo:[{dictName:""}],addText:"添加",editText:"编辑",remText:"关闭",showBotton:!1,remBotton:!1,restaurants:[]}},computed:{isShow:{get:function(){return this.popVisible},set:function(){}}},watch:{isDepMain:function(){this.isDepMain&&(this.popTitle="部门",this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0)},dotInfo:function(e){},popVisible:function(e){this.popVisible&&this.getSelectDict()},createrId:function(e){}},mounted:function(){},methods:{editDepFun:function(){},resetValue:function(e,t){return function(){e.dictName=t}},getSelectDict:function(){var t=this;this.loading=!0,Object(o.f)(this.createrId).then(function(e){t.getMentInfo=e,t.loading=!1,t.theulkey=(Math.random()+"").substr(2)}).catch(function(e){t.$message.error(e.errorInfo||e.text||"未知错误，请重试~")})},getAddDate:function(){var t=this;return this.loading=!0,Object(o.g)(this.createrId,this.dictName).then(function(e){t.dictName="",t.loading=!1}).catch(function(e){t.$message.error(e.errorInfo||e.text||"未知错误，请重试~")})},closeMe:function(e){"部门"===this.popTitle?(this.$emit("close"),"function"==typeof e&&e()):this.reset()},editMe:function(){var e=this;this.popTitle="编辑",this.remBotton=!0,this.showBotton=!1,this.hiddenAdd=!1,this.hiddenEdit=!0,this.showDate=!1,this.currentIndex=0,setTimeout(function(){e.$refs.svginputEdit.focus()},100)},submitForm:function(e){var t=this;this.popTitle="添加",this.hiddenAdd=!0,this.showBotton=!1,this.hiddenEdit=!1,this.showDate=!1,setTimeout(function(){t.$refs.svginput.focus()},100)},reset:function(){this.popTitle="部门",this.remBotton=!1,this.showBotton=!0,this.hiddenAdd=!1,this.hiddenEdit=!1,this.showDate=!0},addDep:function(){var t=this;if(!this.dictName)return this.$message({message:"请输入用户名~",type:"warning"}),!1;this.loading=!0,this.getAddDate().then(function(e){t.$message({type:"success",message:"添加成功!"}),t.getSelectDict(t.createrId),t.closeMe(),t.loading=!1}).catch(function(e){t.$message.error(e.errorInfo||e.text||"未知错误，请重试~")})},editDep:function(e){var t=this,i=e.id;if(this.dictName=e.dictName,0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.loading=!0,Object(o.i)(this.createrId,this.dictName,i).then(function(e){t.$message({type:"success",message:"修改成功!"}),t.closeMe(),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t.$message.error(e.errorInfo||e.text||"未知错误，请重试~")})},delDep:function(e){var t=this,i=e.id,a=e.dictName;if(0===e.orgid)return this.$message({type:"info",message:"系统默认部门不能修改!"}),!1;this.$confirm("确定要删除 "+a+" 部门吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){t.loading=!0,Object(o.a)(i,t.otherinfo.orgid).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getSelectDict(),t.theulkey=(Math.random()+"").substr(2),t.loading=!1}).catch(function(e){t.$message({type:"info",message:e.errorInfo||e.text||"未知错误，请重试~"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}}},"VT+v":function(e,t,i){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,400]}},total:{type:Number,default:0},pageLog:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){1==this.pageLog&&(this.pageNum=1)}},mounted:function(){this.size=this.sizes[0],this.pageNum=this.pageLog},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:100}},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizesChange:function(){this.pageNum=1,this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,i=e.target;console.log("page keydown:",t,i),13===t&&this.oldValue&&i.value!==this.oldValue&&(this.handleChange(i.value),this.oldValue="")},jumpTo:function(e){console.log("d",this.inputval),e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},XvyP:function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{ref:"myautocomplete",staticClass:"select-tree",attrs:{disabled:t.disabled},on:{change:t.change},model:{value:t.aid,callback:function(e){t.aid=e},expression:"aid"}},t._l(t.openGroups,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[i("div",{class:"indent indent"+e.index},[t._v(t._s(e.name))])])}))},staticRenderFns:[]};t.a=a},Yt3t:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("UFdi"),o=i("MXjg");var s=function(e){i("2tpq")},r=i("VU/8")(a.a,o.a,s,null,null);t.default=r.exports},ZdV2:function(e,t){},"co/t":function(e,t){},dcg1:function(e,t){},eJ4C:function(e,t){},i1bd:function(e,t,i){"use strict";var a=i("mvHQ"),s=i.n(a),o=i("//Fk"),r=i.n(o),n=i("woOf"),l=i.n(n),c=i("Dd8w"),d=i.n(c),u=i("E4LH"),m=i("u8ra"),f=i("P5Di"),h=i("o9X6"),p=i("NYxO");t.a={components:{popRight:f.a,SelectTree:h.a},props:{popVisible:{type:Boolean,default:!1},orgid:{required:!0},isModify:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){}}},computed:d()({},Object(p.b)(["otherinfo"])),data:function(){return{querykey:"11",form:{name:"",mobilephone:"",username:"",password:"123456",position:"",jobNumber:"",sexFlag:"",orgid:"",rolesId:[],departmentId:"",hireTime:"",qywxUserId:""},formLabelWidth:"80px",tooltip:!1,rules:{name:[{required:!0,message:"请输入用户姓名"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],mobilephone:[{required:!0,message:"请输入手机号码",pattern:u.a.MOBILE}],username:[{required:!0,message:"请输入有效的登录账号",pattern:u.a.USERNAME},{max:15,message:"不能超过15个字符",trigger:"blur"}],position:[{max:10,message:"不能超过10个字符",trigger:"blur"}]},popTitle:"新增员工",orgArr:[],rolesArr:[],departmentArr:[],loading:!1,roles:[],departments:[],groups:[],inited:!1,query:"",roleslist:[]}},mounted:function(){this.form.orgid=this.orgid,this.inited||(this.inited=!0,this.initInfo())},watch:{popVisible:function(e,t){this.inited||(this.inited=!0,this.initInfo())},orgid:function(e){this.form.orgid=e},userInfo:function(){if(this.isModify){this.popTitle="修改员工";l()({},this.userInfo);for(var e in this.form)this.form[e]=this.userInfo[e];this.form.rolesId=0===this.userInfo.rolesIdList?"":this.userInfo.rolesIdList}else{for(var t in this.popTitle="新增员工",this.form)this.form[t]="password"===t?"123456":"rolesId"===t?[]:"";this.form.orgid=this.orgid}}},methods:{highLight:function(e,t){return""!==this.query?this.setHightLight(e[t],this.query):e[t]},setHightLight:function(e,t){return e.replace(new RegExp(t,"igm"),'<i class="highlight">'+t+"</i>")},makefilter:function(e){this.query=e;var t=new RegExp(e,"i");this.roleslist=this.roles.filter(function(e){return t.test(e.roleName)})},initInfo:function(){var t=this;return this.loading=!0,r.a.all([Object(m.d)(this.otherinfo.companyId),Object(m.e)(this.otherinfo.companyId)]).then(function(e){t.loading=!1,t.roles=e[0].list,t.roleslist=t.roles,t.departments=e[1]}).catch(function(e){t.$message.error("错误1："+(e.text||e.errInfo||e.data||s()(e))),t.loading=!1,t.inited=!1})},getOrgid:function(e){this.form.orgid=e},reset:function(){var e=this.form.orgid;this.$refs.ruleForm.resetFields(),console.log("id",e,this.form.orgid),this.form.orgid=e},submitForm:function(e,a){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;o.loading=!0;var t=l()({},o.form),i=void 0;t.rolesId=t.rolesId.join(","),o.isModify?(t.id=o.userInfo.id,i=Object(m.h)(t)):(t.password=o.$md5(t.password),i=Object(m.g)(t)),i.then(function(e){o.loading=!1,o.$message({type:"success",message:"保存成功!"}),o.reset(),a||o.closeMe(),o.$emit("success")}).catch(function(e){o.$message.error("错误2："+(e.text||e.errInfo||e.data||s()(e))),o.loading=!1})})},closeMe:function(e){this.$refs.ruleForm.resetFields(),this.$emit("update:popVisible",!1),"function"==typeof e&&e()}}}},jlkz:function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-dot"},[i("pop-right",{staticClass:"addEmployeerPop",attrs:{title:t.popTitle,isShow:t.popVisible},on:{close:t.closeMe}},[i("template",{staticClass:"addEmployeerPop-content",slot:"content"},[t.companyId===t.form.id?i("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth,prop:"orgName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:t.companyId===t.form.id||31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"机构类型","label-width":t.formLabelWidth}},[i("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.companyId===t.form.id||31===t.form.status},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"公司状态","label-width":t.formLabelWidth,disabled:"disabled"}},[i("el-select",{attrs:{disabled:!(!t.isModify&&t.companyId===t.form.id||31===t.form.status)},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),i("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"公司代码","label-width":t.formLabelWidth,prop:"networkCode"}},[i("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status||t.companyId===t.form.id,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:""},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[i("el-input",{attrs:{"auto-complete":"off",maxlength:11,disabled:31===t.form.status},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"所在城市","label-width":t.formLabelWidth,prop:"city"}},[i("querySelect",{attrs:{filterable:"",show:"select",search:"longAddr",valuekey:"longAddr",disabled:t.companyId===t.form.id||31===t.form.status,type:"city",remote:!0,clearable:""},on:{change:t.getCity},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1)],1):i("el-form",{key:t.formKey,ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,inline:!0,"label-position":"right",size:"mini"}},[i("el-form-item",{attrs:{label:"机构名称","label-width":t.formLabelWidth,prop:"orgName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:15},model:{value:t.form.orgName,callback:function(e){t.$set(t.form,"orgName",e)},expression:"form.orgName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"机构类型","label-width":t.formLabelWidth}},[i("SelectType",{attrs:{type:"network_type",placeholder:"请选择",disabled:t.isModify},model:{value:t.form.orgType,callback:function(e){t.$set(t.form,"orgType",e)},expression:"form.orgType"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"机构状态","label-width":t.formLabelWidth,disabled:"disabled"}},[i("el-select",{attrs:{disabled:!t.isModify},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("el-option",{attrs:{label:"有效",value:32}}),t._v(" "),i("el-option",{attrs:{label:"无效",value:31}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"上级机构","label-width":t.formLabelWidth}},[i("SelectTree",{attrs:{disabled:t.isModify||31===t.form.status,orgid:t.form.parentId||t.otherinfo.orgid},on:{change:t.canadd},model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"经营类型","label-width":t.formLabelWidth}},[i("el-select",{attrs:{disabled:31===t.form.status},model:{value:t.form.manageType,callback:function(e){t.$set(t.form,"manageType",e)},expression:"form.manageType"}},[i("el-option",{attrs:{label:"自营",value:3}}),t._v(" "),i("el-option",{attrs:{label:"加盟",value:4}})],1)],1),t._v(" "),t.isModify?i("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[i("el-input",{attrs:{value:t._f("parseTime")(t.form.createTime,"{y}/{m}/{d}"),disabled:t.isModify||31===t.form.status}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"responsibleName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.responsibleName,callback:function(e){t.$set(t.form,"responsibleName",e)},expression:"form.responsibleName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"responsibleTelephone"}},[i("el-input",{attrs:{maxlength:11,"auto-complete":"off",disabled:31===t.form.status},model:{value:t.form.responsibleTelephone,callback:function(e){t.$set(t.form,"responsibleTelephone",e)},expression:"form.responsibleTelephone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服人员","label-width":t.formLabelWidth,prop:"serviceName"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,clearable:"",maxlength:10},model:{value:t.form.serviceName,callback:function(e){t.$set(t.form,"serviceName",e)},expression:"form.serviceName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客服电话","label-width":t.formLabelWidth,prop:"servicePhone",clearable:""}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:11},model:{value:t.form.servicePhone,callback:function(e){t.$set(t.form,"servicePhone",e)},expression:"form.servicePhone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"详细地址","label-width":t.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off",disabled:31===t.form.status,maxlength:30},model:{value:t.form.detailedAddr,callback:function(e){t.$set(t.form,"detailedAddr",e)},expression:"form.detailedAddr"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"机构代码","label-width":t.formLabelWidth,prop:"networkCode"}},[i("el-input",{attrs:{"auto-complete":"off ",disabled:31===t.form.status,maxlength:10,clearable:""},model:{value:t.form.networkCode,callback:function(e){t.$set(t.form,"networkCode",e)},expression:"form.networkCode"}})],1),t._v(" "),i("br"),t._v(" "),t.isModify?t._e():i("div",{staticClass:"ad-add-dot"},[i("el-checkbox",{attrs:{checked:""},model:{value:t.form.accountStatus,callback:function(e){t.$set(t.form,"accountStatus",e)},expression:"form.accountStatus"}},[t._v("开通管理员账号")]),t._v(" "),i("p",[t._v(" 密码：123456")])],1),t._v(" "),t.form.accountStatus&&!t.isModify?i("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"label-width":t.formLabelWidth,prop:"accountName"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",enterable:!1,manual:!0,value:t.tooltip,tabindex:"-1"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("账号可以由字母、数字组成"),i("br"),t._v("长度范围2~15个字符")]),t._v(" "),i("el-input",{attrs:{"auto-complete":"off"},on:{focus:function(e){t.tooltip=!0},blur:function(e){t.tooltip=!1}},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName","string"==typeof e?e.trim():e)},expression:"form.accountName"}})],1)],1):t._e(),t._v(" "),i("div",{staticClass:"rem-add-dot"},[i("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth,prop:""}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"不可超300字","auto-complete":"off",maxlength:300},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm",!0)}}},[t._v("保存并添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.closeMe}},[t._v("取 消")])],1)],2)],1)},staticRenderFns:[]};t.a=a},juIs:function(e,t,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tms-pagenation"},[i("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(1)}}},[i("span",{staticClass:"first-page"})]),i("span",{staticClass:"page-num",class:{disabled:t.pageNum<=1},on:{click:function(e){t.jumpTo(t.pageNum-1)}}},[i("span",{staticClass:"prev-page"})]),t._v(" "),i("span",{staticClass:"page-jumper"},[t._v("\n    第\n    "),i("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:t.pages,type:"number",disabled:t.pages<=1},on:{change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keydown:function(e){return t.handleKeyup(e)}},model:{value:t.inputval,callback:function(e){t.inputval="string"==typeof e?e.trim():e},expression:"inputval"}}),t._v(" 页\n  ")],1),t._v("\n  /共 "+t._s(t.pages)+" 页\n  "),i("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pageNum+1)}}},[i("span",{staticClass:"next-page"})]),t._v(" "),i("span",{staticClass:"page-num",class:{disabled:t.pageNum===t.pages},on:{click:function(e){t.jumpTo(t.pages)}}},[i("span",{staticClass:"last-page"})]),t._v(" "),i("span",{staticClass:"tms-pagination__sizes"},[i("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:t.sizesChange},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},t._l(t.sizes,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:e}})}))],1)])},staticRenderFns:[]};t.a=a},"m/bU":function(e,t){},nofg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("i1bd"),o=i("28Un");var s=function(e){i("/18W")},r=i("VU/8")(a.a,o.a,s,null,null);t.default=r.exports},o9X6:function(e,t,i){"use strict";var a=i("BTi/"),o=i("XvyP");var s=function(e){i("G/H5")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},pAQG:function(e,t,i){"use strict";var a=i("9Ff8"),o=i("24Or");var s=function(e){i("G6Qc")},r=i("VU/8")(a.a,o.a,s,null,null);t.a=r.exports},qYK6:function(e,t,i){"use strict";t.a={props:{width:{type:String,default:"400"},title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1}},data:function(){return{zIndex:(window.tmsPopZindex?window.tmsPopZindex+=1:window.tmsPopZindex=1e3,window.tmsPopZindex)}},methods:{close:function(){this.$emit("close")}}}},rGZl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("DyFr"),o=i("Ruw/");var s=function(e){i("BN8K")},r=i("VU/8")(a.a,o.a,s,null,null);t.default=r.exports},t5DY:function(e,t,i){"use strict";t._10=function(t){return t=t||"",s.a.get("/"+r+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})},t._14=function(e){return s.a.get("/"+r+"/common/aflcCommonPCA/v1/findAllStreetby/"+e)},t._12=function(e){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/"+e,method:"get"})},t._13=function(e){return Object(s.a)({url:"/"+r+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+e,method:"get"})},t._11=function(e){return Object(s.a)({url:"/"+r+"/sysDict/findAflcCommonSysDictBycode/"+e,method:"get"})},t.s=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00424")},t.r=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF021")},t.u=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF040")},t.f=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF048")},t.j=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02004")},t.T=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF02003")},t.M=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF017")},t.p=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF018")},t.q=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF009")},t.n=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05602")},t.m=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05603")},t.V=function(e,t){return Object(s.a)({url:"/"+n+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+e+"/"+t,method:"get"})},t.O=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00101")},t.o=function(){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},t.N=function(){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},t.G=function(){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},t.R=function(){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},t.z=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00503")},t.K=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00207")},t.k=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00206")},t.Q=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00209")},t.S=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF062")},t.I=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF063")},t.L=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF064")},t.i=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF057")},t.l=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00210")},t.J=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF066")},t.y=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF074")},t.x=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF075")},t.t=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF076")},t.P=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF077")},t.H=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF078")},t.v=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00211")},t.w=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF06803")},t.F=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08501")},t.A=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08506")},t.h=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08502")},t.E=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08507")},t.B=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00513")},t.C=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880301")},t.D=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880302")},t.X=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08403")},t.U=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08404")},t.a=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880303")},t.e=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08805")},t.d=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08804")},t.c=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08808")},t.g=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0880304")},t.W=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08810")},t._20=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF00418")},t.b=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF08802")},t._17=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710801")},t._18=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF05006")},t._16=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF04913")},t.Y=function(){return s.a.get("/"+r+"/sysDict/getSysDictByCodeGet/AF0710803")},t._15=function(e){return window.UPLOADPOLICYDATA?new o.a(function(e){e(window.UPLOADPOLICYDATA)}):s.a.get("/aflc-common/common/oss/v1/policy?bucket="+e).then(function(e){return window.UPLOADPOLICYDATA=e.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},t._9=function(e){return s.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+e)},t._8=function(){return s.a.get("/"+n+"/sm/aflcDistrict/v1/getProvinceList")},t._5=function(e){return Object(s.a)({url:"/"+n+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:e}})},t._4=function(){return s.a.get("/"+n+"/sm/aflcSysDict/v1/getCarTypeList")},t._7=function(){return s.a.get("/"+n+"/sm/aflcSysDict/v1/getServiceClassList")},t._6=function(){return Object(s.a)({url:"/"+r+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},t.Z=function(){return s.a.get("/"+r+"/common/aflcCityTree/v1/treaCode")},t._2=function(){return s.a.get("/"+r+"/common/aflcCityTree/v1/provinceCode")},t._0=function(e){return s.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+e)},t._1=function(e){return s.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+e)},t._3=function(e){return Object(s.a)({url:"/"+l+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:e})},t._19=function(e){return Object(s.a)({url:"/"+r+"/system/user/v1/operate/staff",method:"post",data:e})};var a=i("//Fk"),o=i.n(a),s=i("Vo7i"),r="aflc-common",n="aflc-sm",l="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""},u8ra:function(e,t,i){"use strict";t.b=function(i,e){return n.a.get("/"+l+"/system/org/v1/tree/"+i).then(function(e){var t=e.data||[];return s[i]=t})},t.f=function(i,e){return n.a.post("/"+l+"/system/org/v1/tree/"+i).then(function(e){var t=e.data||[];return s[i]=t})},t.e=c,t.d=d,t.c=function(e,t,i,a,o){var s=e;"object"!==(void 0===e?"undefined":r()(e))&&(s={pageSize:a,currentPage:o,vo:{name:t,orgid:e,mobilephone:i}});return n.a.post("/"+l+"/system/user/v1/findAllInfo",s).then(function(e){return e.data||{total:0,list:[]}})},t.g=function(e){return n.a.post("/"+l+"/system/user/v1/",e)},t.h=function(e){return n.a.put("/"+l+"/system/user/v1/",e)},t.a=function(e){return n.a.delete("/"+l+"/system/user/v1/"+e)},t.i=function(e){return n.a.put("/"+l+"/system/user/v1/usersAuth",e)},t.j=function(e){return n.a.put("/aflc-common/common/aflcCommonUser/v1/resetPlatformAdminPassword",e)},t.k=function(e){return n.a.delete("/"+l+"/system/user/v1/"+e+"/userDimission")};var a=i("//Fk"),o=(i.n(a),i("pFYg")),r=i.n(o),n=i("Vo7i"),l="aflc-common";var s={};function c(e){return n.a.get("/"+l+"/system/dict/v1/selectDictInfo",{params:{dictType:"department_type",orgId:e}}).then(function(e){return e.data||[]})}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return n.a.post("/"+l+"/system/role/v1/findAllInfo",{currentPage:i,pageSize:t,vo:{orgid:e,rolesName:""}}).then(function(e){return e.data||{total:0,list:[]}})}}});