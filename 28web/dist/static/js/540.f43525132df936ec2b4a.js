webpackJsonp([540],{"+7mC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("eru/"),i=n("QT4k");var a=function(t){n("0ctP")},o=n("VU/8")(r.a,i.a,a,"data-v-a09def3a",null);e.default=o.exports},"0ctP":function(t,e){},QT4k:function(t,e,n){"use strict";var r={render:function(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticClass:"identicalStyle exchangeMember"},[i("div",{staticClass:"classify_info"},[i("div",{staticClass:"info_news"},[i("el-table",{directives:[{name:"has",rawName:"v-has:MARKETING_DRIVER_MEMBER_SYSTEM_DRIVER_MEMBER_EXCHANGE_LIST",arg:"MARKETING_DRIVER_MEMBER_SYSTEM_DRIVER_MEMBER_EXCHANGE_LIST"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:r.tableData,"span-method":r.objectSpanMethod,border:"",stripe:"",align:"center",height:"100%","tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"序号",width:"60"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s((r.listSystemObj.currentPage-1)*r.listSystemObj.pageSize+t.$index+1)+"\n                        ")]}}])}),r._v(" "),i("el-table-column",{attrs:{prop:"firstMemberGrade",label:"一级会员等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"secondMemberGrade","show-overflow-tooltip":!0,label:"二级会员等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"winOrderGradeName",label:"中单等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"rewardGradeName",label:"奖励等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"commissionGradeName",label:"抽佣等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"extractCashGradeName",label:"提现等级"}}),r._v(" "),i("el-table-column",{attrs:{prop:"minBehaviorScore",label:"兑换时最低行为分"},scopedSlots:r._u([{key:"default",fn:function(t){var e=t.row,n=t.$index;return[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{size:r.inputSize,clearable:""},on:{blur:function(t){r.checkbehaviorScore(e,n)}},model:{value:e.minBehaviorScore,callback:function(t){r.$set(e,"minBehaviorScore",t)},expression:"row.minBehaviorScore"}})]}}])}),r._v(" "),i("el-table-column",{attrs:{prop:"platformCoin",label:"兑换所需28币"},scopedSlots:r._u([{key:"default",fn:function(t){var e=t.row,n=t.$index;return[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{size:r.inputSize,clearable:""},on:{blur:function(t){r.checkCoin(e,n)}},model:{value:e.platformCoin,callback:function(t){r.$set(e,"platformCoin",t)},expression:"row.platformCoin"}})]}}])}),r._v(" "),i("el-table-column",{attrs:{prop:"memberExpireDate",label:"会员有效期（天）"},scopedSlots:r._u([{key:"default",fn:function(e){return[i("el-input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],attrs:{size:r.inputSize,clearable:""},model:{value:e.row.memberExpireDate,callback:function(t){r.$set(e.row,"memberExpireDate",t)},expression:"scope.row.memberExpireDate"}})]}}])}),r._v(" "),i("el-table-column",{attrs:{width:"120",prop:"usingStatus",label:"状态"},scopedSlots:r._u([{key:"default",fn:function(t){return[r._v("\n                            "+r._s("0"==t.row.usingStatus?"禁用":"启用")+"\n                        ")]}}])}),r._v(" "),i("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:r._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:r.btnsize,type:"0"==e.row.usingStatus?"primary":"info",disabled:!e.row.id,plain:""},on:{click:function(t){r.handleClick("status",e.row)}}},[r._v(r._s(0==e.row.usingStatus?"启用":"禁用"))])]}}])})],1)],1)]),r._v(" "),i("div",{staticClass:"member_footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-success",plain:"",size:"middle",disabled:r.btnShow},on:{click:function(t){r.handleClick("new")}}},[r._v("保  存")])],1)])},staticRenderFns:[]};e.a=r},c5Na:function(t,e,n){"use strict";e.f=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/addSystemMemberConfig",method:"post",data:t})},e.i=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/listSystemMemberConfig",method:"post",data:t})},e.l=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/updateSystemMemberConfig",method:"post",data:t})},e.h=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/listExchangeMemberConfig",method:"post",data:t})},e.k=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/updateExchangeMemberConfigUsingStatus/"+t,method:"post"})},e.e=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/addExchangeMemberConfig",method:"post",data:t})},e.g=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/listBuyMemberConfig",method:"post",data:t})},e.d=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/addBuyMemberConfig",method:"post",data:t})},e.j=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcMarketingMemberConfig/v1/updateBuyMemberConfigUsingStatus/"+t,method:"post"})},e.c=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcDriverBuyMemberDetail/v1/list",method:"post",data:t})},e.b=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcCoinsGrantDriver/v1/driverList",method:"post",data:t})},e.a=function(t){return Object(r.a)({url:"/"+i+"/usercenter/aflcCoinsGrantDriverDetail/v1/list",method:"post",data:t})};var r=n("Vo7i"),i="aflc-uc"},"eru/":function(t,e,n){"use strict";var o=n("c5Na"),s=n("0xDb"),r=n("t5DY");e.a={components:{},data:function(){return{btnsize:"mini",tableArr:[],spanArr:[],pos:0,btnShow:!1,inputSize:"small",loading:!1,listSystemObj:{currentPage:1,pageSize:1e5,vo:{}},tableData:[],behaviorScore:[]}},watch:{},created:function(){},mounted:function(){this.firstblood(),this.doActions()},beforeDestroy:function(){},methods:{checkCoin:function(t,e){return!!t.platformCoin&&(0!=e&&(e==this.tableData.length-1?parseInt(t.platformCoin)<=parseInt(this.tableData[e-1].platformCoin)&&(t.platformCoin="",this.$message({type:"warning",message:"当前兑换所需28币数量应大于前一条兑换所需28币数量设置！"})):this.tableData[e-1].platformCoin&&!this.tableData[e+1].platformCoin?parseInt(t.platformCoin)<=parseInt(this.tableData[e-1].platformCoin)&&(t.platformCoin="",this.$message({type:"warning",message:"当前兑换所需28币数量应大于前一条兑换所需28币数量设置！"})):!this.tableData[e-1].platformCoin&&this.tableData[e+1].platformCoin?parseInt(t.platformCoin)>=parseInt(this.tableData[e+1].platformCoin)&&(t.platformCoin="",this.$message({type:"warning",message:"当前兑换所需28币数量应小于后一条兑换所需28币数量设置！"})):this.tableData[e-1].platformCoin&&this.tableData[e+1].platformCoin?(parseInt(t.platformCoin)<=parseInt(this.tableData[e-1].platformCoin)||parseInt(t.platformCoin)>=parseInt(this.tableData[e+1].platformCoin))&&(t.platformCoin="",this.$message({type:"warning",message:"当前兑换所需28币数量应介于前后两条兑换所需28币数量设置！"})):void 0))},checkbehaviorScore:function(t,e){var n=this.behaviorScore[0].value;return""==t.minBehaviorScore?this.$message({type:"warning",message:"请输入兑换时最低行为分"}):parseInt(t.minBehaviorScore)<1?(t.minBehaviorScore="1",this.$message({type:"warning",message:"兑换时最低行为分最低为1分！"})):parseInt(t.minBehaviorScore)>parseInt(n)?(t.minBehaviorScore="12",this.$message({type:"warning",message:"兑换时最低行为分不可超过12分！"})):void 0},firstblood:function(){var n=this;this.loading=!0,Object(o.h)(this.listSystemObj).then(function(t){var e=[];n.tableArr=t.data,t.data.forEach(function(t){t.configs.forEach(function(t){e.push(t)})}),n.tableData=e,n.getSpanArr(n.tableData),n.loading=!1}).catch(function(t){n.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),n.loading=!1})},doActions:function(){var e=this;Object(r.i)().then(function(t){e.behaviorScore=t.data})},getSpanArr:function(t){this.spanArr=[];for(var e=this.pos=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].firstMemberGrade===t[e-1].firstMemberGrade?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e)},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(1===t.columnIndex){var n=this.spanArr[e];return{rowspan:n,colspan:0<n?1:0}}},handleClick:function(t,e){var n=this;switch(t){case"status":Object(o.k)(e.id).then(function(t){n.firstblood()}).catch(function(t){n.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)})});break;case"new":var r=[],i=!1,a=void 0;(r=Object(s.i)(this.tableData)).forEach(function(t){t.minBehaviorScore?t.platformCoin?t.memberExpireDate||(i=!0,a="会员有效期设置不可为空！"):(i=!0,a="兑换所需28币设置不可为空！"):(i=!0,a="兑换时最低行为分设置不可为空！")}),i?this.$message({type:"info",message:a}):(this.btnShow=!0,Object(o.e)(r).then(function(t){n.$message({type:"success",message:"保存成功！"}),n.btnShow=!1,n.firstblood()}).catch(function(t){n.$message({type:"warning",message:"操作失败，原因："+(t.errorInfo?t.errorInfo:t.text)}),n.btnShow=!1}))}}}}},t5DY:function(t,e,n){"use strict";e._10=function(e){return e=e||"",a.a.get("/"+o+"/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})},e._14=function(t){return a.a.get("/"+o+"/common/aflcCommonPCA/v1/findAllStreetby/"+t)},e._12=function(t){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/"+t,method:"get"})},e._13=function(t){return Object(a.a)({url:"/"+o+"/aflcCommonSysDistApi/findAflcCommonSysDictByCodes/"+t,method:"get"})},e._11=function(t){return Object(a.a)({url:"/"+o+"/sysDict/findAflcCommonSysDictBycode/"+t,method:"get"})},e.s=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00424")},e.r=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF021")},e.u=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF040")},e.f=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF048")},e.j=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02004")},e.T=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF02003")},e.M=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF017")},e.p=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF018")},e.q=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF009")},e.n=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05602")},e.m=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05603")},e.V=function(t,e){return Object(a.a)({url:"/"+s+"/sm/aflcStandardPrice/v1/getPriceByServiceAndCarType/"+t+"/"+e,method:"get"})},e.O=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00101")},e.o=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF009",method:"get"})},e.N=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF00208",method:"get"})},e.G=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF054",method:"get"})},e.R=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF053",method:"get"})},e.z=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00503")},e.K=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00207")},e.k=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00206")},e.Q=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00209")},e.S=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF062")},e.I=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF063")},e.L=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF064")},e.i=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF057")},e.l=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00210")},e.J=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF066")},e.y=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF074")},e.x=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF075")},e.t=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF076")},e.P=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF077")},e.H=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF078")},e.v=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00211")},e.w=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF06803")},e.F=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08501")},e.A=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08506")},e.h=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08502")},e.E=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08507")},e.B=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00513")},e.C=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880301")},e.D=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880302")},e.X=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08403")},e.U=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08404")},e.a=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880303")},e.e=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08805")},e.d=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08804")},e.c=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08808")},e.g=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0880304")},e.W=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08810")},e._20=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF00418")},e.b=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF08802")},e._17=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710801")},e._18=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF05006")},e._16=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF04913")},e.Y=function(){return a.a.get("/"+o+"/sysDict/getSysDictByCodeGet/AF0710803")},e._15=function(t){return window.UPLOADPOLICYDATA?new i.a(function(t){t(window.UPLOADPOLICYDATA)}):a.a.get("/aflc-common/common/oss/v1/policy?bucket="+t).then(function(t){return window.UPLOADPOLICYDATA=t.data||"",window.UPLOADPOLICYDATA_timer=setTimeout(function(){window.UPLOADPOLICYDATA=""},6e4),window.UPLOADPOLICYDATA})},e._9=function(t){return a.a.get("/aflc-common/common/oss/v1/generatePreSignedUrl?bucket=aflcprivate&key="+t)},e._8=function(){return a.a.get("/"+s+"/sm/aflcDistrict/v1/getProvinceList")},e._5=function(t){return Object(a.a)({url:"/"+s+"/sm/aflcDistrict/v1/lists",method:"post",data:{code:t}})},e._4=function(){return a.a.get("/"+s+"/sm/aflcSysDict/v1/getCarTypeList")},e._7=function(){return a.a.get("/"+s+"/sm/aflcSysDict/v1/getServiceClassList")},e._6=function(){return Object(a.a)({url:"/"+o+"/sysDict/getSysDictByCodeGet/AF025",method:"get"})},e.Z=function(){return a.a.get("/"+o+"/common/aflcCityTree/v1/treaCode")},e._2=function(){return a.a.get("/"+o+"/common/aflcCityTree/v1/provinceCode")},e._0=function(t){return a.a.get("/aflc-sm/sm/aflcAreaPrice/v1/open/"+t)},e._1=function(t){return a.a.get("/aflc-uc/usercenter/aflcLogisticsCompany/v1/companyName?id="+t)},e._3=function(t){return Object(a.a)({url:"/"+c+"/usercenter/aflcBusinessGroup/v1/findAflcSystemUserList",method:"post",data:t})},e._19=function(t){return Object(a.a)({url:"/"+o+"/system/user/v1/operate/staff",method:"post",data:t})};var r=n("//Fk"),i=n.n(r),a=n("Vo7i"),o="aflc-common",s="aflc-sm",c="aflc-uc";window.UPLOADPOLICYDATA="",window.UPLOADPOLICYDATA_timer=""}});